"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/web3-core";
exports.ids = ["vendor-chunks/web3-core"];
exports.modules = {

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/formatters.js":
/*!*************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/formatters.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.outputSyncingFormatter = exports.outputPostFormatter = exports.inputPostFormatter = exports.outputBlockFormatter = exports.outputTransactionReceiptFormatter = exports.outputLogFormatter = exports.inputLogFormatter = exports.inputTopicFormatter = exports.outputTransactionFormatter = exports.inputSignFormatter = exports.inputTransactionFormatter = exports.inputCallFormatter = exports.txInputOptionsFormatter = exports.inputAddressFormatter = exports.inputDefaultBlockNumberFormatter = exports.inputBlockNumberFormatter = exports.outputBigIntegerFormatter = exports.outputProofFormatter = exports.inputStorageKeysFormatter = void 0;\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_eth_iban_1 = __webpack_require__(/*! web3-eth-iban */ \"(api)/./src/pages/api/node_modules/web3-eth-iban/lib/commonjs/index.js\");\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_validator_1 = __webpack_require__(/*! web3-validator */ \"(api)/./src/pages/api/node_modules/web3-validator/lib/commonjs/index.js\");\n/* eslint-disable deprecation/deprecation */\n/**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given storage key array values to hex strings.\n */\nconst inputStorageKeysFormatter = (keys) => keys.map(num => (0, web3_utils_1.numberToHex)(num));\nexports.inputStorageKeysFormatter = inputStorageKeysFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Will format the given proof response from the node.\n */\nconst outputProofFormatter = (proof) => ({\n    address: (0, web3_utils_1.toChecksumAddress)(proof.address),\n    nonce: (0, web3_utils_1.hexToNumberString)(proof.nonce),\n    balance: (0, web3_utils_1.hexToNumberString)(proof.balance),\n});\nexports.outputProofFormatter = outputProofFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Should the format output to a big number\n */\nconst outputBigIntegerFormatter = (number) => (0, web3_utils_1.toNumber)(number);\nexports.outputBigIntegerFormatter = outputBigIntegerFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or the predefined block number 'latest', 'pending', 'earliest', 'genesis'\n */\nconst inputBlockNumberFormatter = (blockNumber) => {\n    if ((0, web3_validator_1.isNullish)(blockNumber)) {\n        return undefined;\n    }\n    if (typeof blockNumber === 'string' && (0, web3_validator_1.isBlockTag)(blockNumber)) {\n        return blockNumber;\n    }\n    if (blockNumber === 'genesis') {\n        return '0x0';\n    }\n    if (typeof blockNumber === 'string' && (0, web3_utils_1.isHexStrict)(blockNumber)) {\n        return blockNumber.toLowerCase();\n    }\n    return (0, web3_utils_1.numberToHex)(blockNumber);\n};\nexports.inputBlockNumberFormatter = inputBlockNumberFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Returns the given block number as hex string or does return the defaultBlock property of the current module\n */\nconst inputDefaultBlockNumberFormatter = (blockNumber, defaultBlock) => {\n    if (!blockNumber) {\n        return (0, exports.inputBlockNumberFormatter)(defaultBlock);\n    }\n    return (0, exports.inputBlockNumberFormatter)(blockNumber);\n};\nexports.inputDefaultBlockNumberFormatter = inputDefaultBlockNumberFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param address\n */\nconst inputAddressFormatter = (address) => {\n    if (web3_eth_iban_1.Iban.isValid(address) && web3_eth_iban_1.Iban.isDirect(address)) {\n        const iban = new web3_eth_iban_1.Iban(address);\n        return iban.toAddress().toLowerCase();\n    }\n    if ((0, web3_utils_1.isAddress)(address)) {\n        return `0x${address.toLowerCase().replace('0x', '')}`;\n    }\n    throw new web3_errors_1.FormatterError(`Provided address ${address} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`);\n};\nexports.inputAddressFormatter = inputAddressFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst txInputOptionsFormatter = (options) => {\n    var _a;\n    const modifiedOptions = Object.assign({}, options);\n    if (options.to) {\n        // it might be contract creation\n        modifiedOptions.to = (0, exports.inputAddressFormatter)(options.to);\n    }\n    if (options.data && options.input) {\n        throw new web3_errors_1.FormatterError('You can\\'t have \"data\" and \"input\" as properties of transactions at the same time, please use either \"data\" or \"input\" instead.');\n    }\n    if (!options.input && options.data) {\n        modifiedOptions.input = options.data;\n        delete modifiedOptions.data;\n    }\n    if (options.input && !options.input.startsWith('0x')) {\n        modifiedOptions.input = `0x${options.input}`;\n    }\n    if (modifiedOptions.input && !(0, web3_utils_1.isHexStrict)(modifiedOptions.input)) {\n        throw new web3_errors_1.FormatterError('The input field must be HEX encoded data.');\n    }\n    // allow both\n    if (options.gas || options.gasLimit) {\n        modifiedOptions.gas = (0, web3_utils_1.toNumber)((_a = options.gas) !== null && _a !== void 0 ? _a : options.gasLimit);\n    }\n    if (options.maxPriorityFeePerGas || options.maxFeePerGas) {\n        delete modifiedOptions.gasPrice;\n    }\n    ['gasPrice', 'gas', 'value', 'maxPriorityFeePerGas', 'maxFeePerGas', 'nonce', 'chainId']\n        .filter(key => !(0, web3_validator_1.isNullish)(modifiedOptions[key]))\n        .forEach(key => {\n        modifiedOptions[key] = (0, web3_utils_1.numberToHex)(modifiedOptions[key]);\n    });\n    return modifiedOptions;\n};\nexports.txInputOptionsFormatter = txInputOptionsFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst inputCallFormatter = (options, defaultAccount) => {\n    var _a;\n    const opts = (0, exports.txInputOptionsFormatter)(options);\n    const from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n    if (from) {\n        opts.from = (0, exports.inputAddressFormatter)(from);\n    }\n    return opts;\n};\nexports.inputCallFormatter = inputCallFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a transaction and converts all values to HEX\n */\nconst inputTransactionFormatter = (options, defaultAccount) => {\n    var _a;\n    const opts = (0, exports.txInputOptionsFormatter)(options);\n    // check from, only if not number, or object\n    if (!(typeof opts.from === 'number') && !(!!opts.from && typeof opts.from === 'object')) {\n        opts.from = (_a = opts.from) !== null && _a !== void 0 ? _a : defaultAccount;\n        if (!options.from && !(typeof options.from === 'number')) {\n            throw new web3_errors_1.FormatterError('The send transactions \"from\" field must be defined!');\n        }\n        opts.from = (0, exports.inputAddressFormatter)(options.from);\n    }\n    return opts;\n};\nexports.inputTransactionFormatter = inputTransactionFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Hex encodes the data passed to eth_sign and personal_sign\n */\nconst inputSignFormatter = (data) => ((0, web3_utils_1.isHexStrict)(data) ? data : (0, web3_utils_1.utf8ToHex)(data));\nexports.inputSignFormatter = inputSignFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction to its proper values\n * @function outputTransactionFormatter\n */\nconst outputTransactionFormatter = (tx) => {\n    const modifiedTx = Object.assign({}, tx);\n    if (tx.blockNumber) {\n        modifiedTx.blockNumber = (0, web3_utils_1.hexToNumber)(tx.blockNumber);\n    }\n    if (tx.transactionIndex) {\n        modifiedTx.transactionIndex = (0, web3_utils_1.hexToNumber)(tx.transactionIndex);\n    }\n    modifiedTx.nonce = (0, web3_utils_1.hexToNumber)(tx.nonce);\n    modifiedTx.gas = (0, web3_utils_1.hexToNumber)(tx.gas);\n    if (tx.gasPrice) {\n        modifiedTx.gasPrice = (0, exports.outputBigIntegerFormatter)(tx.gasPrice);\n    }\n    if (tx.maxFeePerGas) {\n        modifiedTx.maxFeePerGas = (0, exports.outputBigIntegerFormatter)(tx.maxFeePerGas);\n    }\n    if (tx.maxPriorityFeePerGas) {\n        modifiedTx.maxPriorityFeePerGas = (0, exports.outputBigIntegerFormatter)(tx.maxPriorityFeePerGas);\n    }\n    if (tx.type) {\n        modifiedTx.type = (0, web3_utils_1.hexToNumber)(tx.type);\n    }\n    modifiedTx.value = (0, exports.outputBigIntegerFormatter)(tx.value);\n    if (tx.to && (0, web3_utils_1.isAddress)(tx.to)) {\n        // tx.to could be `0x0` or `null` while contract creation\n        modifiedTx.to = (0, web3_utils_1.toChecksumAddress)(tx.to);\n    }\n    else {\n        modifiedTx.to = undefined; // set to `null` if invalid address\n    }\n    if (tx.from) {\n        modifiedTx.from = (0, web3_utils_1.toChecksumAddress)(tx.from);\n    }\n    return modifiedTx;\n};\nexports.outputTransactionFormatter = outputTransactionFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param topic\n */\n// To align with specification we use the type \"null\" here\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst inputTopicFormatter = (topic) => {\n    // Using \"null\" value intentionally for validation\n    // eslint-disable-next-line no-null/no-null\n    if ((0, web3_validator_1.isNullish)(topic))\n        return null;\n    const value = String(topic);\n    return (0, web3_validator_1.isHex)(value) ? value : (0, web3_utils_1.fromUtf8)(value);\n};\nexports.inputTopicFormatter = inputTopicFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * @param filter\n */\nconst inputLogFormatter = (filter) => {\n    var _a;\n    const val = (0, web3_validator_1.isNullish)(filter)\n        ? {}\n        : (0, web3_utils_1.mergeDeep)({}, filter);\n    // If options !== undefined, don't blow out existing data\n    if ((0, web3_validator_1.isNullish)(val.fromBlock)) {\n        val.fromBlock = web3_types_1.BlockTags.LATEST;\n    }\n    val.fromBlock = (0, exports.inputBlockNumberFormatter)(val.fromBlock);\n    if (!(0, web3_validator_1.isNullish)(val.toBlock)) {\n        val.toBlock = (0, exports.inputBlockNumberFormatter)(val.toBlock);\n    }\n    // make sure topics, get converted to hex\n    val.topics = (_a = val.topics) !== null && _a !== void 0 ? _a : [];\n    val.topics = val.topics.map(topic => Array.isArray(topic)\n        ? topic.map(exports.inputTopicFormatter)\n        : (0, exports.inputTopicFormatter)(topic));\n    if (val.address) {\n        val.address = Array.isArray(val.address)\n            ? val.address.map(addr => (0, exports.inputAddressFormatter)(addr))\n            : (0, exports.inputAddressFormatter)(val.address);\n    }\n    return val;\n};\nexports.inputLogFormatter = inputLogFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a log\n * @function outputLogFormatter\n */\nconst outputLogFormatter = (log) => {\n    const modifiedLog = Object.assign({}, log);\n    const logIndex = typeof log.logIndex === 'string'\n        ? log.logIndex\n        : (0, web3_utils_1.numberToHex)(log.logIndex);\n    // generate a custom log id\n    if (typeof log.blockHash === 'string' && typeof log.transactionHash === 'string') {\n        const shaId = (0, web3_utils_1.sha3Raw)(`${log.blockHash.replace('0x', '')}${log.transactionHash.replace('0x', '')}${logIndex.replace('0x', '')}`);\n        modifiedLog.id = `log_${shaId.replace('0x', '').slice(0, 8)}`;\n    }\n    else if (!log.id) {\n        modifiedLog.id = undefined;\n    }\n    if (log.blockNumber && (0, web3_utils_1.isHexStrict)(log.blockNumber)) {\n        modifiedLog.blockNumber = (0, web3_utils_1.hexToNumber)(log.blockNumber);\n    }\n    if (log.transactionIndex && (0, web3_utils_1.isHexStrict)(log.transactionIndex)) {\n        modifiedLog.transactionIndex = (0, web3_utils_1.hexToNumber)(log.transactionIndex);\n    }\n    if (log.logIndex && (0, web3_utils_1.isHexStrict)(log.logIndex)) {\n        modifiedLog.logIndex = (0, web3_utils_1.hexToNumber)(log.logIndex);\n    }\n    if (log.address) {\n        modifiedLog.address = (0, web3_utils_1.toChecksumAddress)(log.address);\n    }\n    return modifiedLog;\n};\nexports.outputLogFormatter = outputLogFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a transaction receipt to its proper values\n */\nconst outputTransactionReceiptFormatter = (receipt) => {\n    if (typeof receipt !== 'object') {\n        throw new web3_errors_1.FormatterError(`Received receipt is invalid: ${String(receipt)}`);\n    }\n    const modifiedReceipt = Object.assign({}, receipt);\n    if (receipt.blockNumber) {\n        modifiedReceipt.blockNumber = (0, web3_utils_1.hexToNumber)(receipt.blockNumber);\n    }\n    if (receipt.transactionIndex) {\n        modifiedReceipt.transactionIndex = (0, web3_utils_1.hexToNumber)(receipt.transactionIndex);\n    }\n    modifiedReceipt.cumulativeGasUsed = (0, web3_utils_1.hexToNumber)(receipt.cumulativeGasUsed);\n    modifiedReceipt.gasUsed = (0, web3_utils_1.hexToNumber)(receipt.gasUsed);\n    if (receipt.logs && Array.isArray(receipt.logs)) {\n        modifiedReceipt.logs = receipt.logs.map(exports.outputLogFormatter);\n    }\n    if (receipt.effectiveGasPrice) {\n        modifiedReceipt.effectiveGasPrice = (0, web3_utils_1.hexToNumber)(receipt.effectiveGasPrice);\n    }\n    if (receipt.contractAddress) {\n        modifiedReceipt.contractAddress = (0, web3_utils_1.toChecksumAddress)(receipt.contractAddress);\n    }\n    if (receipt.status) {\n        modifiedReceipt.status = Boolean(parseInt(receipt.status, 10));\n    }\n    return modifiedReceipt;\n};\nexports.outputTransactionReceiptFormatter = outputTransactionReceiptFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a block to its proper values\n * @function outputBlockFormatter\n */\nconst outputBlockFormatter = (block) => {\n    const modifiedBlock = Object.assign({}, block);\n    // transform to number\n    modifiedBlock.gasLimit = (0, web3_utils_1.hexToNumber)(block.gasLimit);\n    modifiedBlock.gasUsed = (0, web3_utils_1.hexToNumber)(block.gasUsed);\n    modifiedBlock.size = (0, web3_utils_1.hexToNumber)(block.size);\n    modifiedBlock.timestamp = (0, web3_utils_1.hexToNumber)(block.timestamp);\n    if (block.number) {\n        modifiedBlock.number = (0, web3_utils_1.hexToNumber)(block.number);\n    }\n    if (block.difficulty) {\n        modifiedBlock.difficulty = (0, exports.outputBigIntegerFormatter)(block.difficulty);\n    }\n    if (block.totalDifficulty) {\n        modifiedBlock.totalDifficulty = (0, exports.outputBigIntegerFormatter)(block.totalDifficulty);\n    }\n    if (block.transactions && Array.isArray(block.transactions)) {\n        modifiedBlock.transactions = block.transactions.map(exports.outputTransactionFormatter);\n    }\n    if (block.miner) {\n        modifiedBlock.miner = (0, web3_utils_1.toChecksumAddress)(block.miner);\n    }\n    if (block.baseFeePerGas) {\n        modifiedBlock.baseFeePerGas = (0, exports.outputBigIntegerFormatter)(block.baseFeePerGas);\n    }\n    return modifiedBlock;\n};\nexports.outputBlockFormatter = outputBlockFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the input of a whisper post and converts all values to HEX\n */\nconst inputPostFormatter = (post) => {\n    var _a;\n    const modifiedPost = Object.assign({}, post);\n    if (post.ttl) {\n        modifiedPost.ttl = (0, web3_utils_1.numberToHex)(post.ttl);\n    }\n    if (post.workToProve) {\n        modifiedPost.workToProve = (0, web3_utils_1.numberToHex)(post.workToProve);\n    }\n    if (post.priority) {\n        modifiedPost.priority = (0, web3_utils_1.numberToHex)(post.priority);\n    }\n    // fallback\n    if (post.topics && !Array.isArray(post.topics)) {\n        modifiedPost.topics = post.topics ? [post.topics] : [];\n    }\n    // format the following options\n    modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map(topic => topic.startsWith('0x') ? topic : (0, web3_utils_1.fromUtf8)(topic));\n    return modifiedPost;\n};\nexports.inputPostFormatter = inputPostFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n * Formats the output of a received post message\n * @function outputPostFormatter\n */\nconst outputPostFormatter = (post) => {\n    var _a;\n    const modifiedPost = Object.assign({}, post);\n    if (post.expiry) {\n        modifiedPost.expiry = (0, web3_utils_1.hexToNumber)(post.expiry);\n    }\n    if (post.sent) {\n        modifiedPost.sent = (0, web3_utils_1.hexToNumber)(post.sent);\n    }\n    if (post.ttl) {\n        modifiedPost.ttl = (0, web3_utils_1.hexToNumber)(post.ttl);\n    }\n    if (post.workProved) {\n        modifiedPost.workProved = (0, web3_utils_1.hexToNumber)(post.workProved);\n    }\n    // post.payloadRaw = post.payload;\n    // post.payload = utils.hexToAscii(post.payload);\n    // if (utils.isJson(post.payload)) {\n    //     post.payload = JSON.parse(post.payload);\n    // }\n    // format the following options\n    if (!post.topics) {\n        modifiedPost.topics = [];\n    }\n    modifiedPost.topics = (_a = modifiedPost.topics) === null || _a === void 0 ? void 0 : _a.map(web3_utils_1.toUtf8);\n    return modifiedPost;\n};\nexports.outputPostFormatter = outputPostFormatter;\n/**\n * @deprecated Use format function from web3-utils package instead\n */\nconst outputSyncingFormatter = (result) => {\n    const modifiedResult = Object.assign({}, result);\n    modifiedResult.startingBlock = (0, web3_utils_1.hexToNumber)(result.startingBlock);\n    modifiedResult.currentBlock = (0, web3_utils_1.hexToNumber)(result.currentBlock);\n    modifiedResult.highestBlock = (0, web3_utils_1.hexToNumber)(result.highestBlock);\n    if (result.knownStates) {\n        modifiedResult.knownStates = (0, web3_utils_1.hexToNumber)(result.knownStates);\n    }\n    if (result.pulledStates) {\n        modifiedResult.pulledStates = (0, web3_utils_1.hexToNumber)(result.pulledStates);\n    }\n    return modifiedResult;\n};\nexports.outputSyncingFormatter = outputSyncingFormatter;\n//# sourceMappingURL=formatters.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL2Zvcm1hdHRlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QixHQUFHLDJCQUEyQixHQUFHLDBCQUEwQixHQUFHLDRCQUE0QixHQUFHLHlDQUF5QyxHQUFHLDBCQUEwQixHQUFHLHlCQUF5QixHQUFHLDJCQUEyQixHQUFHLGtDQUFrQyxHQUFHLDBCQUEwQixHQUFHLGlDQUFpQyxHQUFHLDBCQUEwQixHQUFHLCtCQUErQixHQUFHLDZCQUE2QixHQUFHLHdDQUF3QyxHQUFHLGlDQUFpQyxHQUFHLGlDQUFpQyxHQUFHLDRCQUE0QixHQUFHLGlDQUFpQztBQUN0bkIsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0Msd0JBQXdCLG1CQUFPLENBQUMsNkZBQWU7QUFDL0MscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMseUJBQXlCLG1CQUFPLENBQUMsK0ZBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdDQUF3QztBQUM1RDtBQUNBLCtEQUErRCxTQUFTO0FBQ3hFO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdDQUFnQyxFQUFFLHNDQUFzQyxFQUFFLDJCQUEyQjtBQUN4SixnQ0FBZ0Msb0NBQW9DO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsZ0JBQWdCO0FBQy9GO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL2Zvcm1hdHRlcnMuanM/MTVkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vdXRwdXRTeW5jaW5nRm9ybWF0dGVyID0gZXhwb3J0cy5vdXRwdXRQb3N0Rm9ybWF0dGVyID0gZXhwb3J0cy5pbnB1dFBvc3RGb3JtYXR0ZXIgPSBleHBvcnRzLm91dHB1dEJsb2NrRm9ybWF0dGVyID0gZXhwb3J0cy5vdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIgPSBleHBvcnRzLm91dHB1dExvZ0Zvcm1hdHRlciA9IGV4cG9ydHMuaW5wdXRMb2dGb3JtYXR0ZXIgPSBleHBvcnRzLmlucHV0VG9waWNGb3JtYXR0ZXIgPSBleHBvcnRzLm91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gZXhwb3J0cy5pbnB1dFNpZ25Gb3JtYXR0ZXIgPSBleHBvcnRzLmlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIgPSBleHBvcnRzLmlucHV0Q2FsbEZvcm1hdHRlciA9IGV4cG9ydHMudHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIgPSBleHBvcnRzLmlucHV0QWRkcmVzc0Zvcm1hdHRlciA9IGV4cG9ydHMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXIgPSBleHBvcnRzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIgPSBleHBvcnRzLm91dHB1dEJpZ0ludGVnZXJGb3JtYXR0ZXIgPSBleHBvcnRzLm91dHB1dFByb29mRm9ybWF0dGVyID0gZXhwb3J0cy5pbnB1dFN0b3JhZ2VLZXlzRm9ybWF0dGVyID0gdm9pZCAwO1xuY29uc3Qgd2ViM19lcnJvcnNfMSA9IHJlcXVpcmUoXCJ3ZWIzLWVycm9yc1wiKTtcbmNvbnN0IHdlYjNfZXRoX2liYW5fMSA9IHJlcXVpcmUoXCJ3ZWIzLWV0aC1pYmFuXCIpO1xuY29uc3Qgd2ViM190eXBlc18xID0gcmVxdWlyZShcIndlYjMtdHlwZXNcIik7XG5jb25zdCB3ZWIzX3V0aWxzXzEgPSByZXF1aXJlKFwid2ViMy11dGlsc1wiKTtcbmNvbnN0IHdlYjNfdmFsaWRhdG9yXzEgPSByZXF1aXJlKFwid2ViMy12YWxpZGF0b3JcIik7XG4vKiBlc2xpbnQtZGlzYWJsZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvbiAqL1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIFdpbGwgZm9ybWF0IHRoZSBnaXZlbiBzdG9yYWdlIGtleSBhcnJheSB2YWx1ZXMgdG8gaGV4IHN0cmluZ3MuXG4gKi9cbmNvbnN0IGlucHV0U3RvcmFnZUtleXNGb3JtYXR0ZXIgPSAoa2V5cykgPT4ga2V5cy5tYXAobnVtID0+ICgwLCB3ZWIzX3V0aWxzXzEubnVtYmVyVG9IZXgpKG51bSkpO1xuZXhwb3J0cy5pbnB1dFN0b3JhZ2VLZXlzRm9ybWF0dGVyID0gaW5wdXRTdG9yYWdlS2V5c0Zvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBXaWxsIGZvcm1hdCB0aGUgZ2l2ZW4gcHJvb2YgcmVzcG9uc2UgZnJvbSB0aGUgbm9kZS5cbiAqL1xuY29uc3Qgb3V0cHV0UHJvb2ZGb3JtYXR0ZXIgPSAocHJvb2YpID0+ICh7XG4gICAgYWRkcmVzczogKDAsIHdlYjNfdXRpbHNfMS50b0NoZWNrc3VtQWRkcmVzcykocHJvb2YuYWRkcmVzcyksXG4gICAgbm9uY2U6ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXJTdHJpbmcpKHByb29mLm5vbmNlKSxcbiAgICBiYWxhbmNlOiAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyU3RyaW5nKShwcm9vZi5iYWxhbmNlKSxcbn0pO1xuZXhwb3J0cy5vdXRwdXRQcm9vZkZvcm1hdHRlciA9IG91dHB1dFByb29mRm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIFNob3VsZCB0aGUgZm9ybWF0IG91dHB1dCB0byBhIGJpZyBudW1iZXJcbiAqL1xuY29uc3Qgb3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlciA9IChudW1iZXIpID0+ICgwLCB3ZWIzX3V0aWxzXzEudG9OdW1iZXIpKG51bWJlcik7XG5leHBvcnRzLm91dHB1dEJpZ0ludGVnZXJGb3JtYXR0ZXIgPSBvdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIFJldHVybnMgdGhlIGdpdmVuIGJsb2NrIG51bWJlciBhcyBoZXggc3RyaW5nIG9yIHRoZSBwcmVkZWZpbmVkIGJsb2NrIG51bWJlciAnbGF0ZXN0JywgJ3BlbmRpbmcnLCAnZWFybGllc3QnLCAnZ2VuZXNpcydcbiAqL1xuY29uc3QgaW5wdXRCbG9ja051bWJlckZvcm1hdHRlciA9IChibG9ja051bWJlcikgPT4ge1xuICAgIGlmICgoMCwgd2ViM192YWxpZGF0b3JfMS5pc051bGxpc2gpKGJsb2NrTnVtYmVyKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2NrTnVtYmVyID09PSAnc3RyaW5nJyAmJiAoMCwgd2ViM192YWxpZGF0b3JfMS5pc0Jsb2NrVGFnKShibG9ja051bWJlcikpIHtcbiAgICAgICAgcmV0dXJuIGJsb2NrTnVtYmVyO1xuICAgIH1cbiAgICBpZiAoYmxvY2tOdW1iZXIgPT09ICdnZW5lc2lzJykge1xuICAgICAgICByZXR1cm4gJzB4MCc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYmxvY2tOdW1iZXIgPT09ICdzdHJpbmcnICYmICgwLCB3ZWIzX3V0aWxzXzEuaXNIZXhTdHJpY3QpKGJsb2NrTnVtYmVyKSkge1xuICAgICAgICByZXR1cm4gYmxvY2tOdW1iZXIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCB3ZWIzX3V0aWxzXzEubnVtYmVyVG9IZXgpKGJsb2NrTnVtYmVyKTtcbn07XG5leHBvcnRzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIgPSBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIFJldHVybnMgdGhlIGdpdmVuIGJsb2NrIG51bWJlciBhcyBoZXggc3RyaW5nIG9yIGRvZXMgcmV0dXJuIHRoZSBkZWZhdWx0QmxvY2sgcHJvcGVydHkgb2YgdGhlIGN1cnJlbnQgbW9kdWxlXG4gKi9cbmNvbnN0IGlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyID0gKGJsb2NrTnVtYmVyLCBkZWZhdWx0QmxvY2spID0+IHtcbiAgICBpZiAoIWJsb2NrTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAoMCwgZXhwb3J0cy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKShkZWZhdWx0QmxvY2spO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIGV4cG9ydHMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcikoYmxvY2tOdW1iZXIpO1xufTtcbmV4cG9ydHMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXIgPSBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBAcGFyYW0gYWRkcmVzc1xuICovXG5jb25zdCBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIgPSAoYWRkcmVzcykgPT4ge1xuICAgIGlmICh3ZWIzX2V0aF9pYmFuXzEuSWJhbi5pc1ZhbGlkKGFkZHJlc3MpICYmIHdlYjNfZXRoX2liYW5fMS5JYmFuLmlzRGlyZWN0KGFkZHJlc3MpKSB7XG4gICAgICAgIGNvbnN0IGliYW4gPSBuZXcgd2ViM19ldGhfaWJhbl8xLkliYW4oYWRkcmVzcyk7XG4gICAgICAgIHJldHVybiBpYmFuLnRvQWRkcmVzcygpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICgoMCwgd2ViM191dGlsc18xLmlzQWRkcmVzcykoYWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIGAweCR7YWRkcmVzcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJzB4JywgJycpfWA7XG4gICAgfVxuICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLkZvcm1hdHRlckVycm9yKGBQcm92aWRlZCBhZGRyZXNzICR7YWRkcmVzc30gaXMgaW52YWxpZCwgdGhlIGNhcGl0YWxpemF0aW9uIGNoZWNrc3VtIHRlc3QgZmFpbGVkLCBvciBpdCdzIGFuIGluZGlyZWN0IElCQU4gYWRkcmVzcyB3aGljaCBjYW4ndCBiZSBjb252ZXJ0ZWQuYCk7XG59O1xuZXhwb3J0cy5pbnB1dEFkZHJlc3NGb3JtYXR0ZXIgPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogRm9ybWF0cyB0aGUgaW5wdXQgb2YgYSB0cmFuc2FjdGlvbiBhbmQgY29udmVydHMgYWxsIHZhbHVlcyB0byBIRVhcbiAqL1xuY29uc3QgdHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIgPSAob3B0aW9ucykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtb2RpZmllZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgICAvLyBpdCBtaWdodCBiZSBjb250cmFjdCBjcmVhdGlvblxuICAgICAgICBtb2RpZmllZE9wdGlvbnMudG8gPSAoMCwgZXhwb3J0cy5pbnB1dEFkZHJlc3NGb3JtYXR0ZXIpKG9wdGlvbnMudG8pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuRm9ybWF0dGVyRXJyb3IoJ1lvdSBjYW5cXCd0IGhhdmUgXCJkYXRhXCIgYW5kIFwiaW5wdXRcIiBhcyBwcm9wZXJ0aWVzIG9mIHRyYW5zYWN0aW9ucyBhdCB0aGUgc2FtZSB0aW1lLCBwbGVhc2UgdXNlIGVpdGhlciBcImRhdGFcIiBvciBcImlucHV0XCIgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmlucHV0ICYmIG9wdGlvbnMuZGF0YSkge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnMuaW5wdXQgPSBvcHRpb25zLmRhdGE7XG4gICAgICAgIGRlbGV0ZSBtb2RpZmllZE9wdGlvbnMuZGF0YTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaW5wdXQgJiYgIW9wdGlvbnMuaW5wdXQuc3RhcnRzV2l0aCgnMHgnKSkge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnMuaW5wdXQgPSBgMHgke29wdGlvbnMuaW5wdXR9YDtcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVkT3B0aW9ucy5pbnB1dCAmJiAhKDAsIHdlYjNfdXRpbHNfMS5pc0hleFN0cmljdCkobW9kaWZpZWRPcHRpb25zLmlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5Gb3JtYXR0ZXJFcnJvcignVGhlIGlucHV0IGZpZWxkIG11c3QgYmUgSEVYIGVuY29kZWQgZGF0YS4nKTtcbiAgICB9XG4gICAgLy8gYWxsb3cgYm90aFxuICAgIGlmIChvcHRpb25zLmdhcyB8fCBvcHRpb25zLmdhc0xpbWl0KSB7XG4gICAgICAgIG1vZGlmaWVkT3B0aW9ucy5nYXMgPSAoMCwgd2ViM191dGlsc18xLnRvTnVtYmVyKSgoX2EgPSBvcHRpb25zLmdhcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogb3B0aW9ucy5nYXNMaW1pdCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm1heFByaW9yaXR5RmVlUGVyR2FzIHx8IG9wdGlvbnMubWF4RmVlUGVyR2FzKSB7XG4gICAgICAgIGRlbGV0ZSBtb2RpZmllZE9wdGlvbnMuZ2FzUHJpY2U7XG4gICAgfVxuICAgIFsnZ2FzUHJpY2UnLCAnZ2FzJywgJ3ZhbHVlJywgJ21heFByaW9yaXR5RmVlUGVyR2FzJywgJ21heEZlZVBlckdhcycsICdub25jZScsICdjaGFpbklkJ11cbiAgICAgICAgLmZpbHRlcihrZXkgPT4gISgwLCB3ZWIzX3ZhbGlkYXRvcl8xLmlzTnVsbGlzaCkobW9kaWZpZWRPcHRpb25zW2tleV0pKVxuICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBtb2RpZmllZE9wdGlvbnNba2V5XSA9ICgwLCB3ZWIzX3V0aWxzXzEubnVtYmVyVG9IZXgpKG1vZGlmaWVkT3B0aW9uc1trZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbW9kaWZpZWRPcHRpb25zO1xufTtcbmV4cG9ydHMudHhJbnB1dE9wdGlvbnNGb3JtYXR0ZXIgPSB0eElucHV0T3B0aW9uc0Zvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5jb25zdCBpbnB1dENhbGxGb3JtYXR0ZXIgPSAob3B0aW9ucywgZGVmYXVsdEFjY291bnQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3B0cyA9ICgwLCBleHBvcnRzLnR4SW5wdXRPcHRpb25zRm9ybWF0dGVyKShvcHRpb25zKTtcbiAgICBjb25zdCBmcm9tID0gKF9hID0gb3B0cy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0QWNjb3VudDtcbiAgICBpZiAoZnJvbSkge1xuICAgICAgICBvcHRzLmZyb20gPSAoMCwgZXhwb3J0cy5pbnB1dEFkZHJlc3NGb3JtYXR0ZXIpKGZyb20pO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cztcbn07XG5leHBvcnRzLmlucHV0Q2FsbEZvcm1hdHRlciA9IGlucHV0Q2FsbEZvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5jb25zdCBpbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gKG9wdGlvbnMsIGRlZmF1bHRBY2NvdW50KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9wdHMgPSAoMCwgZXhwb3J0cy50eElucHV0T3B0aW9uc0Zvcm1hdHRlcikob3B0aW9ucyk7XG4gICAgLy8gY2hlY2sgZnJvbSwgb25seSBpZiBub3QgbnVtYmVyLCBvciBvYmplY3RcbiAgICBpZiAoISh0eXBlb2Ygb3B0cy5mcm9tID09PSAnbnVtYmVyJykgJiYgISghIW9wdHMuZnJvbSAmJiB0eXBlb2Ygb3B0cy5mcm9tID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgb3B0cy5mcm9tID0gKF9hID0gb3B0cy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0QWNjb3VudDtcbiAgICAgICAgaWYgKCFvcHRpb25zLmZyb20gJiYgISh0eXBlb2Ygb3B0aW9ucy5mcm9tID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLkZvcm1hdHRlckVycm9yKCdUaGUgc2VuZCB0cmFuc2FjdGlvbnMgXCJmcm9tXCIgZmllbGQgbXVzdCBiZSBkZWZpbmVkIScpO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMuZnJvbSA9ICgwLCBleHBvcnRzLmlucHV0QWRkcmVzc0Zvcm1hdHRlcikob3B0aW9ucy5mcm9tKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG59O1xuZXhwb3J0cy5pbnB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gaW5wdXRUcmFuc2FjdGlvbkZvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBIZXggZW5jb2RlcyB0aGUgZGF0YSBwYXNzZWQgdG8gZXRoX3NpZ24gYW5kIHBlcnNvbmFsX3NpZ25cbiAqL1xuY29uc3QgaW5wdXRTaWduRm9ybWF0dGVyID0gKGRhdGEpID0+ICgoMCwgd2ViM191dGlsc18xLmlzSGV4U3RyaWN0KShkYXRhKSA/IGRhdGEgOiAoMCwgd2ViM191dGlsc18xLnV0ZjhUb0hleCkoZGF0YSkpO1xuZXhwb3J0cy5pbnB1dFNpZ25Gb3JtYXR0ZXIgPSBpbnB1dFNpZ25Gb3JtYXR0ZXI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgdHJhbnNhY3Rpb24gdG8gaXRzIHByb3BlciB2YWx1ZXNcbiAqIEBmdW5jdGlvbiBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlclxuICovXG5jb25zdCBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlciA9ICh0eCkgPT4ge1xuICAgIGNvbnN0IG1vZGlmaWVkVHggPSBPYmplY3QuYXNzaWduKHt9LCB0eCk7XG4gICAgaWYgKHR4LmJsb2NrTnVtYmVyKSB7XG4gICAgICAgIG1vZGlmaWVkVHguYmxvY2tOdW1iZXIgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKSh0eC5ibG9ja051bWJlcik7XG4gICAgfVxuICAgIGlmICh0eC50cmFuc2FjdGlvbkluZGV4KSB7XG4gICAgICAgIG1vZGlmaWVkVHgudHJhbnNhY3Rpb25JbmRleCA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKHR4LnRyYW5zYWN0aW9uSW5kZXgpO1xuICAgIH1cbiAgICBtb2RpZmllZFR4Lm5vbmNlID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikodHgubm9uY2UpO1xuICAgIG1vZGlmaWVkVHguZ2FzID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikodHguZ2FzKTtcbiAgICBpZiAodHguZ2FzUHJpY2UpIHtcbiAgICAgICAgbW9kaWZpZWRUeC5nYXNQcmljZSA9ICgwLCBleHBvcnRzLm91dHB1dEJpZ0ludGVnZXJGb3JtYXR0ZXIpKHR4Lmdhc1ByaWNlKTtcbiAgICB9XG4gICAgaWYgKHR4Lm1heEZlZVBlckdhcykge1xuICAgICAgICBtb2RpZmllZFR4Lm1heEZlZVBlckdhcyA9ICgwLCBleHBvcnRzLm91dHB1dEJpZ0ludGVnZXJGb3JtYXR0ZXIpKHR4Lm1heEZlZVBlckdhcyk7XG4gICAgfVxuICAgIGlmICh0eC5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgICBtb2RpZmllZFR4Lm1heFByaW9yaXR5RmVlUGVyR2FzID0gKDAsIGV4cG9ydHMub3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcikodHgubWF4UHJpb3JpdHlGZWVQZXJHYXMpO1xuICAgIH1cbiAgICBpZiAodHgudHlwZSkge1xuICAgICAgICBtb2RpZmllZFR4LnR5cGUgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKSh0eC50eXBlKTtcbiAgICB9XG4gICAgbW9kaWZpZWRUeC52YWx1ZSA9ICgwLCBleHBvcnRzLm91dHB1dEJpZ0ludGVnZXJGb3JtYXR0ZXIpKHR4LnZhbHVlKTtcbiAgICBpZiAodHgudG8gJiYgKDAsIHdlYjNfdXRpbHNfMS5pc0FkZHJlc3MpKHR4LnRvKSkge1xuICAgICAgICAvLyB0eC50byBjb3VsZCBiZSBgMHgwYCBvciBgbnVsbGAgd2hpbGUgY29udHJhY3QgY3JlYXRpb25cbiAgICAgICAgbW9kaWZpZWRUeC50byA9ICgwLCB3ZWIzX3V0aWxzXzEudG9DaGVja3N1bUFkZHJlc3MpKHR4LnRvKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1vZGlmaWVkVHgudG8gPSB1bmRlZmluZWQ7IC8vIHNldCB0byBgbnVsbGAgaWYgaW52YWxpZCBhZGRyZXNzXG4gICAgfVxuICAgIGlmICh0eC5mcm9tKSB7XG4gICAgICAgIG1vZGlmaWVkVHguZnJvbSA9ICgwLCB3ZWIzX3V0aWxzXzEudG9DaGVja3N1bUFkZHJlc3MpKHR4LmZyb20pO1xuICAgIH1cbiAgICByZXR1cm4gbW9kaWZpZWRUeDtcbn07XG5leHBvcnRzLm91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogQHBhcmFtIHRvcGljXG4gKi9cbi8vIFRvIGFsaWduIHdpdGggc3BlY2lmaWNhdGlvbiB3ZSB1c2UgdGhlIHR5cGUgXCJudWxsXCIgaGVyZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmNvbnN0IGlucHV0VG9waWNGb3JtYXR0ZXIgPSAodG9waWMpID0+IHtcbiAgICAvLyBVc2luZyBcIm51bGxcIiB2YWx1ZSBpbnRlbnRpb25hbGx5IGZvciB2YWxpZGF0aW9uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgIGlmICgoMCwgd2ViM192YWxpZGF0b3JfMS5pc051bGxpc2gpKHRvcGljKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdmFsdWUgPSBTdHJpbmcodG9waWMpO1xuICAgIHJldHVybiAoMCwgd2ViM192YWxpZGF0b3JfMS5pc0hleCkodmFsdWUpID8gdmFsdWUgOiAoMCwgd2ViM191dGlsc18xLmZyb21VdGY4KSh2YWx1ZSk7XG59O1xuZXhwb3J0cy5pbnB1dFRvcGljRm9ybWF0dGVyID0gaW5wdXRUb3BpY0Zvcm1hdHRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGZvcm1hdCBmdW5jdGlvbiBmcm9tIHdlYjMtdXRpbHMgcGFja2FnZSBpbnN0ZWFkXG4gKiBAcGFyYW0gZmlsdGVyXG4gKi9cbmNvbnN0IGlucHV0TG9nRm9ybWF0dGVyID0gKGZpbHRlcikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB2YWwgPSAoMCwgd2ViM192YWxpZGF0b3JfMS5pc051bGxpc2gpKGZpbHRlcilcbiAgICAgICAgPyB7fVxuICAgICAgICA6ICgwLCB3ZWIzX3V0aWxzXzEubWVyZ2VEZWVwKSh7fSwgZmlsdGVyKTtcbiAgICAvLyBJZiBvcHRpb25zICE9PSB1bmRlZmluZWQsIGRvbid0IGJsb3cgb3V0IGV4aXN0aW5nIGRhdGFcbiAgICBpZiAoKDAsIHdlYjNfdmFsaWRhdG9yXzEuaXNOdWxsaXNoKSh2YWwuZnJvbUJsb2NrKSkge1xuICAgICAgICB2YWwuZnJvbUJsb2NrID0gd2ViM190eXBlc18xLkJsb2NrVGFncy5MQVRFU1Q7XG4gICAgfVxuICAgIHZhbC5mcm9tQmxvY2sgPSAoMCwgZXhwb3J0cy5pbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKSh2YWwuZnJvbUJsb2NrKTtcbiAgICBpZiAoISgwLCB3ZWIzX3ZhbGlkYXRvcl8xLmlzTnVsbGlzaCkodmFsLnRvQmxvY2spKSB7XG4gICAgICAgIHZhbC50b0Jsb2NrID0gKDAsIGV4cG9ydHMuaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcikodmFsLnRvQmxvY2spO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdG9waWNzLCBnZXQgY29udmVydGVkIHRvIGhleFxuICAgIHZhbC50b3BpY3MgPSAoX2EgPSB2YWwudG9waWNzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB2YWwudG9waWNzID0gdmFsLnRvcGljcy5tYXAodG9waWMgPT4gQXJyYXkuaXNBcnJheSh0b3BpYylcbiAgICAgICAgPyB0b3BpYy5tYXAoZXhwb3J0cy5pbnB1dFRvcGljRm9ybWF0dGVyKVxuICAgICAgICA6ICgwLCBleHBvcnRzLmlucHV0VG9waWNGb3JtYXR0ZXIpKHRvcGljKSk7XG4gICAgaWYgKHZhbC5hZGRyZXNzKSB7XG4gICAgICAgIHZhbC5hZGRyZXNzID0gQXJyYXkuaXNBcnJheSh2YWwuYWRkcmVzcylcbiAgICAgICAgICAgID8gdmFsLmFkZHJlc3MubWFwKGFkZHIgPT4gKDAsIGV4cG9ydHMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyKShhZGRyKSlcbiAgICAgICAgICAgIDogKDAsIGV4cG9ydHMuaW5wdXRBZGRyZXNzRm9ybWF0dGVyKSh2YWwuYWRkcmVzcyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59O1xuZXhwb3J0cy5pbnB1dExvZ0Zvcm1hdHRlciA9IGlucHV0TG9nRm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIGxvZ1xuICogQGZ1bmN0aW9uIG91dHB1dExvZ0Zvcm1hdHRlclxuICovXG5jb25zdCBvdXRwdXRMb2dGb3JtYXR0ZXIgPSAobG9nKSA9PiB7XG4gICAgY29uc3QgbW9kaWZpZWRMb2cgPSBPYmplY3QuYXNzaWduKHt9LCBsb2cpO1xuICAgIGNvbnN0IGxvZ0luZGV4ID0gdHlwZW9mIGxvZy5sb2dJbmRleCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBsb2cubG9nSW5kZXhcbiAgICAgICAgOiAoMCwgd2ViM191dGlsc18xLm51bWJlclRvSGV4KShsb2cubG9nSW5kZXgpO1xuICAgIC8vIGdlbmVyYXRlIGEgY3VzdG9tIGxvZyBpZFxuICAgIGlmICh0eXBlb2YgbG9nLmJsb2NrSGFzaCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGxvZy50cmFuc2FjdGlvbkhhc2ggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHNoYUlkID0gKDAsIHdlYjNfdXRpbHNfMS5zaGEzUmF3KShgJHtsb2cuYmxvY2tIYXNoLnJlcGxhY2UoJzB4JywgJycpfSR7bG9nLnRyYW5zYWN0aW9uSGFzaC5yZXBsYWNlKCcweCcsICcnKX0ke2xvZ0luZGV4LnJlcGxhY2UoJzB4JywgJycpfWApO1xuICAgICAgICBtb2RpZmllZExvZy5pZCA9IGBsb2dfJHtzaGFJZC5yZXBsYWNlKCcweCcsICcnKS5zbGljZSgwLCA4KX1gO1xuICAgIH1cbiAgICBlbHNlIGlmICghbG9nLmlkKSB7XG4gICAgICAgIG1vZGlmaWVkTG9nLmlkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAobG9nLmJsb2NrTnVtYmVyICYmICgwLCB3ZWIzX3V0aWxzXzEuaXNIZXhTdHJpY3QpKGxvZy5ibG9ja051bWJlcikpIHtcbiAgICAgICAgbW9kaWZpZWRMb2cuYmxvY2tOdW1iZXIgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShsb2cuYmxvY2tOdW1iZXIpO1xuICAgIH1cbiAgICBpZiAobG9nLnRyYW5zYWN0aW9uSW5kZXggJiYgKDAsIHdlYjNfdXRpbHNfMS5pc0hleFN0cmljdCkobG9nLnRyYW5zYWN0aW9uSW5kZXgpKSB7XG4gICAgICAgIG1vZGlmaWVkTG9nLnRyYW5zYWN0aW9uSW5kZXggPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShsb2cudHJhbnNhY3Rpb25JbmRleCk7XG4gICAgfVxuICAgIGlmIChsb2cubG9nSW5kZXggJiYgKDAsIHdlYjNfdXRpbHNfMS5pc0hleFN0cmljdCkobG9nLmxvZ0luZGV4KSkge1xuICAgICAgICBtb2RpZmllZExvZy5sb2dJbmRleCA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKGxvZy5sb2dJbmRleCk7XG4gICAgfVxuICAgIGlmIChsb2cuYWRkcmVzcykge1xuICAgICAgICBtb2RpZmllZExvZy5hZGRyZXNzID0gKDAsIHdlYjNfdXRpbHNfMS50b0NoZWNrc3VtQWRkcmVzcykobG9nLmFkZHJlc3MpO1xuICAgIH1cbiAgICByZXR1cm4gbW9kaWZpZWRMb2c7XG59O1xuZXhwb3J0cy5vdXRwdXRMb2dGb3JtYXR0ZXIgPSBvdXRwdXRMb2dGb3JtYXR0ZXI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBmb3JtYXQgZnVuY3Rpb24gZnJvbSB3ZWIzLXV0aWxzIHBhY2thZ2UgaW5zdGVhZFxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgdHJhbnNhY3Rpb24gcmVjZWlwdCB0byBpdHMgcHJvcGVyIHZhbHVlc1xuICovXG5jb25zdCBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIgPSAocmVjZWlwdCkgPT4ge1xuICAgIGlmICh0eXBlb2YgcmVjZWlwdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuRm9ybWF0dGVyRXJyb3IoYFJlY2VpdmVkIHJlY2VpcHQgaXMgaW52YWxpZDogJHtTdHJpbmcocmVjZWlwdCl9YCk7XG4gICAgfVxuICAgIGNvbnN0IG1vZGlmaWVkUmVjZWlwdCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY2VpcHQpO1xuICAgIGlmIChyZWNlaXB0LmJsb2NrTnVtYmVyKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5ibG9ja051bWJlciA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKHJlY2VpcHQuYmxvY2tOdW1iZXIpO1xuICAgIH1cbiAgICBpZiAocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4KSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC50cmFuc2FjdGlvbkluZGV4ID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4KTtcbiAgICB9XG4gICAgbW9kaWZpZWRSZWNlaXB0LmN1bXVsYXRpdmVHYXNVc2VkID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocmVjZWlwdC5jdW11bGF0aXZlR2FzVXNlZCk7XG4gICAgbW9kaWZpZWRSZWNlaXB0Lmdhc1VzZWQgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShyZWNlaXB0Lmdhc1VzZWQpO1xuICAgIGlmIChyZWNlaXB0LmxvZ3MgJiYgQXJyYXkuaXNBcnJheShyZWNlaXB0LmxvZ3MpKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5sb2dzID0gcmVjZWlwdC5sb2dzLm1hcChleHBvcnRzLm91dHB1dExvZ0Zvcm1hdHRlcik7XG4gICAgfVxuICAgIGlmIChyZWNlaXB0LmVmZmVjdGl2ZUdhc1ByaWNlKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5lZmZlY3RpdmVHYXNQcmljZSA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKHJlY2VpcHQuZWZmZWN0aXZlR2FzUHJpY2UpO1xuICAgIH1cbiAgICBpZiAocmVjZWlwdC5jb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgbW9kaWZpZWRSZWNlaXB0LmNvbnRyYWN0QWRkcmVzcyA9ICgwLCB3ZWIzX3V0aWxzXzEudG9DaGVja3N1bUFkZHJlc3MpKHJlY2VpcHQuY29udHJhY3RBZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKHJlY2VpcHQuc3RhdHVzKSB7XG4gICAgICAgIG1vZGlmaWVkUmVjZWlwdC5zdGF0dXMgPSBCb29sZWFuKHBhcnNlSW50KHJlY2VpcHQuc3RhdHVzLCAxMCkpO1xuICAgIH1cbiAgICByZXR1cm4gbW9kaWZpZWRSZWNlaXB0O1xufTtcbmV4cG9ydHMub3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyID0gb3V0cHV0VHJhbnNhY3Rpb25SZWNlaXB0Rm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIGJsb2NrIHRvIGl0cyBwcm9wZXIgdmFsdWVzXG4gKiBAZnVuY3Rpb24gb3V0cHV0QmxvY2tGb3JtYXR0ZXJcbiAqL1xuY29uc3Qgb3V0cHV0QmxvY2tGb3JtYXR0ZXIgPSAoYmxvY2spID0+IHtcbiAgICBjb25zdCBtb2RpZmllZEJsb2NrID0gT2JqZWN0LmFzc2lnbih7fSwgYmxvY2spO1xuICAgIC8vIHRyYW5zZm9ybSB0byBudW1iZXJcbiAgICBtb2RpZmllZEJsb2NrLmdhc0xpbWl0ID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikoYmxvY2suZ2FzTGltaXQpO1xuICAgIG1vZGlmaWVkQmxvY2suZ2FzVXNlZCA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKGJsb2NrLmdhc1VzZWQpO1xuICAgIG1vZGlmaWVkQmxvY2suc2l6ZSA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKGJsb2NrLnNpemUpO1xuICAgIG1vZGlmaWVkQmxvY2sudGltZXN0YW1wID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikoYmxvY2sudGltZXN0YW1wKTtcbiAgICBpZiAoYmxvY2subnVtYmVyKSB7XG4gICAgICAgIG1vZGlmaWVkQmxvY2subnVtYmVyID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikoYmxvY2subnVtYmVyKTtcbiAgICB9XG4gICAgaWYgKGJsb2NrLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgbW9kaWZpZWRCbG9jay5kaWZmaWN1bHR5ID0gKDAsIGV4cG9ydHMub3V0cHV0QmlnSW50ZWdlckZvcm1hdHRlcikoYmxvY2suZGlmZmljdWx0eSk7XG4gICAgfVxuICAgIGlmIChibG9jay50b3RhbERpZmZpY3VsdHkpIHtcbiAgICAgICAgbW9kaWZpZWRCbG9jay50b3RhbERpZmZpY3VsdHkgPSAoMCwgZXhwb3J0cy5vdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyKShibG9jay50b3RhbERpZmZpY3VsdHkpO1xuICAgIH1cbiAgICBpZiAoYmxvY2sudHJhbnNhY3Rpb25zICYmIEFycmF5LmlzQXJyYXkoYmxvY2sudHJhbnNhY3Rpb25zKSkge1xuICAgICAgICBtb2RpZmllZEJsb2NrLnRyYW5zYWN0aW9ucyA9IGJsb2NrLnRyYW5zYWN0aW9ucy5tYXAoZXhwb3J0cy5vdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcik7XG4gICAgfVxuICAgIGlmIChibG9jay5taW5lcikge1xuICAgICAgICBtb2RpZmllZEJsb2NrLm1pbmVyID0gKDAsIHdlYjNfdXRpbHNfMS50b0NoZWNrc3VtQWRkcmVzcykoYmxvY2subWluZXIpO1xuICAgIH1cbiAgICBpZiAoYmxvY2suYmFzZUZlZVBlckdhcykge1xuICAgICAgICBtb2RpZmllZEJsb2NrLmJhc2VGZWVQZXJHYXMgPSAoMCwgZXhwb3J0cy5vdXRwdXRCaWdJbnRlZ2VyRm9ybWF0dGVyKShibG9jay5iYXNlRmVlUGVyR2FzKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkQmxvY2s7XG59O1xuZXhwb3J0cy5vdXRwdXRCbG9ja0Zvcm1hdHRlciA9IG91dHB1dEJsb2NrRm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIGlucHV0IG9mIGEgd2hpc3BlciBwb3N0IGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICovXG5jb25zdCBpbnB1dFBvc3RGb3JtYXR0ZXIgPSAocG9zdCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtb2RpZmllZFBvc3QgPSBPYmplY3QuYXNzaWduKHt9LCBwb3N0KTtcbiAgICBpZiAocG9zdC50dGwpIHtcbiAgICAgICAgbW9kaWZpZWRQb3N0LnR0bCA9ICgwLCB3ZWIzX3V0aWxzXzEubnVtYmVyVG9IZXgpKHBvc3QudHRsKTtcbiAgICB9XG4gICAgaWYgKHBvc3Qud29ya1RvUHJvdmUpIHtcbiAgICAgICAgbW9kaWZpZWRQb3N0LndvcmtUb1Byb3ZlID0gKDAsIHdlYjNfdXRpbHNfMS5udW1iZXJUb0hleCkocG9zdC53b3JrVG9Qcm92ZSk7XG4gICAgfVxuICAgIGlmIChwb3N0LnByaW9yaXR5KSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC5wcmlvcml0eSA9ICgwLCB3ZWIzX3V0aWxzXzEubnVtYmVyVG9IZXgpKHBvc3QucHJpb3JpdHkpO1xuICAgIH1cbiAgICAvLyBmYWxsYmFja1xuICAgIGlmIChwb3N0LnRvcGljcyAmJiAhQXJyYXkuaXNBcnJheShwb3N0LnRvcGljcykpIHtcbiAgICAgICAgbW9kaWZpZWRQb3N0LnRvcGljcyA9IHBvc3QudG9waWNzID8gW3Bvc3QudG9waWNzXSA6IFtdO1xuICAgIH1cbiAgICAvLyBmb3JtYXQgdGhlIGZvbGxvd2luZyBvcHRpb25zXG4gICAgbW9kaWZpZWRQb3N0LnRvcGljcyA9IChfYSA9IG1vZGlmaWVkUG9zdC50b3BpY3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAodG9waWMgPT4gdG9waWMuc3RhcnRzV2l0aCgnMHgnKSA/IHRvcGljIDogKDAsIHdlYjNfdXRpbHNfMS5mcm9tVXRmOCkodG9waWMpKTtcbiAgICByZXR1cm4gbW9kaWZpZWRQb3N0O1xufTtcbmV4cG9ydHMuaW5wdXRQb3N0Rm9ybWF0dGVyID0gaW5wdXRQb3N0Rm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIHJlY2VpdmVkIHBvc3QgbWVzc2FnZVxuICogQGZ1bmN0aW9uIG91dHB1dFBvc3RGb3JtYXR0ZXJcbiAqL1xuY29uc3Qgb3V0cHV0UG9zdEZvcm1hdHRlciA9IChwb3N0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG1vZGlmaWVkUG9zdCA9IE9iamVjdC5hc3NpZ24oe30sIHBvc3QpO1xuICAgIGlmIChwb3N0LmV4cGlyeSkge1xuICAgICAgICBtb2RpZmllZFBvc3QuZXhwaXJ5ID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocG9zdC5leHBpcnkpO1xuICAgIH1cbiAgICBpZiAocG9zdC5zZW50KSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC5zZW50ID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocG9zdC5zZW50KTtcbiAgICB9XG4gICAgaWYgKHBvc3QudHRsKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50dGwgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShwb3N0LnR0bCk7XG4gICAgfVxuICAgIGlmIChwb3N0LndvcmtQcm92ZWQpIHtcbiAgICAgICAgbW9kaWZpZWRQb3N0LndvcmtQcm92ZWQgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShwb3N0LndvcmtQcm92ZWQpO1xuICAgIH1cbiAgICAvLyBwb3N0LnBheWxvYWRSYXcgPSBwb3N0LnBheWxvYWQ7XG4gICAgLy8gcG9zdC5wYXlsb2FkID0gdXRpbHMuaGV4VG9Bc2NpaShwb3N0LnBheWxvYWQpO1xuICAgIC8vIGlmICh1dGlscy5pc0pzb24ocG9zdC5wYXlsb2FkKSkge1xuICAgIC8vICAgICBwb3N0LnBheWxvYWQgPSBKU09OLnBhcnNlKHBvc3QucGF5bG9hZCk7XG4gICAgLy8gfVxuICAgIC8vIGZvcm1hdCB0aGUgZm9sbG93aW5nIG9wdGlvbnNcbiAgICBpZiAoIXBvc3QudG9waWNzKSB7XG4gICAgICAgIG1vZGlmaWVkUG9zdC50b3BpY3MgPSBbXTtcbiAgICB9XG4gICAgbW9kaWZpZWRQb3N0LnRvcGljcyA9IChfYSA9IG1vZGlmaWVkUG9zdC50b3BpY3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAod2ViM191dGlsc18xLnRvVXRmOCk7XG4gICAgcmV0dXJuIG1vZGlmaWVkUG9zdDtcbn07XG5leHBvcnRzLm91dHB1dFBvc3RGb3JtYXR0ZXIgPSBvdXRwdXRQb3N0Rm9ybWF0dGVyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgZm9ybWF0IGZ1bmN0aW9uIGZyb20gd2ViMy11dGlscyBwYWNrYWdlIGluc3RlYWRcbiAqL1xuY29uc3Qgb3V0cHV0U3luY2luZ0Zvcm1hdHRlciA9IChyZXN1bHQpID0+IHtcbiAgICBjb25zdCBtb2RpZmllZFJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdCk7XG4gICAgbW9kaWZpZWRSZXN1bHQuc3RhcnRpbmdCbG9jayA9ICgwLCB3ZWIzX3V0aWxzXzEuaGV4VG9OdW1iZXIpKHJlc3VsdC5zdGFydGluZ0Jsb2NrKTtcbiAgICBtb2RpZmllZFJlc3VsdC5jdXJyZW50QmxvY2sgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShyZXN1bHQuY3VycmVudEJsb2NrKTtcbiAgICBtb2RpZmllZFJlc3VsdC5oaWdoZXN0QmxvY2sgPSAoMCwgd2ViM191dGlsc18xLmhleFRvTnVtYmVyKShyZXN1bHQuaGlnaGVzdEJsb2NrKTtcbiAgICBpZiAocmVzdWx0Lmtub3duU3RhdGVzKSB7XG4gICAgICAgIG1vZGlmaWVkUmVzdWx0Lmtub3duU3RhdGVzID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocmVzdWx0Lmtub3duU3RhdGVzKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5wdWxsZWRTdGF0ZXMpIHtcbiAgICAgICAgbW9kaWZpZWRSZXN1bHQucHVsbGVkU3RhdGVzID0gKDAsIHdlYjNfdXRpbHNfMS5oZXhUb051bWJlcikocmVzdWx0LnB1bGxlZFN0YXRlcyk7XG4gICAgfVxuICAgIHJldHVybiBtb2RpZmllZFJlc3VsdDtcbn07XG5leHBvcnRzLm91dHB1dFN5bmNpbmdGb3JtYXR0ZXIgPSBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0dGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/formatters.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/index.js":
/*!********************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.formatters = void 0;\n__exportStar(__webpack_require__(/*! ./web3_config.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_config.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_request_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_subscription_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_subscriptions.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscriptions.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_context.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_context.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_batch_request.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_batch_request.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./formatters.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/formatters.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_promi_event.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_promi_event.js\"), exports);\n__exportStar(__webpack_require__(/*! ./web3_event_emitter.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\"), exports);\n// For backward usability export as namespace\nexports.formatters = __importStar(__webpack_require__(/*! ./formatters.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/formatters.js\"));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLGFBQWEsbUJBQU8sQ0FBQyxrR0FBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLG9IQUEyQjtBQUNoRCxhQUFhLG1CQUFPLENBQUMsOEhBQWdDO0FBQ3JELGFBQWEsbUJBQU8sQ0FBQyxnSEFBeUI7QUFDOUMsYUFBYSxtQkFBTyxDQUFDLG9HQUFtQjtBQUN4QyxhQUFhLG1CQUFPLENBQUMsZ0hBQXlCO0FBQzlDLGFBQWEsbUJBQU8sQ0FBQyxzRkFBWTtBQUNqQyxhQUFhLG1CQUFPLENBQUMsc0ZBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLGdHQUFpQjtBQUN0QyxhQUFhLG1CQUFPLENBQUMsNEdBQXVCO0FBQzVDLGFBQWEsbUJBQU8sQ0FBQyxnSEFBeUI7QUFDOUM7QUFDQSxrQkFBa0IsZ0JBQWdCLG1CQUFPLENBQUMsZ0dBQWlCO0FBQzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNzdWVyX2hvbGRlcl92ZXJpZmllci8uL3NyYy9wYWdlcy9hcGkvbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvY29tbW9uanMvaW5kZXguanM/ZWE1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mb3JtYXR0ZXJzID0gdm9pZCAwO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3dlYjNfY29uZmlnLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93ZWIzX3JlcXVlc3RfbWFuYWdlci5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vd2ViM19zdWJzY3JpcHRpb25fbWFuYWdlci5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vd2ViM19zdWJzY3JpcHRpb25zLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93ZWIzX2NvbnRleHQuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3dlYjNfYmF0Y2hfcmVxdWVzdC5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHMuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9mb3JtYXR0ZXJzLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93ZWIzX3Byb21pX2V2ZW50LmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93ZWIzX2V2ZW50X2VtaXR0ZXIuanNcIiksIGV4cG9ydHMpO1xuLy8gRm9yIGJhY2t3YXJkIHVzYWJpbGl0eSBleHBvcnQgYXMgbmFtZXNwYWNlXG5leHBvcnRzLmZvcm1hdHRlcnMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vZm9ybWF0dGVycy5qc1wiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/index.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/types.js":
/*!********************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/types.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3R5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3R5cGVzLmpzPzQxYjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/types.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js":
/*!********************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isSupportSubscriptions = exports.isSupportedProvider = exports.isLegacySendAsyncProvider = exports.isLegacySendProvider = exports.isEIP1193Provider = exports.isLegacyRequestProvider = exports.isMetaMaskProvider = exports.isWeb3Provider = void 0;\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst isWeb3Provider = (provider) => web3_types_1.Web3BaseProvider.isWeb3Provider(provider);\nexports.isWeb3Provider = isWeb3Provider;\nconst isMetaMaskProvider = (provider) => typeof provider !== 'string' &&\n    'request' in provider &&\n    provider.request.constructor.name === 'AsyncFunction' && 'isMetaMask' in provider && provider.isMetaMask;\nexports.isMetaMaskProvider = isMetaMaskProvider;\nconst isLegacyRequestProvider = (provider) => typeof provider !== 'string' &&\n    'request' in provider &&\n    provider.request.constructor.name === 'Function';\nexports.isLegacyRequestProvider = isLegacyRequestProvider;\nconst isEIP1193Provider = (provider) => typeof provider !== 'string' &&\n    'request' in provider &&\n    provider.request.constructor.name === 'AsyncFunction';\nexports.isEIP1193Provider = isEIP1193Provider;\nconst isLegacySendProvider = (provider) => typeof provider !== 'string' && 'send' in provider;\nexports.isLegacySendProvider = isLegacySendProvider;\nconst isLegacySendAsyncProvider = (provider) => typeof provider !== 'string' && 'sendAsync' in provider;\nexports.isLegacySendAsyncProvider = isLegacySendAsyncProvider;\nconst isSupportedProvider = (provider) => provider &&\n    ((0, exports.isWeb3Provider)(provider) ||\n        (0, exports.isEIP1193Provider)(provider) ||\n        (0, exports.isLegacyRequestProvider)(provider) ||\n        (0, exports.isLegacySendAsyncProvider)(provider) ||\n        (0, exports.isLegacySendProvider)(provider));\nexports.isSupportedProvider = isSupportedProvider;\nconst isSupportSubscriptions = (provider) => {\n    if (provider && 'supportsSubscriptions' in provider) {\n        return provider.supportsSubscriptions();\n    }\n    if (provider && typeof provider !== 'string' && 'on' in provider) {\n        return true;\n    }\n    return false;\n};\nexports.isSupportSubscriptions = isSupportSubscriptions;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsR0FBRywyQkFBMkIsR0FBRyxpQ0FBaUMsR0FBRyw0QkFBNEIsR0FBRyx5QkFBeUIsR0FBRywrQkFBK0IsR0FBRywwQkFBMEIsR0FBRyxzQkFBc0I7QUFDblAscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekM7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3V0aWxzLmpzPzk5NWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNTdXBwb3J0U3Vic2NyaXB0aW9ucyA9IGV4cG9ydHMuaXNTdXBwb3J0ZWRQcm92aWRlciA9IGV4cG9ydHMuaXNMZWdhY3lTZW5kQXN5bmNQcm92aWRlciA9IGV4cG9ydHMuaXNMZWdhY3lTZW5kUHJvdmlkZXIgPSBleHBvcnRzLmlzRUlQMTE5M1Byb3ZpZGVyID0gZXhwb3J0cy5pc0xlZ2FjeVJlcXVlc3RQcm92aWRlciA9IGV4cG9ydHMuaXNNZXRhTWFza1Byb3ZpZGVyID0gZXhwb3J0cy5pc1dlYjNQcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IHdlYjNfdHlwZXNfMSA9IHJlcXVpcmUoXCJ3ZWIzLXR5cGVzXCIpO1xuY29uc3QgaXNXZWIzUHJvdmlkZXIgPSAocHJvdmlkZXIpID0+IHdlYjNfdHlwZXNfMS5XZWIzQmFzZVByb3ZpZGVyLmlzV2ViM1Byb3ZpZGVyKHByb3ZpZGVyKTtcbmV4cG9ydHMuaXNXZWIzUHJvdmlkZXIgPSBpc1dlYjNQcm92aWRlcjtcbmNvbnN0IGlzTWV0YU1hc2tQcm92aWRlciA9IChwcm92aWRlcikgPT4gdHlwZW9mIHByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICdyZXF1ZXN0JyBpbiBwcm92aWRlciAmJlxuICAgIHByb3ZpZGVyLnJlcXVlc3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nICYmICdpc01ldGFNYXNrJyBpbiBwcm92aWRlciAmJiBwcm92aWRlci5pc01ldGFNYXNrO1xuZXhwb3J0cy5pc01ldGFNYXNrUHJvdmlkZXIgPSBpc01ldGFNYXNrUHJvdmlkZXI7XG5jb25zdCBpc0xlZ2FjeVJlcXVlc3RQcm92aWRlciA9IChwcm92aWRlcikgPT4gdHlwZW9mIHByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICdyZXF1ZXN0JyBpbiBwcm92aWRlciAmJlxuICAgIHByb3ZpZGVyLnJlcXVlc3QuY29uc3RydWN0b3IubmFtZSA9PT0gJ0Z1bmN0aW9uJztcbmV4cG9ydHMuaXNMZWdhY3lSZXF1ZXN0UHJvdmlkZXIgPSBpc0xlZ2FjeVJlcXVlc3RQcm92aWRlcjtcbmNvbnN0IGlzRUlQMTE5M1Byb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiB0eXBlb2YgcHJvdmlkZXIgIT09ICdzdHJpbmcnICYmXG4gICAgJ3JlcXVlc3QnIGluIHByb3ZpZGVyICYmXG4gICAgcHJvdmlkZXIucmVxdWVzdC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQXN5bmNGdW5jdGlvbic7XG5leHBvcnRzLmlzRUlQMTE5M1Byb3ZpZGVyID0gaXNFSVAxMTkzUHJvdmlkZXI7XG5jb25zdCBpc0xlZ2FjeVNlbmRQcm92aWRlciA9IChwcm92aWRlcikgPT4gdHlwZW9mIHByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJiAnc2VuZCcgaW4gcHJvdmlkZXI7XG5leHBvcnRzLmlzTGVnYWN5U2VuZFByb3ZpZGVyID0gaXNMZWdhY3lTZW5kUHJvdmlkZXI7XG5jb25zdCBpc0xlZ2FjeVNlbmRBc3luY1Byb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiB0eXBlb2YgcHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICdzZW5kQXN5bmMnIGluIHByb3ZpZGVyO1xuZXhwb3J0cy5pc0xlZ2FjeVNlbmRBc3luY1Byb3ZpZGVyID0gaXNMZWdhY3lTZW5kQXN5bmNQcm92aWRlcjtcbmNvbnN0IGlzU3VwcG9ydGVkUHJvdmlkZXIgPSAocHJvdmlkZXIpID0+IHByb3ZpZGVyICYmXG4gICAgKCgwLCBleHBvcnRzLmlzV2ViM1Byb3ZpZGVyKShwcm92aWRlcikgfHxcbiAgICAgICAgKDAsIGV4cG9ydHMuaXNFSVAxMTkzUHJvdmlkZXIpKHByb3ZpZGVyKSB8fFxuICAgICAgICAoMCwgZXhwb3J0cy5pc0xlZ2FjeVJlcXVlc3RQcm92aWRlcikocHJvdmlkZXIpIHx8XG4gICAgICAgICgwLCBleHBvcnRzLmlzTGVnYWN5U2VuZEFzeW5jUHJvdmlkZXIpKHByb3ZpZGVyKSB8fFxuICAgICAgICAoMCwgZXhwb3J0cy5pc0xlZ2FjeVNlbmRQcm92aWRlcikocHJvdmlkZXIpKTtcbmV4cG9ydHMuaXNTdXBwb3J0ZWRQcm92aWRlciA9IGlzU3VwcG9ydGVkUHJvdmlkZXI7XG5jb25zdCBpc1N1cHBvcnRTdWJzY3JpcHRpb25zID0gKHByb3ZpZGVyKSA9PiB7XG4gICAgaWYgKHByb3ZpZGVyICYmICdzdXBwb3J0c1N1YnNjcmlwdGlvbnMnIGluIHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBwcm92aWRlci5zdXBwb3J0c1N1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyICYmIHR5cGVvZiBwcm92aWRlciAhPT0gJ3N0cmluZycgJiYgJ29uJyBpbiBwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydHMuaXNTdXBwb3J0U3Vic2NyaXB0aW9ucyA9IGlzU3VwcG9ydFN1YnNjcmlwdGlvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_batch_request.js":
/*!*********************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_batch_request.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3BatchRequest = exports.DEFAULT_BATCH_REQUEST_TIMEOUT = void 0;\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nexports.DEFAULT_BATCH_REQUEST_TIMEOUT = 1000;\nclass Web3BatchRequest {\n    constructor(requestManager) {\n        this._requestManager = requestManager;\n        this._requests = new Map();\n    }\n    get requests() {\n        return [...this._requests.values()].map(r => r.payload);\n    }\n    add(request) {\n        const payload = web3_utils_1.jsonRpc.toPayload(request);\n        const promise = new web3_utils_1.Web3DeferredPromise();\n        this._requests.set(payload.id, { payload, promise });\n        return promise;\n    }\n    // eslint-disable-next-line class-methods-use-this\n    execute(options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.requests.length === 0) {\n                return Promise.resolve([]);\n            }\n            const request = new web3_utils_1.Web3DeferredPromise({\n                timeout: (_a = options === null || options === void 0 ? void 0 : options.timeout) !== null && _a !== void 0 ? _a : exports.DEFAULT_BATCH_REQUEST_TIMEOUT,\n                eagerStart: true,\n                timeoutMessage: 'Batch request timeout',\n            });\n            this._processBatchRequest(request).catch(err => request.reject(err));\n            request.catch((err) => {\n                if (err instanceof web3_errors_1.OperationTimeoutError) {\n                    this._abortAllRequests('Batch request timeout');\n                }\n                request.reject(err);\n            });\n            return request;\n        });\n    }\n    _processBatchRequest(promise) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield this._requestManager.sendBatch([...this._requests.values()].map(r => r.payload));\n            if (response.length !== this._requests.size) {\n                this._abortAllRequests('Invalid batch response');\n                throw new web3_errors_1.ResponseError(response, `Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${response.length}`);\n            }\n            const requestIds = this.requests\n                .map(r => r.id)\n                .map(Number)\n                .sort((a, b) => a - b);\n            const responseIds = response\n                .map(r => r.id)\n                .map(Number)\n                .sort((a, b) => a - b);\n            if (JSON.stringify(requestIds) !== JSON.stringify(responseIds)) {\n                this._abortAllRequests('Invalid batch response');\n                throw new web3_errors_1.ResponseError(response, `Batch request mismatch the results. Requests: [${requestIds.join()}], Responses: [${responseIds.join()}]`);\n            }\n            for (const res of response) {\n                if (web3_utils_1.jsonRpc.isResponseWithResult(res)) {\n                    (_a = this._requests.get(res.id)) === null || _a === void 0 ? void 0 : _a.promise.resolve(res.result);\n                }\n                else if (web3_utils_1.jsonRpc.isResponseWithError(res)) {\n                    (_b = this._requests.get(res.id)) === null || _b === void 0 ? void 0 : _b.promise.reject(res.error);\n                }\n            }\n            promise.resolve(response);\n        });\n    }\n    _abortAllRequests(msg) {\n        for (const { promise } of this._requests.values()) {\n            promise.reject(new web3_errors_1.OperationAbortError(msg));\n        }\n    }\n}\nexports.Web3BatchRequest = Web3BatchRequest;\n//# sourceMappingURL=web3_batch_request.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfYmF0Y2hfcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLHFDQUFxQztBQUNoRSxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBWTtBQUN6QyxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBYTtBQUMzQyxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxrQkFBa0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkhBQTJILG9CQUFvQixlQUFlLGdCQUFnQjtBQUM5SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0hBQWtILGtCQUFrQixpQkFBaUIsbUJBQW1CO0FBQ3hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfYmF0Y2hfcmVxdWVzdC5qcz83ZTMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2ViM0JhdGNoUmVxdWVzdCA9IGV4cG9ydHMuREVGQVVMVF9CQVRDSF9SRVFVRVNUX1RJTUVPVVQgPSB2b2lkIDA7XG5jb25zdCB3ZWIzX3V0aWxzXzEgPSByZXF1aXJlKFwid2ViMy11dGlsc1wiKTtcbmNvbnN0IHdlYjNfZXJyb3JzXzEgPSByZXF1aXJlKFwid2ViMy1lcnJvcnNcIik7XG5leHBvcnRzLkRFRkFVTFRfQkFUQ0hfUkVRVUVTVF9USU1FT1VUID0gMTAwMDtcbmNsYXNzIFdlYjNCYXRjaFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNYW5hZ2VyID0gcmVxdWVzdE1hbmFnZXI7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgcmVxdWVzdHMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fcmVxdWVzdHMudmFsdWVzKCldLm1hcChyID0+IHIucGF5bG9hZCk7XG4gICAgfVxuICAgIGFkZChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB3ZWIzX3V0aWxzXzEuanNvblJwYy50b1BheWxvYWQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgd2ViM191dGlsc18xLldlYjNEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdHMuc2V0KHBheWxvYWQuaWQsIHsgcGF5bG9hZCwgcHJvbWlzZSB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZXhlY3V0ZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB3ZWIzX3V0aWxzXzEuV2ViM0RlZmVycmVkUHJvbWlzZSh7XG4gICAgICAgICAgICAgICAgdGltZW91dDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4cG9ydHMuREVGQVVMVF9CQVRDSF9SRVFVRVNUX1RJTUVPVVQsXG4gICAgICAgICAgICAgICAgZWFnZXJTdGFydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0TWVzc2FnZTogJ0JhdGNoIHJlcXVlc3QgdGltZW91dCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NCYXRjaFJlcXVlc3QocmVxdWVzdCkuY2F0Y2goZXJyID0+IHJlcXVlc3QucmVqZWN0KGVycikpO1xuICAgICAgICAgICAgcmVxdWVzdC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIHdlYjNfZXJyb3JzXzEuT3BlcmF0aW9uVGltZW91dEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fib3J0QWxsUmVxdWVzdHMoJ0JhdGNoIHJlcXVlc3QgdGltZW91dCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wcm9jZXNzQmF0Y2hSZXF1ZXN0KHByb21pc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5fcmVxdWVzdE1hbmFnZXIuc2VuZEJhdGNoKFsuLi50aGlzLl9yZXF1ZXN0cy52YWx1ZXMoKV0ubWFwKHIgPT4gci5wYXlsb2FkKSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoICE9PSB0aGlzLl9yZXF1ZXN0cy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRBbGxSZXF1ZXN0cygnSW52YWxpZCBiYXRjaCByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIGBCYXRjaCByZXF1ZXN0IHNpemUgbWlzbWF0Y2ggdGhlIHJlc3VsdHMgc2l6ZS4gUmVxdWVzdHM6ICR7dGhpcy5fcmVxdWVzdHMuc2l6ZX0sIFJlc3BvbnNlczogJHtyZXNwb25zZS5sZW5ndGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0SWRzID0gdGhpcy5yZXF1ZXN0c1xuICAgICAgICAgICAgICAgIC5tYXAociA9PiByLmlkKVxuICAgICAgICAgICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUlkcyA9IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLm1hcChyID0+IHIuaWQpXG4gICAgICAgICAgICAgICAgLm1hcChOdW1iZXIpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShyZXF1ZXN0SWRzKSAhPT0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VJZHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRBbGxSZXF1ZXN0cygnSW52YWxpZCBiYXRjaCByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIGBCYXRjaCByZXF1ZXN0IG1pc21hdGNoIHRoZSByZXN1bHRzLiBSZXF1ZXN0czogWyR7cmVxdWVzdElkcy5qb2luKCl9XSwgUmVzcG9uc2VzOiBbJHtyZXNwb25zZUlkcy5qb2luKCl9XWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCByZXMgb2YgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAod2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9yZXF1ZXN0cy5nZXQocmVzLmlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb21pc2UucmVzb2x2ZShyZXMucmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhFcnJvcihyZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuX3JlcXVlc3RzLmdldChyZXMuaWQpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucHJvbWlzZS5yZWplY3QocmVzLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2Fib3J0QWxsUmVxdWVzdHMobXNnKSB7XG4gICAgICAgIGZvciAoY29uc3QgeyBwcm9taXNlIH0gb2YgdGhpcy5fcmVxdWVzdHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyB3ZWIzX2Vycm9yc18xLk9wZXJhdGlvbkFib3J0RXJyb3IobXNnKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLldlYjNCYXRjaFJlcXVlc3QgPSBXZWIzQmF0Y2hSZXF1ZXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19iYXRjaF9yZXF1ZXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_batch_request.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_config.js":
/*!**************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_config.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3Config = exports.Web3ConfigEvent = void 0;\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_event_emitter_js_1 = __webpack_require__(/*! ./web3_event_emitter.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\");\nvar Web3ConfigEvent;\n(function (Web3ConfigEvent) {\n    Web3ConfigEvent[\"CONFIG_CHANGE\"] = \"CONFIG_CHANGE\";\n})(Web3ConfigEvent = exports.Web3ConfigEvent || (exports.Web3ConfigEvent = {}));\nclass Web3Config extends web3_event_emitter_js_1.Web3EventEmitter {\n    constructor(options) {\n        super();\n        this.config = {\n            handleRevert: false,\n            defaultAccount: undefined,\n            defaultBlock: 'latest',\n            transactionBlockTimeout: 50,\n            transactionConfirmationBlocks: 24,\n            transactionPollingInterval: 1000,\n            transactionPollingTimeout: 750 * 1000,\n            transactionReceiptPollingInterval: undefined,\n            transactionSendTimeout: 750 * 1000,\n            transactionConfirmationPollingInterval: undefined,\n            blockHeaderTimeout: 10,\n            maxListenersWarningThreshold: 100,\n            contractDataInputFill: 'data',\n            defaultNetworkId: undefined,\n            defaultChain: 'mainnet',\n            defaultHardfork: 'london',\n            // TODO - Check if there is a default Common\n            defaultCommon: undefined,\n            defaultTransactionType: '0x2',\n            defaultMaxPriorityFeePerGas: (0, web3_utils_1.toHex)(2500000000),\n            enableExperimentalFeatures: {\n                useSubscriptionWhenCheckingBlockTimeout: false,\n                useRpcCallSpecification: false,\n            },\n            transactionBuilder: undefined,\n            transactionTypeParser: undefined,\n        };\n        this.setConfig(options !== null && options !== void 0 ? options : {});\n    }\n    setConfig(options) {\n        // TODO: Improve and add key check\n        const keys = Object.keys(options);\n        for (const key of keys) {\n            this._triggerConfigChange(key, options[key]);\n        }\n        Object.assign(this.config, options);\n    }\n    /**\n     * The `handleRevert` options property returns the revert reason string if enabled for the following methods:\n     * - web3.eth.sendTransaction()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     * - myContract.methods.myMethod().send()\n     * Default is `false`.\n     *\n     * `Note`: At the moment `handleRevert` is only supported for `sendTransaction` and not for `sendSignedTransaction`\n     */\n    get handleRevert() {\n        return this.config.handleRevert;\n    }\n    /**\n     * Will set the handleRevert\n     */\n    set handleRevert(val) {\n        this._triggerConfigChange('handleRevert', val);\n        this.config.handleRevert = val;\n    }\n    /**\n     * The `contractDataInputFill` options property will allow you to set the hash of the method signature and encoded parameters to the property\n     * either `data`, `input` or both within your contract.\n     * This will affect the contracts send, call and estimateGas methods\n     * Default is `input`.\n     */\n    get contractDataInputFill() {\n        return this.config.contractDataInputFill;\n    }\n    /**\n     * Will set the contractDataInputFill\n     */\n    set contractDataInputFill(val) {\n        this._triggerConfigChange('contractDataInputFill', val);\n        this.config.contractDataInputFill = val;\n    }\n    /**\n     * This default address is used as the default `from` property, if no `from` property is specified in for the following methods:\n     * - web3.eth.sendTransaction()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     * - myContract.methods.myMethod().send()\n     */\n    get defaultAccount() {\n        return this.config.defaultAccount;\n    }\n    /**\n     * Will set the default account.\n     */\n    set defaultAccount(val) {\n        this._triggerConfigChange('defaultAccount', val);\n        this.config.defaultAccount = val;\n    }\n    /**\n     * The default block is used for certain methods. You can override it by passing in the defaultBlock as last parameter. The default value is `\"latest\"`.\n     * - web3.eth.getBalance()\n     * - web3.eth.getCode()\n     * - web3.eth.getTransactionCount()\n     * - web3.eth.getStorageAt()\n     * - web3.eth.call()\n     * - myContract.methods.myMethod().call()\n     */\n    get defaultBlock() {\n        return this.config.defaultBlock;\n    }\n    /**\n     * Will set the default block.\n     *\n     * - A block number\n     * - `\"earliest\"` - String: The genesis block\n     * - `\"latest\"` - String: The latest block (current head of the blockchain)\n     * - `\"pending\"` - String: The currently mined block (including pending transactions)\n     * - `\"finalized\"` - String: (For POS networks) The finalized block is one which has been accepted as canonical by greater than 2/3 of validators\n     * - `\"safe\"` - String: (For POS networks) The safe head block is one which under normal network conditions, is expected to be included in the canonical chain. Under normal network conditions the safe head and the actual tip of the chain will be equivalent (with safe head trailing only by a few seconds). Safe heads will be less likely to be reorged than the proof of work network`s latest blocks.\n     */\n    set defaultBlock(val) {\n        this._triggerConfigChange('defaultBlock', val);\n        this.config.defaultBlock = val;\n    }\n    /**\n     * The time used to wait for Ethereum Node to return the sent transaction result.\n     * Note: If the RPC call stuck at the Node and therefor timed-out, the transaction may still be pending or even mined by the Network. We recommend checking the pending transactions in such a case.\n     * Default is `750` seconds (12.5 minutes).\n     */\n    get transactionSendTimeout() {\n        return this.config.transactionSendTimeout;\n    }\n    /**\n     * Will set the transactionSendTimeout.\n     */\n    set transactionSendTimeout(val) {\n        this._triggerConfigChange('transactionSendTimeout', val);\n        this.config.transactionSendTimeout = val;\n    }\n    /**\n     * The `transactionBlockTimeout` is used over socket-based connections. This option defines the amount of new blocks it should wait until the first confirmation happens, otherwise the PromiEvent rejects with a timeout error.\n     * Default is `50`.\n     */\n    get transactionBlockTimeout() {\n        return this.config.transactionBlockTimeout;\n    }\n    /**\n     * Will set the transactionBlockTimeout.\n     */\n    set transactionBlockTimeout(val) {\n        this._triggerConfigChange('transactionBlockTimeout', val);\n        this.config.transactionBlockTimeout = val;\n    }\n    /**\n     * This defines the number of blocks it requires until a transaction is considered confirmed.\n     * Default is `24`.\n     */\n    get transactionConfirmationBlocks() {\n        return this.config.transactionConfirmationBlocks;\n    }\n    /**\n     * Will set the transactionConfirmationBlocks.\n     */\n    set transactionConfirmationBlocks(val) {\n        this._triggerConfigChange('transactionConfirmationBlocks', val);\n        this.config.transactionConfirmationBlocks = val;\n    }\n    /**\n     * Used over HTTP connections. This option defines the number of seconds between Web3 calls for a receipt which confirms that a transaction was mined by the network.\n     * Default is `1000` ms.\n     */\n    get transactionPollingInterval() {\n        return this.config.transactionPollingInterval;\n    }\n    /**\n     * Will set the transactionPollingInterval.\n     */\n    set transactionPollingInterval(val) {\n        this._triggerConfigChange('transactionPollingInterval', val);\n        this.config.transactionPollingInterval = val;\n        this.transactionReceiptPollingInterval = val;\n        this.transactionConfirmationPollingInterval = val;\n    }\n    /**\n     * Used over HTTP connections. This option defines the number of seconds Web3 will wait for a receipt which confirms that a transaction was mined by the network. Note: If this method times out, the transaction may still be pending.\n     * Default is `750` seconds (12.5 minutes).\n     */\n    get transactionPollingTimeout() {\n        return this.config.transactionPollingTimeout;\n    }\n    /**\n     * Will set the transactionPollingTimeout.\n     */\n    set transactionPollingTimeout(val) {\n        this._triggerConfigChange('transactionPollingTimeout', val);\n        this.config.transactionPollingTimeout = val;\n    }\n    /**\n     * The `transactionPollingInterval` is used over HTTP connections. This option defines the number of seconds between Web3 calls for a receipt which confirms that a transaction was mined by the network.\n     * Default is `undefined`\n     */\n    get transactionReceiptPollingInterval() {\n        return this.config.transactionReceiptPollingInterval;\n    }\n    /**\n     * Will set the transactionReceiptPollingInterval\n     */\n    set transactionReceiptPollingInterval(val) {\n        this._triggerConfigChange('transactionReceiptPollingInterval', val);\n        this.config.transactionReceiptPollingInterval = val;\n    }\n    get transactionConfirmationPollingInterval() {\n        return this.config.transactionConfirmationPollingInterval;\n    }\n    set transactionConfirmationPollingInterval(val) {\n        this._triggerConfigChange('transactionConfirmationPollingInterval', val);\n        this.config.transactionConfirmationPollingInterval = val;\n    }\n    /**\n     * The blockHeaderTimeout is used over socket-based connections. This option defines the amount seconds it should wait for `'newBlockHeaders'` event before falling back to polling to fetch transaction receipt.\n     * Default is `10` seconds.\n     */\n    get blockHeaderTimeout() {\n        return this.config.blockHeaderTimeout;\n    }\n    /**\n     * Will set the blockHeaderTimeout\n     */\n    set blockHeaderTimeout(val) {\n        this._triggerConfigChange('blockHeaderTimeout', val);\n        this.config.blockHeaderTimeout = val;\n    }\n    /**\n     * The enableExperimentalFeatures is used to enable trying new experimental features that are still not fully implemented or not fully tested or still have some related issues.\n     * Default is `false` for every feature.\n     */\n    get enableExperimentalFeatures() {\n        return this.config.enableExperimentalFeatures;\n    }\n    /**\n     * Will set the enableExperimentalFeatures\n     */\n    set enableExperimentalFeatures(val) {\n        this._triggerConfigChange('enableExperimentalFeatures', val);\n        this.config.enableExperimentalFeatures = val;\n    }\n    get maxListenersWarningThreshold() {\n        return this.config.maxListenersWarningThreshold;\n    }\n    set maxListenersWarningThreshold(val) {\n        this._triggerConfigChange('maxListenersWarningThreshold', val);\n        this.setMaxListenerWarningThreshold(val);\n        this.config.maxListenersWarningThreshold = val;\n    }\n    get defaultNetworkId() {\n        return this.config.defaultNetworkId;\n    }\n    set defaultNetworkId(val) {\n        this._triggerConfigChange('defaultNetworkId', val);\n        this.config.defaultNetworkId = val;\n    }\n    get defaultChain() {\n        return this.config.defaultChain;\n    }\n    set defaultChain(val) {\n        if (!(0, web3_utils_1.isNullish)(this.config.defaultCommon) &&\n            !(0, web3_utils_1.isNullish)(this.config.defaultCommon.baseChain) &&\n            val !== this.config.defaultCommon.baseChain)\n            throw new web3_errors_1.ConfigChainMismatchError(this.config.defaultChain, val);\n        this._triggerConfigChange('defaultChain', val);\n        this.config.defaultChain = val;\n    }\n    /**\n     * Will return the default hardfork. Default is `london`\n     * The default hardfork property can be one of the following:\n     * - `chainstart`\n     * - `homestead`\n     * - `dao`\n     * - `tangerineWhistle`\n     * - `spuriousDragon`\n     * - `byzantium`\n     * - `constantinople`\n     * - `petersburg`\n     * - `istanbul`\n     * - `berlin`\n     * - `london`\n     * - 'arrowGlacier',\n     * - 'tangerineWhistle',\n     * - 'muirGlacier'\n     *\n     */\n    get defaultHardfork() {\n        return this.config.defaultHardfork;\n    }\n    /**\n     * Will set the default hardfork.\n     *\n     */\n    set defaultHardfork(val) {\n        if (!(0, web3_utils_1.isNullish)(this.config.defaultCommon) &&\n            !(0, web3_utils_1.isNullish)(this.config.defaultCommon.hardfork) &&\n            val !== this.config.defaultCommon.hardfork)\n            throw new web3_errors_1.ConfigHardforkMismatchError(this.config.defaultCommon.hardfork, val);\n        this._triggerConfigChange('defaultHardfork', val);\n        this.config.defaultHardfork = val;\n    }\n    /**\n     *\n     * Will get the default common property\n     * The default common property does contain the following Common object:\n     * - `customChain` - `Object`: The custom chain properties\n     * \t- `name` - `string`: (optional) The name of the chain\n     * \t- `networkId` - `number`: Network ID of the custom chain\n     * \t- `chainId` - `number`: Chain ID of the custom chain\n     * - `baseChain` - `string`: (optional) mainnet, goerli, kovan, rinkeby, or ropsten\n     * - `hardfork` - `string`: (optional) chainstart, homestead, dao, tangerineWhistle, spuriousDragon, byzantium, constantinople, petersburg, istanbul, berlin, or london\n     * Default is `undefined`.\n     *\n     */\n    get defaultCommon() {\n        return this.config.defaultCommon;\n    }\n    /**\n     * Will set the default common property\n     *\n     */\n    set defaultCommon(val) {\n        // validation check if default hardfork is set and matches defaultCommon hardfork\n        if (!(0, web3_utils_1.isNullish)(this.config.defaultHardfork) &&\n            !(0, web3_utils_1.isNullish)(val) &&\n            !(0, web3_utils_1.isNullish)(val.hardfork) &&\n            this.config.defaultHardfork !== val.hardfork)\n            throw new web3_errors_1.ConfigHardforkMismatchError(this.config.defaultHardfork, val.hardfork);\n        if (!(0, web3_utils_1.isNullish)(this.config.defaultChain) &&\n            !(0, web3_utils_1.isNullish)(val) &&\n            !(0, web3_utils_1.isNullish)(val.baseChain) &&\n            this.config.defaultChain !== val.baseChain)\n            throw new web3_errors_1.ConfigChainMismatchError(this.config.defaultChain, val.baseChain);\n        this._triggerConfigChange('defaultCommon', val);\n        this.config.defaultCommon = val;\n    }\n    get defaultTransactionType() {\n        return this.config.defaultTransactionType;\n    }\n    set defaultTransactionType(val) {\n        this._triggerConfigChange('defaultTransactionType', val);\n        this.config.defaultTransactionType = val;\n    }\n    get defaultMaxPriorityFeePerGas() {\n        return this.config.defaultMaxPriorityFeePerGas;\n    }\n    set defaultMaxPriorityFeePerGas(val) {\n        this._triggerConfigChange('defaultMaxPriorityFeePerGas', val);\n        this.config.defaultMaxPriorityFeePerGas = val;\n    }\n    get transactionBuilder() {\n        return this.config.transactionBuilder;\n    }\n    set transactionBuilder(val) {\n        this._triggerConfigChange('transactionBuilder', val);\n        this.config.transactionBuilder = val;\n    }\n    get transactionTypeParser() {\n        return this.config.transactionTypeParser;\n    }\n    set transactionTypeParser(val) {\n        this._triggerConfigChange('transactionTypeParser', val);\n        this.config.transactionTypeParser = val;\n    }\n    _triggerConfigChange(config, newValue) {\n        this.emit(Web3ConfigEvent.CONFIG_CHANGE, {\n            name: config,\n            oldValue: this.config[config],\n            newValue,\n        });\n    }\n}\nexports.Web3Config = Web3Config;\n//# sourceMappingURL=web3_config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfY29uZmlnLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsR0FBRyx1QkFBdUI7QUFDNUMsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0MscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMsZ0NBQWdDLG1CQUFPLENBQUMsZ0hBQXlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0RBQWdELHVCQUF1QixLQUFLO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNzdWVyX2hvbGRlcl92ZXJpZmllci8uL3NyYy9wYWdlcy9hcGkvbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvY29tbW9uanMvd2ViM19jb25maWcuanM/ZTE1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWIzQ29uZmlnID0gZXhwb3J0cy5XZWIzQ29uZmlnRXZlbnQgPSB2b2lkIDA7XG5jb25zdCB3ZWIzX2Vycm9yc18xID0gcmVxdWlyZShcIndlYjMtZXJyb3JzXCIpO1xuY29uc3Qgd2ViM191dGlsc18xID0gcmVxdWlyZShcIndlYjMtdXRpbHNcIik7XG5jb25zdCB3ZWIzX2V2ZW50X2VtaXR0ZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfZXZlbnRfZW1pdHRlci5qc1wiKTtcbnZhciBXZWIzQ29uZmlnRXZlbnQ7XG4oZnVuY3Rpb24gKFdlYjNDb25maWdFdmVudCkge1xuICAgIFdlYjNDb25maWdFdmVudFtcIkNPTkZJR19DSEFOR0VcIl0gPSBcIkNPTkZJR19DSEFOR0VcIjtcbn0pKFdlYjNDb25maWdFdmVudCA9IGV4cG9ydHMuV2ViM0NvbmZpZ0V2ZW50IHx8IChleHBvcnRzLldlYjNDb25maWdFdmVudCA9IHt9KSk7XG5jbGFzcyBXZWIzQ29uZmlnIGV4dGVuZHMgd2ViM19ldmVudF9lbWl0dGVyX2pzXzEuV2ViM0V2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGhhbmRsZVJldmVydDogZmFsc2UsXG4gICAgICAgICAgICBkZWZhdWx0QWNjb3VudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVmYXVsdEJsb2NrOiAnbGF0ZXN0JyxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0OiA1MCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzOiAyNCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsOiAxMDAwLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dDogNzUwICogMTAwMCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25TZW5kVGltZW91dDogNzUwICogMTAwMCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBibG9ja0hlYWRlclRpbWVvdXQ6IDEwLFxuICAgICAgICAgICAgbWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZDogMTAwLFxuICAgICAgICAgICAgY29udHJhY3REYXRhSW5wdXRGaWxsOiAnZGF0YScsXG4gICAgICAgICAgICBkZWZhdWx0TmV0d29ya0lkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZWZhdWx0Q2hhaW46ICdtYWlubmV0JyxcbiAgICAgICAgICAgIGRlZmF1bHRIYXJkZm9yazogJ2xvbmRvbicsXG4gICAgICAgICAgICAvLyBUT0RPIC0gQ2hlY2sgaWYgdGhlcmUgaXMgYSBkZWZhdWx0IENvbW1vblxuICAgICAgICAgICAgZGVmYXVsdENvbW1vbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVmYXVsdFRyYW5zYWN0aW9uVHlwZTogJzB4MicsXG4gICAgICAgICAgICBkZWZhdWx0TWF4UHJpb3JpdHlGZWVQZXJHYXM6ICgwLCB3ZWIzX3V0aWxzXzEudG9IZXgpKDI1MDAwMDAwMDApLFxuICAgICAgICAgICAgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXM6IHtcbiAgICAgICAgICAgICAgICB1c2VTdWJzY3JpcHRpb25XaGVuQ2hlY2tpbmdCbG9ja1RpbWVvdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVzZVJwY0NhbGxTcGVjaWZpY2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2FjdGlvbkJ1aWxkZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZVBhcnNlcjogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENvbmZpZyhvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSk7XG4gICAgfVxuICAgIHNldENvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIFRPRE86IEltcHJvdmUgYW5kIGFkZCBrZXkgY2hlY2tcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKGtleSwgb3B0aW9uc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBoYW5kbGVSZXZlcnRgIG9wdGlvbnMgcHJvcGVydHkgcmV0dXJucyB0aGUgcmV2ZXJ0IHJlYXNvbiBzdHJpbmcgaWYgZW5hYmxlZCBmb3IgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICAgICAqIC0gd2ViMy5ldGguc2VuZFRyYW5zYWN0aW9uKClcbiAgICAgKiAtIHdlYjMuZXRoLmNhbGwoKVxuICAgICAqIC0gbXlDb250cmFjdC5tZXRob2RzLm15TWV0aG9kKCkuY2FsbCgpXG4gICAgICogLSBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoKS5zZW5kKClcbiAgICAgKiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBgTm90ZWA6IEF0IHRoZSBtb21lbnQgYGhhbmRsZVJldmVydGAgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBzZW5kVHJhbnNhY3Rpb25gIGFuZCBub3QgZm9yIGBzZW5kU2lnbmVkVHJhbnNhY3Rpb25gXG4gICAgICovXG4gICAgZ2V0IGhhbmRsZVJldmVydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmhhbmRsZVJldmVydDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGhhbmRsZVJldmVydFxuICAgICAqL1xuICAgIHNldCBoYW5kbGVSZXZlcnQodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2hhbmRsZVJldmVydCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmhhbmRsZVJldmVydCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBjb250cmFjdERhdGFJbnB1dEZpbGxgIG9wdGlvbnMgcHJvcGVydHkgd2lsbCBhbGxvdyB5b3UgdG8gc2V0IHRoZSBoYXNoIG9mIHRoZSBtZXRob2Qgc2lnbmF0dXJlIGFuZCBlbmNvZGVkIHBhcmFtZXRlcnMgdG8gdGhlIHByb3BlcnR5XG4gICAgICogZWl0aGVyIGBkYXRhYCwgYGlucHV0YCBvciBib3RoIHdpdGhpbiB5b3VyIGNvbnRyYWN0LlxuICAgICAqIFRoaXMgd2lsbCBhZmZlY3QgdGhlIGNvbnRyYWN0cyBzZW5kLCBjYWxsIGFuZCBlc3RpbWF0ZUdhcyBtZXRob2RzXG4gICAgICogRGVmYXVsdCBpcyBgaW5wdXRgLlxuICAgICAqL1xuICAgIGdldCBjb250cmFjdERhdGFJbnB1dEZpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb250cmFjdERhdGFJbnB1dEZpbGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBjb250cmFjdERhdGFJbnB1dEZpbGxcbiAgICAgKi9cbiAgICBzZXQgY29udHJhY3REYXRhSW5wdXRGaWxsKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdjb250cmFjdERhdGFJbnB1dEZpbGwnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5jb250cmFjdERhdGFJbnB1dEZpbGwgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmYXVsdCBhZGRyZXNzIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgYGZyb21gIHByb3BlcnR5LCBpZiBubyBgZnJvbWAgcHJvcGVydHkgaXMgc3BlY2lmaWVkIGluIGZvciB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gICAgICogLSB3ZWIzLmV0aC5zZW5kVHJhbnNhY3Rpb24oKVxuICAgICAqIC0gd2ViMy5ldGguY2FsbCgpXG4gICAgICogLSBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoKS5jYWxsKClcbiAgICAgKiAtIG15Q29udHJhY3QubWV0aG9kcy5teU1ldGhvZCgpLnNlbmQoKVxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0QWNjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRBY2NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgZGVmYXVsdCBhY2NvdW50LlxuICAgICAqL1xuICAgIHNldCBkZWZhdWx0QWNjb3VudCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnZGVmYXVsdEFjY291bnQnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0QWNjb3VudCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgYmxvY2sgaXMgdXNlZCBmb3IgY2VydGFpbiBtZXRob2RzLiBZb3UgY2FuIG92ZXJyaWRlIGl0IGJ5IHBhc3NpbmcgaW4gdGhlIGRlZmF1bHRCbG9jayBhcyBsYXN0IHBhcmFtZXRlci4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYFwibGF0ZXN0XCJgLlxuICAgICAqIC0gd2ViMy5ldGguZ2V0QmFsYW5jZSgpXG4gICAgICogLSB3ZWIzLmV0aC5nZXRDb2RlKClcbiAgICAgKiAtIHdlYjMuZXRoLmdldFRyYW5zYWN0aW9uQ291bnQoKVxuICAgICAqIC0gd2ViMy5ldGguZ2V0U3RvcmFnZUF0KClcbiAgICAgKiAtIHdlYjMuZXRoLmNhbGwoKVxuICAgICAqIC0gbXlDb250cmFjdC5tZXRob2RzLm15TWV0aG9kKCkuY2FsbCgpXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRCbG9jaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgYmxvY2suXG4gICAgICpcbiAgICAgKiAtIEEgYmxvY2sgbnVtYmVyXG4gICAgICogLSBgXCJlYXJsaWVzdFwiYCAtIFN0cmluZzogVGhlIGdlbmVzaXMgYmxvY2tcbiAgICAgKiAtIGBcImxhdGVzdFwiYCAtIFN0cmluZzogVGhlIGxhdGVzdCBibG9jayAoY3VycmVudCBoZWFkIG9mIHRoZSBibG9ja2NoYWluKVxuICAgICAqIC0gYFwicGVuZGluZ1wiYCAtIFN0cmluZzogVGhlIGN1cnJlbnRseSBtaW5lZCBibG9jayAoaW5jbHVkaW5nIHBlbmRpbmcgdHJhbnNhY3Rpb25zKVxuICAgICAqIC0gYFwiZmluYWxpemVkXCJgIC0gU3RyaW5nOiAoRm9yIFBPUyBuZXR3b3JrcykgVGhlIGZpbmFsaXplZCBibG9jayBpcyBvbmUgd2hpY2ggaGFzIGJlZW4gYWNjZXB0ZWQgYXMgY2Fub25pY2FsIGJ5IGdyZWF0ZXIgdGhhbiAyLzMgb2YgdmFsaWRhdG9yc1xuICAgICAqIC0gYFwic2FmZVwiYCAtIFN0cmluZzogKEZvciBQT1MgbmV0d29ya3MpIFRoZSBzYWZlIGhlYWQgYmxvY2sgaXMgb25lIHdoaWNoIHVuZGVyIG5vcm1hbCBuZXR3b3JrIGNvbmRpdGlvbnMsIGlzIGV4cGVjdGVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBjYW5vbmljYWwgY2hhaW4uIFVuZGVyIG5vcm1hbCBuZXR3b3JrIGNvbmRpdGlvbnMgdGhlIHNhZmUgaGVhZCBhbmQgdGhlIGFjdHVhbCB0aXAgb2YgdGhlIGNoYWluIHdpbGwgYmUgZXF1aXZhbGVudCAod2l0aCBzYWZlIGhlYWQgdHJhaWxpbmcgb25seSBieSBhIGZldyBzZWNvbmRzKS4gU2FmZSBoZWFkcyB3aWxsIGJlIGxlc3MgbGlrZWx5IHRvIGJlIHJlb3JnZWQgdGhhbiB0aGUgcHJvb2Ygb2Ygd29yayBuZXR3b3JrYHMgbGF0ZXN0IGJsb2Nrcy5cbiAgICAgKi9cbiAgICBzZXQgZGVmYXVsdEJsb2NrKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0QmxvY2snLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2sgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHVzZWQgdG8gd2FpdCBmb3IgRXRoZXJldW0gTm9kZSB0byByZXR1cm4gdGhlIHNlbnQgdHJhbnNhY3Rpb24gcmVzdWx0LlxuICAgICAqIE5vdGU6IElmIHRoZSBSUEMgY2FsbCBzdHVjayBhdCB0aGUgTm9kZSBhbmQgdGhlcmVmb3IgdGltZWQtb3V0LCB0aGUgdHJhbnNhY3Rpb24gbWF5IHN0aWxsIGJlIHBlbmRpbmcgb3IgZXZlbiBtaW5lZCBieSB0aGUgTmV0d29yay4gV2UgcmVjb21tZW5kIGNoZWNraW5nIHRoZSBwZW5kaW5nIHRyYW5zYWN0aW9ucyBpbiBzdWNoIGEgY2FzZS5cbiAgICAgKiBEZWZhdWx0IGlzIGA3NTBgIHNlY29uZHMgKDEyLjUgbWludXRlcykuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uU2VuZFRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvblNlbmRUaW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgdHJhbnNhY3Rpb25TZW5kVGltZW91dC5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNhY3Rpb25TZW5kVGltZW91dCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgndHJhbnNhY3Rpb25TZW5kVGltZW91dCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uU2VuZFRpbWVvdXQgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgdHJhbnNhY3Rpb25CbG9ja1RpbWVvdXRgIGlzIHVzZWQgb3ZlciBzb2NrZXQtYmFzZWQgY29ubmVjdGlvbnMuIFRoaXMgb3B0aW9uIGRlZmluZXMgdGhlIGFtb3VudCBvZiBuZXcgYmxvY2tzIGl0IHNob3VsZCB3YWl0IHVudGlsIHRoZSBmaXJzdCBjb25maXJtYXRpb24gaGFwcGVucywgb3RoZXJ3aXNlIHRoZSBQcm9taUV2ZW50IHJlamVjdHMgd2l0aCBhIHRpbWVvdXQgZXJyb3IuXG4gICAgICogRGVmYXVsdCBpcyBgNTBgLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2FjdGlvbkJsb2NrVGltZW91dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgdHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQuXG4gICAgICovXG4gICAgc2V0IHRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0KHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvbkJsb2NrVGltZW91dCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0ID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgdGhlIG51bWJlciBvZiBibG9ja3MgaXQgcmVxdWlyZXMgdW50aWwgYSB0cmFuc2FjdGlvbiBpcyBjb25zaWRlcmVkIGNvbmZpcm1lZC5cbiAgICAgKiBEZWZhdWx0IGlzIGAyNGAuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSB0cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2Nrcy5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3ModmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcudHJhbnNhY3Rpb25Db25maXJtYXRpb25CbG9ja3MgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgb3ZlciBIVFRQIGNvbm5lY3Rpb25zLiBUaGlzIG9wdGlvbiBkZWZpbmVzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIFdlYjMgY2FsbHMgZm9yIGEgcmVjZWlwdCB3aGljaCBjb25maXJtcyB0aGF0IGEgdHJhbnNhY3Rpb24gd2FzIG1pbmVkIGJ5IHRoZSBuZXR3b3JrLlxuICAgICAqIERlZmF1bHQgaXMgYDEwMDBgIG1zLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2FjdGlvblBvbGxpbmdJbnRlcnZhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgdHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWwuXG4gICAgICovXG4gICAgc2V0IHRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvblBvbGxpbmdJbnRlcnZhbCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsID0gdmFsO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbCA9IHZhbDtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvblBvbGxpbmdJbnRlcnZhbCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBvdmVyIEhUVFAgY29ubmVjdGlvbnMuIFRoaXMgb3B0aW9uIGRlZmluZXMgdGhlIG51bWJlciBvZiBzZWNvbmRzIFdlYjMgd2lsbCB3YWl0IGZvciBhIHJlY2VpcHQgd2hpY2ggY29uZmlybXMgdGhhdCBhIHRyYW5zYWN0aW9uIHdhcyBtaW5lZCBieSB0aGUgbmV0d29yay4gTm90ZTogSWYgdGhpcyBtZXRob2QgdGltZXMgb3V0LCB0aGUgdHJhbnNhY3Rpb24gbWF5IHN0aWxsIGJlIHBlbmRpbmcuXG4gICAgICogRGVmYXVsdCBpcyBgNzUwYCBzZWNvbmRzICgxMi41IG1pbnV0ZXMpLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2FjdGlvblBvbGxpbmdUaW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIHRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQuXG4gICAgICovXG4gICAgc2V0IHRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy50cmFuc2FjdGlvblBvbGxpbmdUaW1lb3V0ID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYHRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsYCBpcyB1c2VkIG92ZXIgSFRUUCBjb25uZWN0aW9ucy4gVGhpcyBvcHRpb24gZGVmaW5lcyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgYmV0d2VlbiBXZWIzIGNhbGxzIGZvciBhIHJlY2VpcHQgd2hpY2ggY29uZmlybXMgdGhhdCBhIHRyYW5zYWN0aW9uIHdhcyBtaW5lZCBieSB0aGUgbmV0d29yay5cbiAgICAgKiBEZWZhdWx0IGlzIGB1bmRlZmluZWRgXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIHRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbFxuICAgICAqL1xuICAgIHNldCB0cmFuc2FjdGlvblJlY2VpcHRQb2xsaW5nSW50ZXJ2YWwodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uUmVjZWlwdFBvbGxpbmdJbnRlcnZhbCA9IHZhbDtcbiAgICB9XG4gICAgZ2V0IHRyYW5zYWN0aW9uQ29uZmlybWF0aW9uUG9sbGluZ0ludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25Db25maXJtYXRpb25Qb2xsaW5nSW50ZXJ2YWw7XG4gICAgfVxuICAgIHNldCB0cmFuc2FjdGlvbkNvbmZpcm1hdGlvblBvbGxpbmdJbnRlcnZhbCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgndHJhbnNhY3Rpb25Db25maXJtYXRpb25Qb2xsaW5nSW50ZXJ2YWwnLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvblBvbGxpbmdJbnRlcnZhbCA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGJsb2NrSGVhZGVyVGltZW91dCBpcyB1c2VkIG92ZXIgc29ja2V0LWJhc2VkIGNvbm5lY3Rpb25zLiBUaGlzIG9wdGlvbiBkZWZpbmVzIHRoZSBhbW91bnQgc2Vjb25kcyBpdCBzaG91bGQgd2FpdCBmb3IgYCduZXdCbG9ja0hlYWRlcnMnYCBldmVudCBiZWZvcmUgZmFsbGluZyBiYWNrIHRvIHBvbGxpbmcgdG8gZmV0Y2ggdHJhbnNhY3Rpb24gcmVjZWlwdC5cbiAgICAgKiBEZWZhdWx0IGlzIGAxMGAgc2Vjb25kcy5cbiAgICAgKi9cbiAgICBnZXQgYmxvY2tIZWFkZXJUaW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuYmxvY2tIZWFkZXJUaW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgYmxvY2tIZWFkZXJUaW1lb3V0XG4gICAgICovXG4gICAgc2V0IGJsb2NrSGVhZGVyVGltZW91dCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnYmxvY2tIZWFkZXJUaW1lb3V0JywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuYmxvY2tIZWFkZXJUaW1lb3V0ID0gdmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMgaXMgdXNlZCB0byBlbmFibGUgdHJ5aW5nIG5ldyBleHBlcmltZW50YWwgZmVhdHVyZXMgdGhhdCBhcmUgc3RpbGwgbm90IGZ1bGx5IGltcGxlbWVudGVkIG9yIG5vdCBmdWxseSB0ZXN0ZWQgb3Igc3RpbGwgaGF2ZSBzb21lIHJlbGF0ZWQgaXNzdWVzLlxuICAgICAqIERlZmF1bHQgaXMgYGZhbHNlYCBmb3IgZXZlcnkgZmVhdHVyZS5cbiAgICAgKi9cbiAgICBnZXQgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5lbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzXG4gICAgICovXG4gICAgc2V0IGVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdlbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcycsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzID0gdmFsO1xuICAgIH1cbiAgICBnZXQgbWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1heExpc3RlbmVyc1dhcm5pbmdUaHJlc2hvbGQ7XG4gICAgfVxuICAgIHNldCBtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkJywgdmFsKTtcbiAgICAgICAgdGhpcy5zZXRNYXhMaXN0ZW5lcldhcm5pbmdUaHJlc2hvbGQodmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcubWF4TGlzdGVuZXJzV2FybmluZ1RocmVzaG9sZCA9IHZhbDtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHROZXR3b3JrSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kZWZhdWx0TmV0d29ya0lkO1xuICAgIH1cbiAgICBzZXQgZGVmYXVsdE5ldHdvcmtJZCh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnZGVmYXVsdE5ldHdvcmtJZCcsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHROZXR3b3JrSWQgPSB2YWw7XG4gICAgfVxuICAgIGdldCBkZWZhdWx0Q2hhaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kZWZhdWx0Q2hhaW47XG4gICAgfVxuICAgIHNldCBkZWZhdWx0Q2hhaW4odmFsKSB7XG4gICAgICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHRoaXMuY29uZmlnLmRlZmF1bHRDb21tb24pICYmXG4gICAgICAgICAgICAhKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHRoaXMuY29uZmlnLmRlZmF1bHRDb21tb24uYmFzZUNoYWluKSAmJlxuICAgICAgICAgICAgdmFsICE9PSB0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmJhc2VDaGFpbilcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLkNvbmZpZ0NoYWluTWlzbWF0Y2hFcnJvcih0aGlzLmNvbmZpZy5kZWZhdWx0Q2hhaW4sIHZhbCk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRDaGFpbicsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbiA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gdGhlIGRlZmF1bHQgaGFyZGZvcmsuIERlZmF1bHQgaXMgYGxvbmRvbmBcbiAgICAgKiBUaGUgZGVmYXVsdCBoYXJkZm9yayBwcm9wZXJ0eSBjYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gICAgICogLSBgY2hhaW5zdGFydGBcbiAgICAgKiAtIGBob21lc3RlYWRgXG4gICAgICogLSBgZGFvYFxuICAgICAqIC0gYHRhbmdlcmluZVdoaXN0bGVgXG4gICAgICogLSBgc3B1cmlvdXNEcmFnb25gXG4gICAgICogLSBgYnl6YW50aXVtYFxuICAgICAqIC0gYGNvbnN0YW50aW5vcGxlYFxuICAgICAqIC0gYHBldGVyc2J1cmdgXG4gICAgICogLSBgaXN0YW5idWxgXG4gICAgICogLSBgYmVybGluYFxuICAgICAqIC0gYGxvbmRvbmBcbiAgICAgKiAtICdhcnJvd0dsYWNpZXInLFxuICAgICAqIC0gJ3RhbmdlcmluZVdoaXN0bGUnLFxuICAgICAqIC0gJ211aXJHbGFjaWVyJ1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRIYXJkZm9yaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRIYXJkZm9yaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgaGFyZGZvcmsuXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgZGVmYXVsdEhhcmRmb3JrKHZhbCkge1xuICAgICAgICBpZiAoISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKSh0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uKSAmJlxuICAgICAgICAgICAgISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKSh0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmhhcmRmb3JrKSAmJlxuICAgICAgICAgICAgdmFsICE9PSB0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uLmhhcmRmb3JrKVxuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuQ29uZmlnSGFyZGZvcmtNaXNtYXRjaEVycm9yKHRoaXMuY29uZmlnLmRlZmF1bHRDb21tb24uaGFyZGZvcmssIHZhbCk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRIYXJkZm9yaycsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlZmF1bHRIYXJkZm9yayA9IHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaWxsIGdldCB0aGUgZGVmYXVsdCBjb21tb24gcHJvcGVydHlcbiAgICAgKiBUaGUgZGVmYXVsdCBjb21tb24gcHJvcGVydHkgZG9lcyBjb250YWluIHRoZSBmb2xsb3dpbmcgQ29tbW9uIG9iamVjdDpcbiAgICAgKiAtIGBjdXN0b21DaGFpbmAgLSBgT2JqZWN0YDogVGhlIGN1c3RvbSBjaGFpbiBwcm9wZXJ0aWVzXG4gICAgICogXHQtIGBuYW1lYCAtIGBzdHJpbmdgOiAob3B0aW9uYWwpIFRoZSBuYW1lIG9mIHRoZSBjaGFpblxuICAgICAqIFx0LSBgbmV0d29ya0lkYCAtIGBudW1iZXJgOiBOZXR3b3JrIElEIG9mIHRoZSBjdXN0b20gY2hhaW5cbiAgICAgKiBcdC0gYGNoYWluSWRgIC0gYG51bWJlcmA6IENoYWluIElEIG9mIHRoZSBjdXN0b20gY2hhaW5cbiAgICAgKiAtIGBiYXNlQ2hhaW5gIC0gYHN0cmluZ2A6IChvcHRpb25hbCkgbWFpbm5ldCwgZ29lcmxpLCBrb3Zhbiwgcmlua2VieSwgb3Igcm9wc3RlblxuICAgICAqIC0gYGhhcmRmb3JrYCAtIGBzdHJpbmdgOiAob3B0aW9uYWwpIGNoYWluc3RhcnQsIGhvbWVzdGVhZCwgZGFvLCB0YW5nZXJpbmVXaGlzdGxlLCBzcHVyaW91c0RyYWdvbiwgYnl6YW50aXVtLCBjb25zdGFudGlub3BsZSwgcGV0ZXJzYnVyZywgaXN0YW5idWwsIGJlcmxpbiwgb3IgbG9uZG9uXG4gICAgICogRGVmYXVsdCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0Q29tbW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGVmYXVsdENvbW1vbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgY29tbW9uIHByb3BlcnR5XG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgZGVmYXVsdENvbW1vbih2YWwpIHtcbiAgICAgICAgLy8gdmFsaWRhdGlvbiBjaGVjayBpZiBkZWZhdWx0IGhhcmRmb3JrIGlzIHNldCBhbmQgbWF0Y2hlcyBkZWZhdWx0Q29tbW9uIGhhcmRmb3JrXG4gICAgICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHRoaXMuY29uZmlnLmRlZmF1bHRIYXJkZm9yaykgJiZcbiAgICAgICAgICAgICEoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkodmFsKSAmJlxuICAgICAgICAgICAgISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKSh2YWwuaGFyZGZvcmspICYmXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0SGFyZGZvcmsgIT09IHZhbC5oYXJkZm9yaylcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLkNvbmZpZ0hhcmRmb3JrTWlzbWF0Y2hFcnJvcih0aGlzLmNvbmZpZy5kZWZhdWx0SGFyZGZvcmssIHZhbC5oYXJkZm9yayk7XG4gICAgICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbikgJiZcbiAgICAgICAgICAgICEoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkodmFsKSAmJlxuICAgICAgICAgICAgISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKSh2YWwuYmFzZUNoYWluKSAmJlxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdENoYWluICE9PSB2YWwuYmFzZUNoYWluKVxuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuQ29uZmlnQ2hhaW5NaXNtYXRjaEVycm9yKHRoaXMuY29uZmlnLmRlZmF1bHRDaGFpbiwgdmFsLmJhc2VDaGFpbik7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ2RlZmF1bHRDb21tb24nLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0Q29tbW9uID0gdmFsO1xuICAgIH1cbiAgICBnZXQgZGVmYXVsdFRyYW5zYWN0aW9uVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRUcmFuc2FjdGlvblR5cGU7XG4gICAgfVxuICAgIHNldCBkZWZhdWx0VHJhbnNhY3Rpb25UeXBlKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCdkZWZhdWx0VHJhbnNhY3Rpb25UeXBlJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdFRyYW5zYWN0aW9uVHlwZSA9IHZhbDtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcztcbiAgICB9XG4gICAgc2V0IGRlZmF1bHRNYXhQcmlvcml0eUZlZVBlckdhcyh2YWwpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckNvbmZpZ0NoYW5nZSgnZGVmYXVsdE1heFByaW9yaXR5RmVlUGVyR2FzJywgdmFsKTtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdE1heFByaW9yaXR5RmVlUGVyR2FzID0gdmFsO1xuICAgIH1cbiAgICBnZXQgdHJhbnNhY3Rpb25CdWlsZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudHJhbnNhY3Rpb25CdWlsZGVyO1xuICAgIH1cbiAgICBzZXQgdHJhbnNhY3Rpb25CdWlsZGVyKHZhbCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ29uZmlnQ2hhbmdlKCd0cmFuc2FjdGlvbkJ1aWxkZXInLCB2YWwpO1xuICAgICAgICB0aGlzLmNvbmZpZy50cmFuc2FjdGlvbkJ1aWxkZXIgPSB2YWw7XG4gICAgfVxuICAgIGdldCB0cmFuc2FjdGlvblR5cGVQYXJzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50cmFuc2FjdGlvblR5cGVQYXJzZXI7XG4gICAgfVxuICAgIHNldCB0cmFuc2FjdGlvblR5cGVQYXJzZXIodmFsKSB7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDb25maWdDaGFuZ2UoJ3RyYW5zYWN0aW9uVHlwZVBhcnNlcicsIHZhbCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnRyYW5zYWN0aW9uVHlwZVBhcnNlciA9IHZhbDtcbiAgICB9XG4gICAgX3RyaWdnZXJDb25maWdDaGFuZ2UoY29uZmlnLCBuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLmVtaXQoV2ViM0NvbmZpZ0V2ZW50LkNPTkZJR19DSEFOR0UsIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZyxcbiAgICAgICAgICAgIG9sZFZhbHVlOiB0aGlzLmNvbmZpZ1tjb25maWddLFxuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuV2ViM0NvbmZpZyA9IFdlYjNDb25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX2NvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_config.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_context.js":
/*!***************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_context.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3EthPluginBase = exports.Web3PluginBase = exports.Web3Context = void 0;\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n// eslint-disable-next-line max-classes-per-file\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_eth_accounts_1 = __webpack_require__(/*! web3-eth-accounts */ \"(api)/./src/pages/api/node_modules/web3-eth-accounts/lib/commonjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js\");\nconst web3_batch_request_js_1 = __webpack_require__(/*! ./web3_batch_request.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_batch_request.js\");\n// eslint-disable-next-line import/no-cycle\nconst web3_config_js_1 = __webpack_require__(/*! ./web3_config.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_config.js\");\nconst web3_request_manager_js_1 = __webpack_require__(/*! ./web3_request_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js\");\nconst web3_subscription_manager_js_1 = __webpack_require__(/*! ./web3_subscription_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js\");\nclass Web3Context extends web3_config_js_1.Web3Config {\n    constructor(providerOrContext) {\n        var _a;\n        super();\n        this.providers = web3_request_manager_js_1.Web3RequestManager.providers;\n        // If \"providerOrContext\" is provided as \"string\" or an objects matching \"SupportedProviders\" interface\n        if ((0, web3_utils_1.isNullish)(providerOrContext) ||\n            (typeof providerOrContext === 'string' && providerOrContext.trim() !== '') ||\n            (0, utils_js_1.isSupportedProvider)(providerOrContext)) {\n            this._requestManager = new web3_request_manager_js_1.Web3RequestManager(providerOrContext);\n            this._subscriptionManager = new web3_subscription_manager_js_1.Web3SubscriptionManager(this._requestManager, {});\n            return;\n        }\n        const { config, provider, requestManager, subscriptionManager, registeredSubscriptions, accountProvider, wallet, } = providerOrContext;\n        this.setConfig(config !== null && config !== void 0 ? config : {});\n        this._requestManager =\n            requestManager !== null && requestManager !== void 0 ? requestManager : new web3_request_manager_js_1.Web3RequestManager(provider, (_a = config === null || config === void 0 ? void 0 : config.enableExperimentalFeatures) === null || _a === void 0 ? void 0 : _a.useSubscriptionWhenCheckingBlockTimeout);\n        if (subscriptionManager) {\n            this._subscriptionManager = subscriptionManager;\n        }\n        else {\n            this._subscriptionManager = new web3_subscription_manager_js_1.Web3SubscriptionManager(this.requestManager, registeredSubscriptions !== null && registeredSubscriptions !== void 0 ? registeredSubscriptions : {});\n        }\n        if (accountProvider) {\n            this._accountProvider = accountProvider;\n        }\n        if (wallet) {\n            this._wallet = wallet;\n        }\n    }\n    get requestManager() {\n        return this._requestManager;\n    }\n    /**\n     * Will return the current subscriptionManager ({@link Web3SubscriptionManager})\n     */\n    get subscriptionManager() {\n        return this._subscriptionManager;\n    }\n    get wallet() {\n        return this._wallet;\n    }\n    get accountProvider() {\n        return this._accountProvider;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static fromContextObject(...args) {\n        return new this(...args.reverse());\n    }\n    getContextObject() {\n        var _a;\n        return {\n            config: this.config,\n            provider: this.provider,\n            requestManager: this.requestManager,\n            subscriptionManager: this.subscriptionManager,\n            registeredSubscriptions: (_a = this.subscriptionManager) === null || _a === void 0 ? void 0 : _a.registeredSubscriptions,\n            providers: this.providers,\n            wallet: this.wallet,\n            accountProvider: this.accountProvider,\n        };\n    }\n    /**\n     * Use to create new object of any type extended by `Web3Context`\n     * and link it to current context. This can be used to initiate a global context object\n     * and then use it to create new objects of any type extended by `Web3Context`.\n     */\n    use(ContextRef, ...args) {\n        const newContextChild = new ContextRef(...[...args, this.getContextObject()]);\n        this.on(web3_config_js_1.Web3ConfigEvent.CONFIG_CHANGE, event => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            newContextChild.setConfig({ [event.name]: event.newValue });\n        });\n        return newContextChild;\n    }\n    /**\n     * Link current context to another context.\n     */\n    link(parentContext) {\n        this.setConfig(parentContext.config);\n        this._requestManager = parentContext.requestManager;\n        this.provider = parentContext.provider;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        this._subscriptionManager = parentContext.subscriptionManager;\n        this._wallet = parentContext.wallet;\n        this._accountProvider = parentContext._accountProvider;\n        parentContext.on(web3_config_js_1.Web3ConfigEvent.CONFIG_CHANGE, event => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            this.setConfig({ [event.name]: event.newValue });\n        });\n    }\n    // eslint-disable-next-line no-use-before-define\n    registerPlugin(plugin) {\n        // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n        if (this[plugin.pluginNamespace] !== undefined)\n            throw new web3_errors_1.ExistingPluginNamespaceError(plugin.pluginNamespace);\n        const _pluginObject = {\n            [plugin.pluginNamespace]: plugin,\n        };\n        _pluginObject[plugin.pluginNamespace].link(this);\n        Object.assign(this, _pluginObject);\n    }\n    /**\n     * Will return the current provider.\n     *\n     * @returns Returns the current provider\n     * @example\n     * ```ts\n     * const web3 = new Web3Context(\"http://localhost:8545\");\n     * console.log(web3.provider);\n     * > HttpProvider {\n     * \tclientUrl: 'http://localhost:8545',\n     * \thttpProviderOptions: undefined\n     *  }\n     * ```\n     */\n    get provider() {\n        return this.currentProvider;\n    }\n    /**\n     * Will set the current provider.\n     *\n     * @param provider - The provider to set\n     *\n     * Accepted providers are of type {@link SupportedProviders}\n     * @example\n     * ```ts\n     *  const web3Context = new web3ContextContext(\"http://localhost:8545\");\n     * web3Context.provider = \"ws://localhost:8545\";\n     * console.log(web3Context.provider);\n     * > WebSocketProvider {\n     * _eventEmitter: EventEmitter {\n     * _events: [Object: null prototype] {},\n     * _eventsCount: 0,\n     * ...\n     * }\n     * ```\n     */\n    set provider(provider) {\n        this.requestManager.setProvider(provider);\n    }\n    /**\n     * Will return the current provider. (The same as `provider`)\n     *\n     * @returns Returns the current provider\n     * @example\n     * ```ts\n     * const web3Context = new Web3Context(\"http://localhost:8545\");\n     * console.log(web3Context.provider);\n     * > HttpProvider {\n     * \tclientUrl: 'http://localhost:8545',\n     * \thttpProviderOptions: undefined\n     *  }\n     * ```\n     */\n    get currentProvider() {\n        return this.requestManager.provider;\n    }\n    /**\n     * Will set the current provider. (The same as `provider`)\n     *\n     * @param provider - {@link SupportedProviders} The provider to set\n     *\n     * @example\n     * ```ts\n     *  const web3Context = new Web3Context(\"http://localhost:8545\");\n     * web3Context.currentProvider = \"ws://localhost:8545\";\n     * console.log(web3Context.provider);\n     * > WebSocketProvider {\n     * _eventEmitter: EventEmitter {\n     * _events: [Object: null prototype] {},\n     * _eventsCount: 0,\n     * ...\n     * }\n     * ```\n     */\n    set currentProvider(provider) {\n        this.requestManager.setProvider(provider);\n    }\n    /**\n     * Will return the givenProvider if available.\n     *\n     * When using web3.js in an Ethereum compatible browser, it will set with the current native provider by that browser. Will return the given provider by the (browser) environment, otherwise `undefined`.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    get givenProvider() {\n        return Web3Context.givenProvider;\n    }\n    /**\n     * Will set the provider.\n     *\n     * @param provider - {@link SupportedProviders} The provider to set\n     * @returns Returns true if the provider was set\n     */\n    setProvider(provider) {\n        this.provider = provider;\n        return true;\n    }\n    /**\n     * Will return the {@link Web3BatchRequest} constructor.\n     */\n    get BatchRequest() {\n        return web3_batch_request_js_1.Web3BatchRequest.bind(undefined, this._requestManager);\n    }\n    /**\n     * This method allows extending the web3 modules.\n     * Note: This method is only for backward compatibility, and It is recommended to use Web3 v4 Plugin feature for extending web3.js functionality if you are developing some thing new.\n     */\n    extend(extendObj) {\n        var _a;\n        // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n        if (extendObj.property && !this[extendObj.property])\n            // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n            this[extendObj.property] = {};\n        (_a = extendObj.methods) === null || _a === void 0 ? void 0 : _a.forEach(element => {\n            const method = (...givenParams) => __awaiter(this, void 0, void 0, function* () {\n                return this.requestManager.send({\n                    method: element.call,\n                    params: givenParams,\n                });\n            });\n            if (extendObj.property)\n                // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                this[extendObj.property][element.name] = method;\n            // @ts-expect-error No index signature with a parameter of type 'string' was found on type 'Web3Context<API, RegisteredSubs>'\n            else\n                this[element.name] = method;\n        });\n        return this;\n    }\n}\nexports.Web3Context = Web3Context;\nWeb3Context.providers = web3_request_manager_js_1.Web3RequestManager.providers;\n/**\n * Extend this class when creating a plugin that either doesn't require {@link EthExecutionAPI},\n * or interacts with a RPC node that doesn't fully implement {@link EthExecutionAPI}.\n *\n * To add type support for RPC methods to the {@link Web3RequestManager},\n * define a {@link Web3APISpec} and pass it as a generic to Web3PluginBase like so:\n *\n * @example\n * ```ts\n * type CustomRpcApi = {\n *\tcustom_rpc_method: () => string;\n *\tcustom_rpc_method_with_parameters: (parameter1: string, parameter2: number) => string;\n * };\n *\n * class CustomPlugin extends Web3PluginBase<CustomRpcApi> {...}\n * ```\n */\nclass Web3PluginBase extends Web3Context {\n    // eslint-disable-next-line class-methods-use-this\n    registerNewTransactionType(type, txClass) {\n        web3_eth_accounts_1.TransactionFactory.registerTransactionType(type, txClass);\n    }\n}\nexports.Web3PluginBase = Web3PluginBase;\n/**\n* Extend this class when creating a plugin that makes use of {@link EthExecutionAPI},\n* or depends on other Web3 packages (such as `web3-eth-contract`) that depend on {@link EthExecutionAPI}.\n*\n* To add type support for RPC methods to the {@link Web3RequestManager} (in addition to {@link EthExecutionAPI}),\n* define a {@link Web3APISpec} and pass it as a generic to Web3PluginBase like so:\n*\n* @example\n* ```ts\n* type CustomRpcApi = {\n*\tcustom_rpc_method: () => string;\n*\tcustom_rpc_method_with_parameters: (parameter1: string, parameter2: number) => string;\n* };\n*\n* class CustomPlugin extends Web3PluginBase<CustomRpcApi> {...}\n* ```\n*/\nclass Web3EthPluginBase extends Web3PluginBase {\n}\nexports.Web3EthPluginBase = Web3EthPluginBase;\n//# sourceMappingURL=web3_context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfY29udGV4dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CO0FBQ3hFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBTyxDQUFDLHlGQUFhO0FBQzNDLHFCQUFxQixtQkFBTyxDQUFDLHVGQUFZO0FBQ3pDLDRCQUE0QixtQkFBTyxDQUFDLHFHQUFtQjtBQUN2RCxtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBWTtBQUN2QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBeUI7QUFDakU7QUFDQSx5QkFBeUIsbUJBQU8sQ0FBQyxrR0FBa0I7QUFDbkQsa0NBQWtDLG1CQUFPLENBQUMsb0hBQTJCO0FBQ3JFLHVDQUF1QyxtQkFBTyxDQUFDLDhIQUFnQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJIQUEySDtBQUMzSDtBQUNBO0FBQ0EsZ0JBQWdCLDJHQUEyRztBQUMzSCx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNk5BQTZOO0FBQzdOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4QkFBOEI7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDhCQUE4QjtBQUN0RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDhCQUE4QjtBQUMzRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMEJBQTBCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwQkFBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLHlFQUF5RSxzQkFBc0I7QUFDL0YsOERBQThELHNCQUFzQjtBQUNwRjtBQUNBLCtDQUErQyx5QkFBeUI7QUFDeEUsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsOERBQThELHNCQUFzQjtBQUNwRixrRkFBa0Ysc0JBQXNCO0FBQ3hHO0FBQ0EsOENBQThDLDBCQUEwQixpQkFBaUIsc0JBQXNCO0FBQy9HLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9jb21tb25qcy93ZWIzX2NvbnRleHQuanM/ZDZhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWIzRXRoUGx1Z2luQmFzZSA9IGV4cG9ydHMuV2ViM1BsdWdpbkJhc2UgPSBleHBvcnRzLldlYjNDb250ZXh0ID0gdm9pZCAwO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWNsYXNzZXMtcGVyLWZpbGVcbmNvbnN0IHdlYjNfZXJyb3JzXzEgPSByZXF1aXJlKFwid2ViMy1lcnJvcnNcIik7XG5jb25zdCB3ZWIzX3V0aWxzXzEgPSByZXF1aXJlKFwid2ViMy11dGlsc1wiKTtcbmNvbnN0IHdlYjNfZXRoX2FjY291bnRzXzEgPSByZXF1aXJlKFwid2ViMy1ldGgtYWNjb3VudHNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCB3ZWIzX2JhdGNoX3JlcXVlc3RfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfYmF0Y2hfcmVxdWVzdC5qc1wiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmNvbnN0IHdlYjNfY29uZmlnX2pzXzEgPSByZXF1aXJlKFwiLi93ZWIzX2NvbmZpZy5qc1wiKTtcbmNvbnN0IHdlYjNfcmVxdWVzdF9tYW5hZ2VyX2pzXzEgPSByZXF1aXJlKFwiLi93ZWIzX3JlcXVlc3RfbWFuYWdlci5qc1wiKTtcbmNvbnN0IHdlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXIuanNcIik7XG5jbGFzcyBXZWIzQ29udGV4dCBleHRlbmRzIHdlYjNfY29uZmlnX2pzXzEuV2ViM0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IocHJvdmlkZXJPckNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IHdlYjNfcmVxdWVzdF9tYW5hZ2VyX2pzXzEuV2ViM1JlcXVlc3RNYW5hZ2VyLnByb3ZpZGVycztcbiAgICAgICAgLy8gSWYgXCJwcm92aWRlck9yQ29udGV4dFwiIGlzIHByb3ZpZGVkIGFzIFwic3RyaW5nXCIgb3IgYW4gb2JqZWN0cyBtYXRjaGluZyBcIlN1cHBvcnRlZFByb3ZpZGVyc1wiIGludGVyZmFjZVxuICAgICAgICBpZiAoKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHByb3ZpZGVyT3JDb250ZXh0KSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBwcm92aWRlck9yQ29udGV4dCA9PT0gJ3N0cmluZycgJiYgcHJvdmlkZXJPckNvbnRleHQudHJpbSgpICE9PSAnJykgfHxcbiAgICAgICAgICAgICgwLCB1dGlsc19qc18xLmlzU3VwcG9ydGVkUHJvdmlkZXIpKHByb3ZpZGVyT3JDb250ZXh0KSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgd2ViM19yZXF1ZXN0X21hbmFnZXJfanNfMS5XZWIzUmVxdWVzdE1hbmFnZXIocHJvdmlkZXJPckNvbnRleHQpO1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlciA9IG5ldyB3ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyX2pzXzEuV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIodGhpcy5fcmVxdWVzdE1hbmFnZXIsIHt9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNvbmZpZywgcHJvdmlkZXIsIHJlcXVlc3RNYW5hZ2VyLCBzdWJzY3JpcHRpb25NYW5hZ2VyLCByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucywgYWNjb3VudFByb3ZpZGVyLCB3YWxsZXQsIH0gPSBwcm92aWRlck9yQ29udGV4dDtcbiAgICAgICAgdGhpcy5zZXRDb25maWcoY29uZmlnICE9PSBudWxsICYmIGNvbmZpZyAhPT0gdm9pZCAwID8gY29uZmlnIDoge30pO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0TWFuYWdlciA9XG4gICAgICAgICAgICByZXF1ZXN0TWFuYWdlciAhPT0gbnVsbCAmJiByZXF1ZXN0TWFuYWdlciAhPT0gdm9pZCAwID8gcmVxdWVzdE1hbmFnZXIgOiBuZXcgd2ViM19yZXF1ZXN0X21hbmFnZXJfanNfMS5XZWIzUmVxdWVzdE1hbmFnZXIocHJvdmlkZXIsIChfYSA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5lbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVzZVN1YnNjcmlwdGlvbldoZW5DaGVja2luZ0Jsb2NrVGltZW91dCk7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25NYW5hZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyID0gc3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBuZXcgd2ViM19zdWJzY3JpcHRpb25fbWFuYWdlcl9qc18xLldlYjNTdWJzY3JpcHRpb25NYW5hZ2VyKHRoaXMucmVxdWVzdE1hbmFnZXIsIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zICE9PSBudWxsICYmIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zICE9PSB2b2lkIDAgPyByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyA6IHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWNjb3VudFByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY2NvdW50UHJvdmlkZXIgPSBhY2NvdW50UHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbGxldCkge1xuICAgICAgICAgICAgdGhpcy5fd2FsbGV0ID0gd2FsbGV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCByZXF1ZXN0TWFuYWdlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNYW5hZ2VyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgY3VycmVudCBzdWJzY3JpcHRpb25NYW5hZ2VyICh7QGxpbmsgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXJ9KVxuICAgICAqL1xuICAgIGdldCBzdWJzY3JpcHRpb25NYW5hZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgICB9XG4gICAgZ2V0IHdhbGxldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhbGxldDtcbiAgICB9XG4gICAgZ2V0IGFjY291bnRQcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjY291bnRQcm92aWRlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgZnJvbUNvbnRleHRPYmplY3QoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoLi4uYXJncy5yZXZlcnNlKCkpO1xuICAgIH1cbiAgICBnZXRDb250ZXh0T2JqZWN0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgICAgICByZXF1ZXN0TWFuYWdlcjogdGhpcy5yZXF1ZXN0TWFuYWdlcixcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk1hbmFnZXI6IHRoaXMuc3Vic2NyaXB0aW9uTWFuYWdlcixcbiAgICAgICAgICAgIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zOiAoX2EgPSB0aGlzLnN1YnNjcmlwdGlvbk1hbmFnZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgICAgIHByb3ZpZGVyczogdGhpcy5wcm92aWRlcnMsXG4gICAgICAgICAgICB3YWxsZXQ6IHRoaXMud2FsbGV0LFxuICAgICAgICAgICAgYWNjb3VudFByb3ZpZGVyOiB0aGlzLmFjY291bnRQcm92aWRlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlIHRvIGNyZWF0ZSBuZXcgb2JqZWN0IG9mIGFueSB0eXBlIGV4dGVuZGVkIGJ5IGBXZWIzQ29udGV4dGBcbiAgICAgKiBhbmQgbGluayBpdCB0byBjdXJyZW50IGNvbnRleHQuIFRoaXMgY2FuIGJlIHVzZWQgdG8gaW5pdGlhdGUgYSBnbG9iYWwgY29udGV4dCBvYmplY3RcbiAgICAgKiBhbmQgdGhlbiB1c2UgaXQgdG8gY3JlYXRlIG5ldyBvYmplY3RzIG9mIGFueSB0eXBlIGV4dGVuZGVkIGJ5IGBXZWIzQ29udGV4dGAuXG4gICAgICovXG4gICAgdXNlKENvbnRleHRSZWYsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbmV3Q29udGV4dENoaWxkID0gbmV3IENvbnRleHRSZWYoLi4uWy4uLmFyZ3MsIHRoaXMuZ2V0Q29udGV4dE9iamVjdCgpXSk7XG4gICAgICAgIHRoaXMub24od2ViM19jb25maWdfanNfMS5XZWIzQ29uZmlnRXZlbnQuQ09ORklHX0NIQU5HRSwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgbmV3Q29udGV4dENoaWxkLnNldENvbmZpZyh7IFtldmVudC5uYW1lXTogZXZlbnQubmV3VmFsdWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3Q29udGV4dENoaWxkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaW5rIGN1cnJlbnQgY29udGV4dCB0byBhbm90aGVyIGNvbnRleHQuXG4gICAgICovXG4gICAgbGluayhwYXJlbnRDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnKHBhcmVudENvbnRleHQuY29uZmlnKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdE1hbmFnZXIgPSBwYXJlbnRDb250ZXh0LnJlcXVlc3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcGFyZW50Q29udGV4dC5wcm92aWRlcjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyID0gcGFyZW50Q29udGV4dC5zdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAgICAgICB0aGlzLl93YWxsZXQgPSBwYXJlbnRDb250ZXh0LndhbGxldDtcbiAgICAgICAgdGhpcy5fYWNjb3VudFByb3ZpZGVyID0gcGFyZW50Q29udGV4dC5fYWNjb3VudFByb3ZpZGVyO1xuICAgICAgICBwYXJlbnRDb250ZXh0Lm9uKHdlYjNfY29uZmlnX2pzXzEuV2ViM0NvbmZpZ0V2ZW50LkNPTkZJR19DSEFOR0UsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgIHRoaXMuc2V0Q29uZmlnKHsgW2V2ZW50Lm5hbWVdOiBldmVudC5uZXdWYWx1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICBpZiAodGhpc1twbHVnaW4ucGx1Z2luTmFtZXNwYWNlXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuRXhpc3RpbmdQbHVnaW5OYW1lc3BhY2VFcnJvcihwbHVnaW4ucGx1Z2luTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgX3BsdWdpbk9iamVjdCA9IHtcbiAgICAgICAgICAgIFtwbHVnaW4ucGx1Z2luTmFtZXNwYWNlXTogcGx1Z2luLFxuICAgICAgICB9O1xuICAgICAgICBfcGx1Z2luT2JqZWN0W3BsdWdpbi5wbHVnaW5OYW1lc3BhY2VdLmxpbmsodGhpcyk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgX3BsdWdpbk9iamVjdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIHRoZSBjdXJyZW50IHByb3ZpZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmV0dXJucyB0aGUgY3VycmVudCBwcm92aWRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCB3ZWIzID0gbmV3IFdlYjNDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKHdlYjMucHJvdmlkZXIpO1xuICAgICAqID4gSHR0cFByb3ZpZGVyIHtcbiAgICAgKiBcdGNsaWVudFVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODU0NScsXG4gICAgICogXHRodHRwUHJvdmlkZXJPcHRpb25zOiB1bmRlZmluZWRcbiAgICAgKiAgfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldCBwcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFByb3ZpZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCB0aGUgY3VycmVudCBwcm92aWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKlxuICAgICAqIEFjY2VwdGVkIHByb3ZpZGVycyBhcmUgb2YgdHlwZSB7QGxpbmsgU3VwcG9ydGVkUHJvdmlkZXJzfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiAgY29uc3Qgd2ViM0NvbnRleHQgPSBuZXcgd2ViM0NvbnRleHRDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIHdlYjNDb250ZXh0LnByb3ZpZGVyID0gXCJ3czovL2xvY2FsaG9zdDo4NTQ1XCI7XG4gICAgICogY29uc29sZS5sb2cod2ViM0NvbnRleHQucHJvdmlkZXIpO1xuICAgICAqID4gV2ViU29ja2V0UHJvdmlkZXIge1xuICAgICAqIF9ldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlciB7XG4gICAgICogX2V2ZW50czogW09iamVjdDogbnVsbCBwcm90b3R5cGVdIHt9LFxuICAgICAqIF9ldmVudHNDb3VudDogMCxcbiAgICAgKiAuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2V0IHByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgY3VycmVudCBwcm92aWRlci4gKFRoZSBzYW1lIGFzIGBwcm92aWRlcmApXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBjdXJyZW50IHByb3ZpZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHdlYjNDb250ZXh0ID0gbmV3IFdlYjNDb250ZXh0KFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKHdlYjNDb250ZXh0LnByb3ZpZGVyKTtcbiAgICAgKiA+IEh0dHBQcm92aWRlciB7XG4gICAgICogXHRjbGllbnRVcmw6ICdodHRwOi8vbG9jYWxob3N0Ojg1NDUnLFxuICAgICAqIFx0aHR0cFByb3ZpZGVyT3B0aW9uczogdW5kZWZpbmVkXG4gICAgICogIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgY3VycmVudFByb3ZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgdGhlIGN1cnJlbnQgcHJvdmlkZXIuIChUaGUgc2FtZSBhcyBgcHJvdmlkZXJgKVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIC0ge0BsaW5rIFN1cHBvcnRlZFByb3ZpZGVyc30gVGhlIHByb3ZpZGVyIHRvIHNldFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqICBjb25zdCB3ZWIzQ29udGV4dCA9IG5ldyBXZWIzQ29udGV4dChcImh0dHA6Ly9sb2NhbGhvc3Q6ODU0NVwiKTtcbiAgICAgKiB3ZWIzQ29udGV4dC5jdXJyZW50UHJvdmlkZXIgPSBcIndzOi8vbG9jYWxob3N0Ojg1NDVcIjtcbiAgICAgKiBjb25zb2xlLmxvZyh3ZWIzQ29udGV4dC5wcm92aWRlcik7XG4gICAgICogPiBXZWJTb2NrZXRQcm92aWRlciB7XG4gICAgICogX2V2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyIHtcbiAgICAgKiBfZXZlbnRzOiBbT2JqZWN0OiBudWxsIHByb3RvdHlwZV0ge30sXG4gICAgICogX2V2ZW50c0NvdW50OiAwLFxuICAgICAqIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzZXQgY3VycmVudFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUgZ2l2ZW5Qcm92aWRlciBpZiBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBXaGVuIHVzaW5nIHdlYjMuanMgaW4gYW4gRXRoZXJldW0gY29tcGF0aWJsZSBicm93c2VyLCBpdCB3aWxsIHNldCB3aXRoIHRoZSBjdXJyZW50IG5hdGl2ZSBwcm92aWRlciBieSB0aGF0IGJyb3dzZXIuIFdpbGwgcmV0dXJuIHRoZSBnaXZlbiBwcm92aWRlciBieSB0aGUgKGJyb3dzZXIpIGVudmlyb25tZW50LCBvdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBnZXQgZ2l2ZW5Qcm92aWRlcigpIHtcbiAgICAgICAgcmV0dXJuIFdlYjNDb250ZXh0LmdpdmVuUHJvdmlkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IHRoZSBwcm92aWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIHtAbGluayBTdXBwb3J0ZWRQcm92aWRlcnN9IFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVyIHdhcyBzZXRcbiAgICAgKi9cbiAgICBzZXRQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiB0aGUge0BsaW5rIFdlYjNCYXRjaFJlcXVlc3R9IGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGdldCBCYXRjaFJlcXVlc3QoKSB7XG4gICAgICAgIHJldHVybiB3ZWIzX2JhdGNoX3JlcXVlc3RfanNfMS5XZWIzQmF0Y2hSZXF1ZXN0LmJpbmQodW5kZWZpbmVkLCB0aGlzLl9yZXF1ZXN0TWFuYWdlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyBleHRlbmRpbmcgdGhlIHdlYjMgbW9kdWxlcy5cbiAgICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBvbmx5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBhbmQgSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIFdlYjMgdjQgUGx1Z2luIGZlYXR1cmUgZm9yIGV4dGVuZGluZyB3ZWIzLmpzIGZ1bmN0aW9uYWxpdHkgaWYgeW91IGFyZSBkZXZlbG9waW5nIHNvbWUgdGhpbmcgbmV3LlxuICAgICAqL1xuICAgIGV4dGVuZChleHRlbmRPYmopIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICBpZiAoZXh0ZW5kT2JqLnByb3BlcnR5ICYmICF0aGlzW2V4dGVuZE9iai5wcm9wZXJ0eV0pXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICAgICAgdGhpc1tleHRlbmRPYmoucHJvcGVydHldID0ge307XG4gICAgICAgIChfYSA9IGV4dGVuZE9iai5tZXRob2RzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9ICguLi5naXZlblBhcmFtcykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGVsZW1lbnQuY2FsbCxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBnaXZlblBhcmFtcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGV4dGVuZE9iai5wcm9wZXJ0eSlcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE5vIGluZGV4IHNpZ25hdHVyZSB3aXRoIGEgcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZycgd2FzIGZvdW5kIG9uIHR5cGUgJ1dlYjNDb250ZXh0PEFQSSwgUmVnaXN0ZXJlZFN1YnM+J1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICB0aGlzW2V4dGVuZE9iai5wcm9wZXJ0eV1bZWxlbWVudC5uYW1lXSA9IG1ldGhvZDtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgTm8gaW5kZXggc2lnbmF0dXJlIHdpdGggYSBwYXJhbWV0ZXIgb2YgdHlwZSAnc3RyaW5nJyB3YXMgZm91bmQgb24gdHlwZSAnV2ViM0NvbnRleHQ8QVBJLCBSZWdpc3RlcmVkU3Vicz4nXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpc1tlbGVtZW50Lm5hbWVdID0gbWV0aG9kO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5XZWIzQ29udGV4dCA9IFdlYjNDb250ZXh0O1xuV2ViM0NvbnRleHQucHJvdmlkZXJzID0gd2ViM19yZXF1ZXN0X21hbmFnZXJfanNfMS5XZWIzUmVxdWVzdE1hbmFnZXIucHJvdmlkZXJzO1xuLyoqXG4gKiBFeHRlbmQgdGhpcyBjbGFzcyB3aGVuIGNyZWF0aW5nIGEgcGx1Z2luIHRoYXQgZWl0aGVyIGRvZXNuJ3QgcmVxdWlyZSB7QGxpbmsgRXRoRXhlY3V0aW9uQVBJfSxcbiAqIG9yIGludGVyYWN0cyB3aXRoIGEgUlBDIG5vZGUgdGhhdCBkb2Vzbid0IGZ1bGx5IGltcGxlbWVudCB7QGxpbmsgRXRoRXhlY3V0aW9uQVBJfS5cbiAqXG4gKiBUbyBhZGQgdHlwZSBzdXBwb3J0IGZvciBSUEMgbWV0aG9kcyB0byB0aGUge0BsaW5rIFdlYjNSZXF1ZXN0TWFuYWdlcn0sXG4gKiBkZWZpbmUgYSB7QGxpbmsgV2ViM0FQSVNwZWN9IGFuZCBwYXNzIGl0IGFzIGEgZ2VuZXJpYyB0byBXZWIzUGx1Z2luQmFzZSBsaWtlIHNvOlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogdHlwZSBDdXN0b21ScGNBcGkgPSB7XG4gKlx0Y3VzdG9tX3JwY19tZXRob2Q6ICgpID0+IHN0cmluZztcbiAqXHRjdXN0b21fcnBjX21ldGhvZF93aXRoX3BhcmFtZXRlcnM6IChwYXJhbWV0ZXIxOiBzdHJpbmcsIHBhcmFtZXRlcjI6IG51bWJlcikgPT4gc3RyaW5nO1xuICogfTtcbiAqXG4gKiBjbGFzcyBDdXN0b21QbHVnaW4gZXh0ZW5kcyBXZWIzUGx1Z2luQmFzZTxDdXN0b21ScGNBcGk+IHsuLi59XG4gKiBgYGBcbiAqL1xuY2xhc3MgV2ViM1BsdWdpbkJhc2UgZXh0ZW5kcyBXZWIzQ29udGV4dCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICByZWdpc3Rlck5ld1RyYW5zYWN0aW9uVHlwZSh0eXBlLCB0eENsYXNzKSB7XG4gICAgICAgIHdlYjNfZXRoX2FjY291bnRzXzEuVHJhbnNhY3Rpb25GYWN0b3J5LnJlZ2lzdGVyVHJhbnNhY3Rpb25UeXBlKHR5cGUsIHR4Q2xhc3MpO1xuICAgIH1cbn1cbmV4cG9ydHMuV2ViM1BsdWdpbkJhc2UgPSBXZWIzUGx1Z2luQmFzZTtcbi8qKlxuKiBFeHRlbmQgdGhpcyBjbGFzcyB3aGVuIGNyZWF0aW5nIGEgcGx1Z2luIHRoYXQgbWFrZXMgdXNlIG9mIHtAbGluayBFdGhFeGVjdXRpb25BUEl9LFxuKiBvciBkZXBlbmRzIG9uIG90aGVyIFdlYjMgcGFja2FnZXMgKHN1Y2ggYXMgYHdlYjMtZXRoLWNvbnRyYWN0YCkgdGhhdCBkZXBlbmQgb24ge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0uXG4qXG4qIFRvIGFkZCB0eXBlIHN1cHBvcnQgZm9yIFJQQyBtZXRob2RzIHRvIHRoZSB7QGxpbmsgV2ViM1JlcXVlc3RNYW5hZ2VyfSAoaW4gYWRkaXRpb24gdG8ge0BsaW5rIEV0aEV4ZWN1dGlvbkFQSX0pLFxuKiBkZWZpbmUgYSB7QGxpbmsgV2ViM0FQSVNwZWN9IGFuZCBwYXNzIGl0IGFzIGEgZ2VuZXJpYyB0byBXZWIzUGx1Z2luQmFzZSBsaWtlIHNvOlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiB0eXBlIEN1c3RvbVJwY0FwaSA9IHtcbipcdGN1c3RvbV9ycGNfbWV0aG9kOiAoKSA9PiBzdHJpbmc7XG4qXHRjdXN0b21fcnBjX21ldGhvZF93aXRoX3BhcmFtZXRlcnM6IChwYXJhbWV0ZXIxOiBzdHJpbmcsIHBhcmFtZXRlcjI6IG51bWJlcikgPT4gc3RyaW5nO1xuKiB9O1xuKlxuKiBjbGFzcyBDdXN0b21QbHVnaW4gZXh0ZW5kcyBXZWIzUGx1Z2luQmFzZTxDdXN0b21ScGNBcGk+IHsuLi59XG4qIGBgYFxuKi9cbmNsYXNzIFdlYjNFdGhQbHVnaW5CYXNlIGV4dGVuZHMgV2ViM1BsdWdpbkJhc2Uge1xufVxuZXhwb3J0cy5XZWIzRXRoUGx1Z2luQmFzZSA9IFdlYjNFdGhQbHVnaW5CYXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19jb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_context.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js":
/*!*********************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3EventEmitter = void 0;\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nclass Web3EventEmitter {\n    constructor() {\n        this._emitter = new web3_utils_1.EventEmitter();\n    }\n    on(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.on(eventName, fn);\n    }\n    once(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.once(eventName, fn);\n    }\n    off(eventName, fn) {\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        this._emitter.off(eventName, fn);\n    }\n    emit(eventName, params) {\n        this._emitter.emit(eventName, params);\n    }\n    listenerCount(eventName) {\n        return this._emitter.listenerCount(eventName);\n    }\n    listeners(eventName) {\n        return this._emitter.listeners(eventName);\n    }\n    eventNames() {\n        return this._emitter.eventNames();\n    }\n    removeAllListeners() {\n        return this._emitter.removeAllListeners();\n    }\n    setMaxListenerWarningThreshold(maxListenersWarningThreshold) {\n        this._emitter.setMaxListeners(maxListenersWarningThreshold);\n    }\n    getMaxListeners() {\n        return this._emitter.getMaxListeners();\n    }\n}\nexports.Web3EventEmitter = Web3EventEmitter;\n//# sourceMappingURL=web3_event_emitter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfZXZlbnRfZW1pdHRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLHFCQUFxQixtQkFBTyxDQUFDLHVGQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9jb21tb25qcy93ZWIzX2V2ZW50X2VtaXR0ZXIuanM/NzAxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWIzRXZlbnRFbWl0dGVyID0gdm9pZCAwO1xuY29uc3Qgd2ViM191dGlsc18xID0gcmVxdWlyZShcIndlYjMtdXRpbHNcIik7XG5jbGFzcyBXZWIzRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyB3ZWIzX3V0aWxzXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIG9uKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1taXN1c2VkLXByb21pc2VzXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIub24oZXZlbnROYW1lLCBmbik7XG4gICAgfVxuICAgIG9uY2UoZXZlbnROYW1lLCBmbikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1pc3VzZWQtcHJvbWlzZXNcbiAgICAgICAgdGhpcy5fZW1pdHRlci5vbmNlKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cbiAgICBvZmYoZXZlbnROYW1lLCBmbikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1pc3VzZWQtcHJvbWlzZXNcbiAgICAgICAgdGhpcy5fZW1pdHRlci5vZmYoZXZlbnROYW1lLCBmbik7XG4gICAgfVxuICAgIGVtaXQoZXZlbnROYW1lLCBwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KGV2ZW50TmFtZSwgcGFyYW1zKTtcbiAgICB9XG4gICAgbGlzdGVuZXJDb3VudChldmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIubGlzdGVuZXJDb3VudChldmVudE5hbWUpO1xuICAgIH1cbiAgICBsaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmxpc3RlbmVycyhldmVudE5hbWUpO1xuICAgIH1cbiAgICBldmVudE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5ldmVudE5hbWVzKCk7XG4gICAgfVxuICAgIHJlbW92ZUFsbExpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHNldE1heExpc3RlbmVyV2FybmluZ1RocmVzaG9sZChtYXhMaXN0ZW5lcnNXYXJuaW5nVGhyZXNob2xkKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKG1heExpc3RlbmVyc1dhcm5pbmdUaHJlc2hvbGQpO1xuICAgIH1cbiAgICBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmdldE1heExpc3RlbmVycygpO1xuICAgIH1cbn1cbmV4cG9ydHMuV2ViM0V2ZW50RW1pdHRlciA9IFdlYjNFdmVudEVtaXR0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX2V2ZW50X2VtaXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_promi_event.js":
/*!*******************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_promi_event.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3PromiEvent = void 0;\nconst web3_event_emitter_js_1 = __webpack_require__(/*! ./web3_event_emitter.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\");\nclass Web3PromiEvent extends web3_event_emitter_js_1.Web3EventEmitter {\n    constructor(executor) {\n        super();\n        // public tag to treat object as promise by different libs\n        // eslint-disable-next-line @typescript-eslint/prefer-as-const\n        this[_a] = 'Promise';\n        this._promise = new Promise(executor);\n    }\n    then(onfulfilled, onrejected) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._promise.then(onfulfilled, onrejected);\n        });\n    }\n    catch(onrejected) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._promise.catch(onrejected);\n        });\n    }\n    finally(onfinally) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._promise.finally(onfinally);\n        });\n    }\n    on(eventName, fn) {\n        super.on(eventName, fn);\n        return this;\n    }\n    once(eventName, fn) {\n        super.once(eventName, fn);\n        return this;\n    }\n}\nexports.Web3PromiEvent = Web3PromiEvent;\n_a = Symbol.toStringTag;\n//# sourceMappingURL=web3_promi_event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfcHJvbWlfZXZlbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBeUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNzdWVyX2hvbGRlcl92ZXJpZmllci8uL3NyYy9wYWdlcy9hcGkvbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvY29tbW9uanMvd2ViM19wcm9taV9ldmVudC5qcz8yMTkyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfYTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2ViM1Byb21pRXZlbnQgPSB2b2lkIDA7XG5jb25zdCB3ZWIzX2V2ZW50X2VtaXR0ZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfZXZlbnRfZW1pdHRlci5qc1wiKTtcbmNsYXNzIFdlYjNQcm9taUV2ZW50IGV4dGVuZHMgd2ViM19ldmVudF9lbWl0dGVyX2pzXzEuV2ViM0V2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8gcHVibGljIHRhZyB0byB0cmVhdCBvYmplY3QgYXMgcHJvbWlzZSBieSBkaWZmZXJlbnQgbGlic1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1hcy1jb25zdFxuICAgICAgICB0aGlzW19hXSA9ICdQcm9taXNlJztcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGV4ZWN1dG9yKTtcbiAgICB9XG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5jYXRjaChvbnJlamVjdGVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbmFsbHkob25maW5hbGx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5maW5hbGx5KG9uZmluYWxseSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbihldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb25jZShldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIHN1cGVyLm9uY2UoZXZlbnROYW1lLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydHMuV2ViM1Byb21pRXZlbnQgPSBXZWIzUHJvbWlFdmVudDtcbl9hID0gU3ltYm9sLnRvU3RyaW5nVGFnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19wcm9taV9ldmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_promi_event.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js":
/*!***********************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3RequestManager = exports.Web3RequestManagerEvent = void 0;\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_providers_http_1 = __importDefault(__webpack_require__(/*! web3-providers-http */ \"(api)/./src/pages/api/node_modules/web3-providers-http/lib/commonjs/index.js\"));\nconst web3_providers_ws_1 = __importDefault(__webpack_require__(/*! web3-providers-ws */ \"(api)/./src/pages/api/node_modules/web3-providers-ws/lib/commonjs/index.js\"));\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js\");\nconst web3_event_emitter_js_1 = __webpack_require__(/*! ./web3_event_emitter.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\");\nvar Web3RequestManagerEvent;\n(function (Web3RequestManagerEvent) {\n    Web3RequestManagerEvent[\"PROVIDER_CHANGED\"] = \"PROVIDER_CHANGED\";\n    Web3RequestManagerEvent[\"BEFORE_PROVIDER_CHANGE\"] = \"BEFORE_PROVIDER_CHANGE\";\n})(Web3RequestManagerEvent = exports.Web3RequestManagerEvent || (exports.Web3RequestManagerEvent = {}));\nconst availableProviders = {\n    HttpProvider: web3_providers_http_1.default,\n    WebsocketProvider: web3_providers_ws_1.default,\n};\nclass Web3RequestManager extends web3_event_emitter_js_1.Web3EventEmitter {\n    constructor(provider, useRpcCallSpecification) {\n        super();\n        if (!(0, web3_utils_1.isNullish)(provider)) {\n            this.setProvider(provider);\n        }\n        this.useRpcCallSpecification = useRpcCallSpecification;\n    }\n    /**\n     * Will return all available providers\n     */\n    static get providers() {\n        return availableProviders;\n    }\n    /**\n     * Will return the current provider.\n     *\n     * @returns Returns the current provider\n     */\n    get provider() {\n        return this._provider;\n    }\n    /**\n     * Will return all available providers\n     */\n    // eslint-disable-next-line class-methods-use-this\n    get providers() {\n        return availableProviders;\n    }\n    /**\n     * Use to set provider. Provider can be a provider instance or a string.\n     *\n     * @param provider - The provider to set\n     */\n    setProvider(provider) {\n        let newProvider;\n        // autodetect provider\n        if (provider && typeof provider === 'string' && this.providers) {\n            // HTTP\n            if (/^http(s)?:\\/\\//i.test(provider)) {\n                newProvider = new this.providers.HttpProvider(provider);\n                // WS\n            }\n            else if (/^ws(s)?:\\/\\//i.test(provider)) {\n                newProvider = new this.providers.WebsocketProvider(provider);\n            }\n            else {\n                throw new web3_errors_1.ProviderError(`Can't autodetect provider for \"${provider}\"`);\n            }\n        }\n        else if ((0, web3_utils_1.isNullish)(provider)) {\n            // In case want to unset the provider\n            newProvider = undefined;\n        }\n        else {\n            newProvider = provider;\n        }\n        this.emit(Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE, this._provider);\n        this._provider = newProvider;\n        this.emit(Web3RequestManagerEvent.PROVIDER_CHANGED, this._provider);\n        return true;\n    }\n    /**\n     *\n     * Will execute a request\n     *\n     * @param request - {@link Web3APIRequest} The request to send\n     *\n     * @returns The response of the request {@link ResponseType}. If there is error\n     * in the response, will throw an error\n     */\n    send(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield this._sendRequest(request);\n            if (web3_utils_1.jsonRpc.isResponseWithResult(response)) {\n                return response.result;\n            }\n            throw new web3_errors_1.ResponseError(response);\n        });\n    }\n    /**\n     * Same as send, but, will execute a batch of requests\n     *\n     * @param request {@link JsonRpcBatchRequest} The batch request to send\n     */\n    sendBatch(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield this._sendRequest(request);\n            return response;\n        });\n    }\n    _sendRequest(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { provider } = this;\n            if ((0, web3_utils_1.isNullish)(provider)) {\n                throw new web3_errors_1.ProviderError('Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.');\n            }\n            const payload = web3_utils_1.jsonRpc.isBatchRequest(request)\n                ? web3_utils_1.jsonRpc.toBatchPayload(request)\n                : web3_utils_1.jsonRpc.toPayload(request);\n            if ((0, utils_js_1.isWeb3Provider)(provider)) {\n                let response;\n                try {\n                    response = yield provider.request(payload);\n                }\n                catch (error) {\n                    // Check if the provider throw an error instead of reject with error\n                    response = error;\n                }\n                return this._processJsonRpcResponse(payload, response, { legacy: false, error: false });\n            }\n            if ((0, utils_js_1.isEIP1193Provider)(provider)) {\n                return provider\n                    .request(payload)\n                    .then(res => this._processJsonRpcResponse(payload, res, {\n                    legacy: true,\n                    error: false,\n                }))\n                    .catch(error => this._processJsonRpcResponse(payload, error, { legacy: true, error: true }));\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0, utils_js_1.isLegacyRequestProvider)(provider)) {\n                return new Promise((resolve, reject) => {\n                    const rejectWithError = (err) => reject(this._processJsonRpcResponse(payload, err, {\n                        legacy: true,\n                        error: true,\n                    }));\n                    const resolveWithResponse = (response) => resolve(this._processJsonRpcResponse(payload, response, {\n                        legacy: true,\n                        error: false,\n                    }));\n                    const result = provider.request(payload, \n                    // a callback that is expected to be called after getting the response:\n                    (err, response) => {\n                        if (err) {\n                            return rejectWithError(err);\n                        }\n                        return resolveWithResponse(response);\n                    });\n                    // Some providers, that follow a previous drafted version of EIP1193, has a `request` function\n                    //\tthat is not defined as `async`, but it returns a promise.\n                    // Such providers would not be picked with if(isEIP1193Provider(provider)) above\n                    //\tbecause the `request` function was not defined with `async` and so the function definition is not `AsyncFunction`.\n                    // Like this provider: https://github.dev/NomicFoundation/hardhat/blob/62bea2600785595ba36f2105564076cf5cdf0fd8/packages/hardhat-core/src/internal/core/providers/backwards-compatibility.ts#L19\n                    // So check if the returned result is a Promise, and resolve with it accordingly.\n                    // Note: in this case we expect the callback provided above to never be called.\n                    if ((0, web3_utils_1.isPromise)(result)) {\n                        const responsePromise = result;\n                        responsePromise.then(resolveWithResponse).catch(rejectWithError);\n                    }\n                });\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0, utils_js_1.isLegacySendProvider)(provider)) {\n                return new Promise((resolve, reject) => {\n                    provider.send(payload, (err, response) => {\n                        if (err) {\n                            return reject(this._processJsonRpcResponse(payload, err, {\n                                legacy: true,\n                                error: true,\n                            }));\n                        }\n                        if ((0, web3_utils_1.isNullish)(response)) {\n                            throw new web3_errors_1.ResponseError('', 'Got a \"nullish\" response from provider.');\n                        }\n                        return resolve(this._processJsonRpcResponse(payload, response, {\n                            legacy: true,\n                            error: false,\n                        }));\n                    });\n                });\n            }\n            // TODO: This could be deprecated and removed.\n            if ((0, utils_js_1.isLegacySendAsyncProvider)(provider)) {\n                return provider\n                    .sendAsync(payload)\n                    .then(response => this._processJsonRpcResponse(payload, response, { legacy: true, error: false }))\n                    .catch(error => this._processJsonRpcResponse(payload, error, {\n                    legacy: true,\n                    error: true,\n                }));\n            }\n            throw new web3_errors_1.ProviderError('Provider does not have a request or send method to use.');\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _processJsonRpcResponse(payload, response, { legacy, error }) {\n        if ((0, web3_utils_1.isNullish)(response)) {\n            return this._buildResponse(payload, \n            // Some providers uses \"null\" as valid empty response\n            // eslint-disable-next-line no-null/no-null\n            null, error);\n        }\n        // This is the majority of the cases so check these first\n        // A valid JSON-RPC response with error object\n        if (web3_utils_1.jsonRpc.isResponseWithError(response)) {\n            // check if its an rpc error\n            if (this.useRpcCallSpecification &&\n                (0, web3_utils_1.isResponseRpcError)(response)) {\n                const rpcErrorResponse = response;\n                // check if rpc error flag is on and response error code match an EIP-1474 or a standard rpc error code\n                if (web3_errors_1.rpcErrorsMap.get(rpcErrorResponse.error.code)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    const Err = web3_errors_1.rpcErrorsMap.get(rpcErrorResponse.error.code).error;\n                    throw new Err(rpcErrorResponse);\n                }\n                else {\n                    throw new web3_errors_1.RpcError(rpcErrorResponse);\n                }\n            }\n            else if (!Web3RequestManager._isReverted(response)) {\n                throw new web3_errors_1.InvalidResponseError(response, payload);\n            }\n        }\n        // This is the majority of the cases so check these first\n        // A valid JSON-RPC response with result object\n        if (web3_utils_1.jsonRpc.isResponseWithResult(response)) {\n            return response;\n        }\n        if (response instanceof Error) {\n            Web3RequestManager._isReverted(response);\n            throw response;\n        }\n        if (!legacy && web3_utils_1.jsonRpc.isBatchRequest(payload) && web3_utils_1.jsonRpc.isBatchResponse(response)) {\n            return response;\n        }\n        if (legacy && !error && web3_utils_1.jsonRpc.isBatchRequest(payload)) {\n            return response;\n        }\n        if (legacy && error && web3_utils_1.jsonRpc.isBatchRequest(payload)) {\n            // In case of error batch response we don't want to throw Invalid response\n            throw response;\n        }\n        if (legacy &&\n            !web3_utils_1.jsonRpc.isResponseWithError(response) &&\n            !web3_utils_1.jsonRpc.isResponseWithResult(response)) {\n            return this._buildResponse(payload, response, error);\n        }\n        if (web3_utils_1.jsonRpc.isBatchRequest(payload) && !Array.isArray(response)) {\n            throw new web3_errors_1.ResponseError(response, 'Got normal response for a batch request.');\n        }\n        if (!web3_utils_1.jsonRpc.isBatchRequest(payload) && Array.isArray(response)) {\n            throw new web3_errors_1.ResponseError(response, 'Got batch response for a normal request.');\n        }\n        if ((web3_utils_1.jsonRpc.isResponseWithError(response) || web3_utils_1.jsonRpc.isResponseWithResult(response)) &&\n            !web3_utils_1.jsonRpc.isBatchRequest(payload)) {\n            if (response.id && payload.id !== response.id) {\n                throw new web3_errors_1.InvalidResponseError(response);\n            }\n        }\n        throw new web3_errors_1.ResponseError(response, 'Invalid response');\n    }\n    static _isReverted(response) {\n        let error;\n        if (web3_utils_1.jsonRpc.isResponseWithError(response)) {\n            error = response.error;\n        }\n        else if (response instanceof Error) {\n            error = response;\n        }\n        // This message means that there was an error while executing the code of the smart contract\n        // However, more processing will happen at a higher level to decode the error data,\n        //\taccording to the Error ABI, if it was available as of EIP-838.\n        if (error === null || error === void 0 ? void 0 : error.message.includes('revert'))\n            throw new web3_errors_1.ContractExecutionError(error);\n        return false;\n    }\n    // Need to use same types as _processJsonRpcResponse so have to declare as instance method\n    // eslint-disable-next-line class-methods-use-this\n    _buildResponse(payload, response, error) {\n        const res = {\n            jsonrpc: '2.0',\n            // eslint-disable-next-line no-nested-ternary\n            id: web3_utils_1.jsonRpc.isBatchRequest(payload)\n                ? payload[0].id\n                : 'id' in payload\n                    ? payload.id\n                    : // Have to use the null here explicitly\n                        // eslint-disable-next-line no-null/no-null\n                        null,\n        };\n        if (error) {\n            return Object.assign(Object.assign({}, res), { error: response });\n        }\n        return Object.assign(Object.assign({}, res), { result: response });\n    }\n}\nexports.Web3RequestManager = Web3RequestManager;\n//# sourceMappingURL=web3_request_manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfcmVxdWVzdF9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRywrQkFBK0I7QUFDNUQsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0MsOENBQThDLG1CQUFPLENBQUMseUdBQXFCO0FBQzNFLDRDQUE0QyxtQkFBTyxDQUFDLHFHQUFtQjtBQUN2RSxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBWTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBWTtBQUN2QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBeUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdFQUFnRSwrQkFBK0IsS0FBSztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsU0FBUztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0JBQXNCO0FBQy9DO0FBQ0EsNkNBQTZDLG1CQUFtQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkJBQTJCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLDZCQUE2QjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtRkFBbUYsMkJBQTJCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsNEJBQTRCO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpREFBaUQsZUFBZTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFVBQVUsaUJBQWlCO0FBQzVFO0FBQ0EsNkNBQTZDLFVBQVUsa0JBQWtCO0FBQ3pFO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9jb21tb25qcy93ZWIzX3JlcXVlc3RfbWFuYWdlci5qcz9jZWVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2ViM1JlcXVlc3RNYW5hZ2VyID0gZXhwb3J0cy5XZWIzUmVxdWVzdE1hbmFnZXJFdmVudCA9IHZvaWQgMDtcbmNvbnN0IHdlYjNfZXJyb3JzXzEgPSByZXF1aXJlKFwid2ViMy1lcnJvcnNcIik7XG5jb25zdCB3ZWIzX3Byb3ZpZGVyc19odHRwXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIndlYjMtcHJvdmlkZXJzLWh0dHBcIikpO1xuY29uc3Qgd2ViM19wcm92aWRlcnNfd3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwid2ViMy1wcm92aWRlcnMtd3NcIikpO1xuY29uc3Qgd2ViM191dGlsc18xID0gcmVxdWlyZShcIndlYjMtdXRpbHNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCB3ZWIzX2V2ZW50X2VtaXR0ZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfZXZlbnRfZW1pdHRlci5qc1wiKTtcbnZhciBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudDtcbihmdW5jdGlvbiAoV2ViM1JlcXVlc3RNYW5hZ2VyRXZlbnQpIHtcbiAgICBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudFtcIlBST1ZJREVSX0NIQU5HRURcIl0gPSBcIlBST1ZJREVSX0NIQU5HRURcIjtcbiAgICBXZWIzUmVxdWVzdE1hbmFnZXJFdmVudFtcIkJFRk9SRV9QUk9WSURFUl9DSEFOR0VcIl0gPSBcIkJFRk9SRV9QUk9WSURFUl9DSEFOR0VcIjtcbn0pKFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50ID0gZXhwb3J0cy5XZWIzUmVxdWVzdE1hbmFnZXJFdmVudCB8fCAoZXhwb3J0cy5XZWIzUmVxdWVzdE1hbmFnZXJFdmVudCA9IHt9KSk7XG5jb25zdCBhdmFpbGFibGVQcm92aWRlcnMgPSB7XG4gICAgSHR0cFByb3ZpZGVyOiB3ZWIzX3Byb3ZpZGVyc19odHRwXzEuZGVmYXVsdCxcbiAgICBXZWJzb2NrZXRQcm92aWRlcjogd2ViM19wcm92aWRlcnNfd3NfMS5kZWZhdWx0LFxufTtcbmNsYXNzIFdlYjNSZXF1ZXN0TWFuYWdlciBleHRlbmRzIHdlYjNfZXZlbnRfZW1pdHRlcl9qc18xLldlYjNFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb3ZpZGVyLCB1c2VScGNDYWxsU3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAoISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKShwcm92aWRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlUnBjQ2FsbFNwZWNpZmljYXRpb24gPSB1c2VScGNDYWxsU3BlY2lmaWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYWxsIGF2YWlsYWJsZSBwcm92aWRlcnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHByb3ZpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIGF2YWlsYWJsZVByb3ZpZGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgcHJvdmlkZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBjdXJyZW50IHByb3ZpZGVyXG4gICAgICovXG4gICAgZ2V0IHByb3ZpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGFsbCBhdmFpbGFibGUgcHJvdmlkZXJzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBnZXQgcHJvdmlkZXJzKCkge1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlUHJvdmlkZXJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2UgdG8gc2V0IHByb3ZpZGVyLiBQcm92aWRlciBjYW4gYmUgYSBwcm92aWRlciBpbnN0YW5jZSBvciBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBzZXRcbiAgICAgKi9cbiAgICBzZXRQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICBsZXQgbmV3UHJvdmlkZXI7XG4gICAgICAgIC8vIGF1dG9kZXRlY3QgcHJvdmlkZXJcbiAgICAgICAgaWYgKHByb3ZpZGVyICYmIHR5cGVvZiBwcm92aWRlciA9PT0gJ3N0cmluZycgJiYgdGhpcy5wcm92aWRlcnMpIHtcbiAgICAgICAgICAgIC8vIEhUVFBcbiAgICAgICAgICAgIGlmICgvXmh0dHAocyk/OlxcL1xcLy9pLnRlc3QocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvdmlkZXIgPSBuZXcgdGhpcy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAvLyBXU1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL153cyhzKT86XFwvXFwvL2kudGVzdChwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBuZXdQcm92aWRlciA9IG5ldyB0aGlzLnByb3ZpZGVycy5XZWJzb2NrZXRQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5Qcm92aWRlckVycm9yKGBDYW4ndCBhdXRvZGV0ZWN0IHByb3ZpZGVyIGZvciBcIiR7cHJvdmlkZXJ9XCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIHdhbnQgdG8gdW5zZXQgdGhlIHByb3ZpZGVyXG4gICAgICAgICAgICBuZXdQcm92aWRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1Byb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50LkJFRk9SRV9QUk9WSURFUl9DSEFOR0UsIHRoaXMuX3Byb3ZpZGVyKTtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXIgPSBuZXdQcm92aWRlcjtcbiAgICAgICAgdGhpcy5lbWl0KFdlYjNSZXF1ZXN0TWFuYWdlckV2ZW50LlBST1ZJREVSX0NIQU5HRUQsIHRoaXMuX3Byb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2lsbCBleGVjdXRlIGEgcmVxdWVzdFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSB7QGxpbmsgV2ViM0FQSVJlcXVlc3R9IFRoZSByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSBvZiB0aGUgcmVxdWVzdCB7QGxpbmsgUmVzcG9uc2VUeXBlfS4gSWYgdGhlcmUgaXMgZXJyb3JcbiAgICAgKiBpbiB0aGUgcmVzcG9uc2UsIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgKi9cbiAgICBzZW5kKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5fc2VuZFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgICAgICBpZiAod2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBzZW5kLCBidXQsIHdpbGwgZXhlY3V0ZSBhIGJhdGNoIG9mIHJlcXVlc3RzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCB7QGxpbmsgSnNvblJwY0JhdGNoUmVxdWVzdH0gVGhlIGJhdGNoIHJlcXVlc3QgdG8gc2VuZFxuICAgICAqL1xuICAgIHNlbmRCYXRjaChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3NlbmRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvdmlkZXIgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlByb3ZpZGVyRXJyb3IoJ1Byb3ZpZGVyIG5vdCBhdmFpbGFibGUuIFVzZSBgLnNldFByb3ZpZGVyYCBvciBgLnByb3ZpZGVyPWAgdG8gaW5pdGlhbGl6ZSB0aGUgcHJvdmlkZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gd2ViM191dGlsc18xLmpzb25ScGMuaXNCYXRjaFJlcXVlc3QocmVxdWVzdClcbiAgICAgICAgICAgICAgICA/IHdlYjNfdXRpbHNfMS5qc29uUnBjLnRvQmF0Y2hQYXlsb2FkKHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgOiB3ZWIzX3V0aWxzXzEuanNvblJwYy50b1BheWxvYWQocmVxdWVzdCk7XG4gICAgICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNXZWIzUHJvdmlkZXIpKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHlpZWxkIHByb3ZpZGVyLnJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvdmlkZXIgdGhyb3cgYW4gZXJyb3IgaW5zdGVhZCBvZiByZWplY3Qgd2l0aCBlcnJvclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwgeyBsZWdhY3k6IGZhbHNlLCBlcnJvcjogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNFSVAxMTkzUHJvdmlkZXIpKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAucmVxdWVzdChwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCByZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIGVycm9yLCB7IGxlZ2FjeTogdHJ1ZSwgZXJyb3I6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgaWYgKCgwLCB1dGlsc19qc18xLmlzTGVnYWN5UmVxdWVzdFByb3ZpZGVyKShwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWplY3RXaXRoRXJyb3IgPSAoZXJyKSA9PiByZWplY3QodGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2FjeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVXaXRoUmVzcG9uc2UgPSAocmVzcG9uc2UpID0+IHJlc29sdmUodGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb3ZpZGVyLnJlcXVlc3QocGF5bG9hZCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgY2FsbGJhY2sgdGhhdCBpcyBleHBlY3RlZCB0byBiZSBjYWxsZWQgYWZ0ZXIgZ2V0dGluZyB0aGUgcmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdFdpdGhFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVXaXRoUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZSBwcm92aWRlcnMsIHRoYXQgZm9sbG93IGEgcHJldmlvdXMgZHJhZnRlZCB2ZXJzaW9uIG9mIEVJUDExOTMsIGhhcyBhIGByZXF1ZXN0YCBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAvL1x0dGhhdCBpcyBub3QgZGVmaW5lZCBhcyBgYXN5bmNgLCBidXQgaXQgcmV0dXJucyBhIHByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN1Y2ggcHJvdmlkZXJzIHdvdWxkIG5vdCBiZSBwaWNrZWQgd2l0aCBpZihpc0VJUDExOTNQcm92aWRlcihwcm92aWRlcikpIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgIC8vXHRiZWNhdXNlIHRoZSBgcmVxdWVzdGAgZnVuY3Rpb24gd2FzIG5vdCBkZWZpbmVkIHdpdGggYGFzeW5jYCBhbmQgc28gdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgbm90IGBBc3luY0Z1bmN0aW9uYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gTGlrZSB0aGlzIHByb3ZpZGVyOiBodHRwczovL2dpdGh1Yi5kZXYvTm9taWNGb3VuZGF0aW9uL2hhcmRoYXQvYmxvYi82MmJlYTI2MDA3ODU1OTViYTM2ZjIxMDU1NjQwNzZjZjVjZGYwZmQ4L3BhY2thZ2VzL2hhcmRoYXQtY29yZS9zcmMvaW50ZXJuYWwvY29yZS9wcm92aWRlcnMvYmFja3dhcmRzLWNvbXBhdGliaWxpdHkudHMjTDE5XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvIGNoZWNrIGlmIHRoZSByZXR1cm5lZCByZXN1bHQgaXMgYSBQcm9taXNlLCBhbmQgcmVzb2x2ZSB3aXRoIGl0IGFjY29yZGluZ2x5LlxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBpbiB0aGlzIGNhc2Ugd2UgZXhwZWN0IHRoZSBjYWxsYmFjayBwcm92aWRlZCBhYm92ZSB0byBuZXZlciBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoMCwgd2ViM191dGlsc18xLmlzUHJvbWlzZSkocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnRoZW4ocmVzb2x2ZVdpdGhSZXNwb25zZSkuY2F0Y2gocmVqZWN0V2l0aEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgaWYgKCgwLCB1dGlsc19qc18xLmlzTGVnYWN5U2VuZFByb3ZpZGVyKShwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5zZW5kKHBheWxvYWQsIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdhY3k6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuUmVzcG9uc2VFcnJvcignJywgJ0dvdCBhIFwibnVsbGlzaFwiIHJlc3BvbnNlIGZyb20gcHJvdmlkZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLl9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIHJlc3BvbnNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNMZWdhY3lTZW5kQXN5bmNQcm92aWRlcikocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgIC5zZW5kQXN5bmMocGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fcHJvY2Vzc0pzb25ScGNSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwgeyBsZWdhY3k6IHRydWUsIGVycm9yOiBmYWxzZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHRoaXMuX3Byb2Nlc3NKc29uUnBjUmVzcG9uc2UocGF5bG9hZCwgZXJyb3IsIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnYWN5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5Qcm92aWRlckVycm9yKCdQcm92aWRlciBkb2VzIG5vdCBoYXZlIGEgcmVxdWVzdCBvciBzZW5kIG1ldGhvZCB0byB1c2UuJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIF9wcm9jZXNzSnNvblJwY1Jlc3BvbnNlKHBheWxvYWQsIHJlc3BvbnNlLCB7IGxlZ2FjeSwgZXJyb3IgfSkge1xuICAgICAgICBpZiAoKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkUmVzcG9uc2UocGF5bG9hZCwgXG4gICAgICAgICAgICAvLyBTb21lIHByb3ZpZGVycyB1c2VzIFwibnVsbFwiIGFzIHZhbGlkIGVtcHR5IHJlc3BvbnNlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgICAgICBudWxsLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgbWFqb3JpdHkgb2YgdGhlIGNhc2VzIHNvIGNoZWNrIHRoZXNlIGZpcnN0XG4gICAgICAgIC8vIEEgdmFsaWQgSlNPTi1SUEMgcmVzcG9uc2Ugd2l0aCBlcnJvciBvYmplY3RcbiAgICAgICAgaWYgKHdlYjNfdXRpbHNfMS5qc29uUnBjLmlzUmVzcG9uc2VXaXRoRXJyb3IocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgYW4gcnBjIGVycm9yXG4gICAgICAgICAgICBpZiAodGhpcy51c2VScGNDYWxsU3BlY2lmaWNhdGlvbiAmJlxuICAgICAgICAgICAgICAgICgwLCB3ZWIzX3V0aWxzXzEuaXNSZXNwb25zZVJwY0Vycm9yKShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBycGNFcnJvclJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgcnBjIGVycm9yIGZsYWcgaXMgb24gYW5kIHJlc3BvbnNlIGVycm9yIGNvZGUgbWF0Y2ggYW4gRUlQLTE0NzQgb3IgYSBzdGFuZGFyZCBycGMgZXJyb3IgY29kZVxuICAgICAgICAgICAgICAgIGlmICh3ZWIzX2Vycm9yc18xLnJwY0Vycm9yc01hcC5nZXQocnBjRXJyb3JSZXNwb25zZS5lcnJvci5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBFcnIgPSB3ZWIzX2Vycm9yc18xLnJwY0Vycm9yc01hcC5nZXQocnBjRXJyb3JSZXNwb25zZS5lcnJvci5jb2RlKS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycihycGNFcnJvclJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJwY0Vycm9yKHJwY0Vycm9yUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFXZWIzUmVxdWVzdE1hbmFnZXIuX2lzUmV2ZXJ0ZWQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuSW52YWxpZFJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIHBheWxvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIG1ham9yaXR5IG9mIHRoZSBjYXNlcyBzbyBjaGVjayB0aGVzZSBmaXJzdFxuICAgICAgICAvLyBBIHZhbGlkIEpTT04tUlBDIHJlc3BvbnNlIHdpdGggcmVzdWx0IG9iamVjdFxuICAgICAgICBpZiAod2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIFdlYjNSZXF1ZXN0TWFuYWdlci5faXNSZXZlcnRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlZ2FjeSAmJiB3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiB3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZ2FjeSAmJiAhZXJyb3IgJiYgd2ViM191dGlsc18xLmpzb25ScGMuaXNCYXRjaFJlcXVlc3QocGF5bG9hZCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVnYWN5ICYmIGVycm9yICYmIHdlYjNfdXRpbHNfMS5qc29uUnBjLmlzQmF0Y2hSZXF1ZXN0KHBheWxvYWQpKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVycm9yIGJhdGNoIHJlc3BvbnNlIHdlIGRvbid0IHdhbnQgdG8gdGhyb3cgSW52YWxpZCByZXNwb25zZVxuICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlZ2FjeSAmJlxuICAgICAgICAgICAgIXdlYjNfdXRpbHNfMS5qc29uUnBjLmlzUmVzcG9uc2VXaXRoRXJyb3IocmVzcG9uc2UpICYmXG4gICAgICAgICAgICAhd2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhSZXN1bHQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiAhQXJyYXkuaXNBcnJheShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICdHb3Qgbm9ybWFsIHJlc3BvbnNlIGZvciBhIGJhdGNoIHJlcXVlc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgJ0dvdCBiYXRjaCByZXNwb25zZSBmb3IgYSBub3JtYWwgcmVxdWVzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHdlYjNfdXRpbHNfMS5qc29uUnBjLmlzUmVzcG9uc2VXaXRoRXJyb3IocmVzcG9uc2UpIHx8IHdlYjNfdXRpbHNfMS5qc29uUnBjLmlzUmVzcG9uc2VXaXRoUmVzdWx0KHJlc3BvbnNlKSkgJiZcbiAgICAgICAgICAgICF3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlkICYmIHBheWxvYWQuaWQgIT09IHJlc3BvbnNlLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuSW52YWxpZFJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UsICdJbnZhbGlkIHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIHN0YXRpYyBfaXNSZXZlcnRlZChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIGlmICh3ZWIzX3V0aWxzXzEuanNvblJwYy5pc1Jlc3BvbnNlV2l0aEVycm9yKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgbWVzc2FnZSBtZWFucyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBleGVjdXRpbmcgdGhlIGNvZGUgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0XG4gICAgICAgIC8vIEhvd2V2ZXIsIG1vcmUgcHJvY2Vzc2luZyB3aWxsIGhhcHBlbiBhdCBhIGhpZ2hlciBsZXZlbCB0byBkZWNvZGUgdGhlIGVycm9yIGRhdGEsXG4gICAgICAgIC8vXHRhY2NvcmRpbmcgdG8gdGhlIEVycm9yIEFCSSwgaWYgaXQgd2FzIGF2YWlsYWJsZSBhcyBvZiBFSVAtODM4LlxuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3JldmVydCcpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuQ29udHJhY3RFeGVjdXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gTmVlZCB0byB1c2Ugc2FtZSB0eXBlcyBhcyBfcHJvY2Vzc0pzb25ScGNSZXNwb25zZSBzbyBoYXZlIHRvIGRlY2xhcmUgYXMgaW5zdGFuY2UgbWV0aG9kXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBfYnVpbGRSZXNwb25zZShwYXlsb2FkLCByZXNwb25zZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGlkOiB3ZWIzX3V0aWxzXzEuanNvblJwYy5pc0JhdGNoUmVxdWVzdChwYXlsb2FkKVxuICAgICAgICAgICAgICAgID8gcGF5bG9hZFswXS5pZFxuICAgICAgICAgICAgICAgIDogJ2lkJyBpbiBwYXlsb2FkXG4gICAgICAgICAgICAgICAgICAgID8gcGF5bG9hZC5pZFxuICAgICAgICAgICAgICAgICAgICA6IC8vIEhhdmUgdG8gdXNlIHRoZSBudWxsIGhlcmUgZXhwbGljaXRseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXMpLCB7IGVycm9yOiByZXNwb25zZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXMpLCB7IHJlc3VsdDogcmVzcG9uc2UgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5XZWIzUmVxdWVzdE1hbmFnZXIgPSBXZWIzUmVxdWVzdE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWIzX3JlcXVlc3RfbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js":
/*!****************************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3SubscriptionManager = void 0;\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/utils.js\");\nconst web3_request_manager_js_1 = __webpack_require__(/*! ./web3_request_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_request_manager.js\");\nclass Web3SubscriptionManager {\n    constructor(requestManager, registeredSubscriptions, tolerateUnlinkedSubscription = false) {\n        this.requestManager = requestManager;\n        this.registeredSubscriptions = registeredSubscriptions;\n        this.tolerateUnlinkedSubscription = tolerateUnlinkedSubscription;\n        this._subscriptions = new Map();\n        this.requestManager.on(web3_request_manager_js_1.Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE, () => __awaiter(this, void 0, void 0, function* () {\n            yield this.unsubscribe();\n        }));\n        this.requestManager.on(web3_request_manager_js_1.Web3RequestManagerEvent.PROVIDER_CHANGED, () => {\n            this.clear();\n            this.listenToProviderEvents();\n        });\n        this.listenToProviderEvents();\n    }\n    listenToProviderEvents() {\n        const providerAsWebProvider = this.requestManager.provider;\n        if (!this.requestManager.provider ||\n            (typeof (providerAsWebProvider === null || providerAsWebProvider === void 0 ? void 0 : providerAsWebProvider.supportsSubscriptions) === 'function' &&\n                !(providerAsWebProvider === null || providerAsWebProvider === void 0 ? void 0 : providerAsWebProvider.supportsSubscriptions()))) {\n            return;\n        }\n        if (typeof this.requestManager.provider.on === 'function') {\n            if (typeof this.requestManager.provider.request === 'function') {\n                // Listen to provider messages and data\n                this.requestManager.provider.on('message', \n                // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-argument\n                (message) => this.messageListener(message));\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-argument\n                providerAsWebProvider.on('data', (data) => this.messageListener(data));\n            }\n        }\n    }\n    messageListener(data) {\n        var _a, _b, _c;\n        if (!data) {\n            throw new web3_errors_1.SubscriptionError('Should not call messageListener with no data. Type was');\n        }\n        const subscriptionId = ((_a = data.params) === null || _a === void 0 ? void 0 : _a.subscription) ||\n            ((_b = data.data) === null || _b === void 0 ? void 0 : _b.subscription) ||\n            ((_c = data.id) === null || _c === void 0 ? void 0 : _c.toString(16));\n        // Process if the received data is related to a subscription\n        if (subscriptionId) {\n            const sub = this._subscriptions.get(subscriptionId);\n            sub === null || sub === void 0 ? void 0 : sub.processSubscriptionData(data);\n        }\n    }\n    /**\n     * Will create a new subscription\n     *\n     * @param name - The subscription you want to subscribe to\n     * @param args - Optional additional parameters, depending on the subscription type\n     * @param returnFormat- ({@link DataFormat} defaults to {@link DEFAULT_RETURN_FORMAT}) - Specifies how the return data from the call should be formatted.\n     *\n     * Will subscribe to a specific topic (note: name)\n     * @returns The subscription object\n     */\n    subscribe(name, args, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const Klass = this.registeredSubscriptions[name];\n            if (!Klass) {\n                throw new web3_errors_1.SubscriptionError('Invalid subscription type');\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            const subscription = new Klass(args !== null && args !== void 0 ? args : undefined, {\n                subscriptionManager: this,\n                returnFormat,\n            });\n            yield this.addSubscription(subscription);\n            return subscription;\n        });\n    }\n    /**\n     * Will returns all subscriptions.\n     */\n    get subscriptions() {\n        return this._subscriptions;\n    }\n    /**\n     *\n     * Adds an instance of {@link Web3Subscription} and subscribes to it\n     *\n     * @param sub - A {@link Web3Subscription} object\n     */\n    addSubscription(sub) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.requestManager.provider) {\n                throw new web3_errors_1.ProviderError('Provider not available');\n            }\n            if (!this.supportsSubscriptions()) {\n                throw new web3_errors_1.SubscriptionError('The current provider does not support subscriptions');\n            }\n            if (sub.id && this._subscriptions.has(sub.id)) {\n                throw new web3_errors_1.SubscriptionError(`Subscription with id \"${sub.id}\" already exists`);\n            }\n            yield sub.sendSubscriptionRequest();\n            if ((0, web3_utils_1.isNullish)(sub.id)) {\n                throw new web3_errors_1.SubscriptionError('Subscription is not subscribed yet.');\n            }\n            this._subscriptions.set(sub.id, sub);\n            return sub.id;\n        });\n    }\n    /**\n     * Will clear a subscription\n     *\n     * @param id - The subscription of type {@link Web3Subscription}  to remove\n     */\n    removeSubscription(sub) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { id } = sub;\n            if ((0, web3_utils_1.isNullish)(id)) {\n                throw new web3_errors_1.SubscriptionError('Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.');\n            }\n            if (!this._subscriptions.has(id) && !this.tolerateUnlinkedSubscription) {\n                throw new web3_errors_1.SubscriptionError(`Subscription with id \"${id.toString()}\" does not exists`);\n            }\n            yield sub.sendUnsubscribeRequest();\n            this._subscriptions.delete(id);\n            return id;\n        });\n    }\n    /**\n     * Will unsubscribe all subscriptions that fulfill the condition\n     *\n     * @param condition - A function that access and `id` and a `subscription` and return `true` or `false`\n     * @returns An array of all the un-subscribed subscriptions\n     */\n    unsubscribe(condition) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = [];\n            for (const [id, sub] of this.subscriptions.entries()) {\n                if (!condition || (typeof condition === 'function' && condition({ id, sub }))) {\n                    result.push(this.removeSubscription(sub));\n                }\n            }\n            return Promise.all(result);\n        });\n    }\n    /**\n     * Clears all subscriptions\n     */\n    clear() {\n        this._subscriptions.clear();\n    }\n    /**\n     * Check whether the current provider supports subscriptions.\n     *\n     * @returns `true` or `false` depending on if the current provider supports subscriptions\n     */\n    supportsSubscriptions() {\n        return (0, web3_utils_1.isNullish)(this.requestManager.provider)\n            ? false\n            : (0, utils_js_1.isSupportSubscriptions)(this.requestManager.provider);\n    }\n}\nexports.Web3SubscriptionManager = Web3SubscriptionManager;\n//# sourceMappingURL=web3_subscription_manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0MscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQVk7QUFDdkMsa0NBQWtDLG1CQUFPLENBQUMsb0hBQTJCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0JBQWtCLGFBQWEsNEJBQTRCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixPQUFPO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHlCQUF5QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixjQUFjO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsU0FBUztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1jb3JlL2xpYi9jb21tb25qcy93ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyLmpzP2YyNjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWIzU3Vic2NyaXB0aW9uTWFuYWdlciA9IHZvaWQgMDtcbmNvbnN0IHdlYjNfdHlwZXNfMSA9IHJlcXVpcmUoXCJ3ZWIzLXR5cGVzXCIpO1xuY29uc3Qgd2ViM19lcnJvcnNfMSA9IHJlcXVpcmUoXCJ3ZWIzLWVycm9yc1wiKTtcbmNvbnN0IHdlYjNfdXRpbHNfMSA9IHJlcXVpcmUoXCJ3ZWIzLXV0aWxzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY29uc3Qgd2ViM19yZXF1ZXN0X21hbmFnZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfcmVxdWVzdF9tYW5hZ2VyLmpzXCIpO1xuY2xhc3MgV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RNYW5hZ2VyLCByZWdpc3RlcmVkU3Vic2NyaXB0aW9ucywgdG9sZXJhdGVVbmxpbmtlZFN1YnNjcmlwdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkU3Vic2NyaXB0aW9ucyA9IHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLnRvbGVyYXRlVW5saW5rZWRTdWJzY3JpcHRpb24gPSB0b2xlcmF0ZVVubGlua2VkU3Vic2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uKHdlYjNfcmVxdWVzdF9tYW5hZ2VyX2pzXzEuV2ViM1JlcXVlc3RNYW5hZ2VyRXZlbnQuQkVGT1JFX1BST1ZJREVSX0NIQU5HRSwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIub24od2ViM19yZXF1ZXN0X21hbmFnZXJfanNfMS5XZWIzUmVxdWVzdE1hbmFnZXJFdmVudC5QUk9WSURFUl9DSEFOR0VELCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvUHJvdmlkZXJFdmVudHMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdGVuVG9Qcm92aWRlckV2ZW50cygpO1xuICAgIH1cbiAgICBsaXN0ZW5Ub1Byb3ZpZGVyRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBwcm92aWRlckFzV2ViUHJvdmlkZXIgPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyO1xuICAgICAgICBpZiAoIXRoaXMucmVxdWVzdE1hbmFnZXIucHJvdmlkZXIgfHxcbiAgICAgICAgICAgICh0eXBlb2YgKHByb3ZpZGVyQXNXZWJQcm92aWRlciA9PT0gbnVsbCB8fCBwcm92aWRlckFzV2ViUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3ZpZGVyQXNXZWJQcm92aWRlci5zdXBwb3J0c1N1YnNjcmlwdGlvbnMpID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgICAgIShwcm92aWRlckFzV2ViUHJvdmlkZXIgPT09IG51bGwgfHwgcHJvdmlkZXJBc1dlYlByb3ZpZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm92aWRlckFzV2ViUHJvdmlkZXIuc3VwcG9ydHNTdWJzY3JpcHRpb25zKCkpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyLnJlcXVlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW4gdG8gcHJvdmlkZXIgbWVzc2FnZXMgYW5kIGRhdGFcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyLm9uKCdtZXNzYWdlJywgXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgICAgICAobWVzc2FnZSkgPT4gdGhpcy5tZXNzYWdlTGlzdGVuZXIobWVzc2FnZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgICAgICBwcm92aWRlckFzV2ViUHJvdmlkZXIub24oJ2RhdGEnLCAoZGF0YSkgPT4gdGhpcy5tZXNzYWdlTGlzdGVuZXIoZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1lc3NhZ2VMaXN0ZW5lcihkYXRhKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKCdTaG91bGQgbm90IGNhbGwgbWVzc2FnZUxpc3RlbmVyIHdpdGggbm8gZGF0YS4gVHlwZSB3YXMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25JZCA9ICgoX2EgPSBkYXRhLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmlwdGlvbikgfHxcbiAgICAgICAgICAgICgoX2IgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdWJzY3JpcHRpb24pIHx8XG4gICAgICAgICAgICAoKF9jID0gZGF0YS5pZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIC8vIFByb2Nlc3MgaWYgdGhlIHJlY2VpdmVkIGRhdGEgaXMgcmVsYXRlZCB0byBhIHN1YnNjcmlwdGlvblxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YiA9IHRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHN1YnNjcmlwdGlvbklkKTtcbiAgICAgICAgICAgIHN1YiA9PT0gbnVsbCB8fCBzdWIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1Yi5wcm9jZXNzU3Vic2NyaXB0aW9uRGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIGNyZWF0ZSBhIG5ldyBzdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN1YnNjcmlwdGlvbiB5b3Ugd2FudCB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0gYXJncyAtIE9wdGlvbmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycywgZGVwZW5kaW5nIG9uIHRoZSBzdWJzY3JpcHRpb24gdHlwZVxuICAgICAqIEBwYXJhbSByZXR1cm5Gb3JtYXQtICh7QGxpbmsgRGF0YUZvcm1hdH0gZGVmYXVsdHMgdG8ge0BsaW5rIERFRkFVTFRfUkVUVVJOX0ZPUk1BVH0pIC0gU3BlY2lmaWVzIGhvdyB0aGUgcmV0dXJuIGRhdGEgZnJvbSB0aGUgY2FsbCBzaG91bGQgYmUgZm9ybWF0dGVkLlxuICAgICAqXG4gICAgICogV2lsbCBzdWJzY3JpYmUgdG8gYSBzcGVjaWZpYyB0b3BpYyAobm90ZTogbmFtZSlcbiAgICAgKiBAcmV0dXJucyBUaGUgc3Vic2NyaXB0aW9uIG9iamVjdFxuICAgICAqL1xuICAgIHN1YnNjcmliZShuYW1lLCBhcmdzLCByZXR1cm5Gb3JtYXQgPSB3ZWIzX3R5cGVzXzEuREVGQVVMVF9SRVRVUk5fRk9STUFUKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBLbGFzcyA9IHRoaXMucmVnaXN0ZXJlZFN1YnNjcmlwdGlvbnNbbmFtZV07XG4gICAgICAgICAgICBpZiAoIUtsYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuU3Vic2NyaXB0aW9uRXJyb3IoJ0ludmFsaWQgc3Vic2NyaXB0aW9uIHR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZXcgS2xhc3MoYXJncyAhPT0gbnVsbCAmJiBhcmdzICE9PSB2b2lkIDAgPyBhcmdzIDogdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uTWFuYWdlcjogdGhpcyxcbiAgICAgICAgICAgICAgICByZXR1cm5Gb3JtYXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm5zIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIGdldCBzdWJzY3JpcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBZGRzIGFuIGluc3RhbmNlIG9mIHtAbGluayBXZWIzU3Vic2NyaXB0aW9ufSBhbmQgc3Vic2NyaWJlcyB0byBpdFxuICAgICAqXG4gICAgICogQHBhcmFtIHN1YiAtIEEge0BsaW5rIFdlYjNTdWJzY3JpcHRpb259IG9iamVjdFxuICAgICAqL1xuICAgIGFkZFN1YnNjcmlwdGlvbihzdWIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlByb3ZpZGVyRXJyb3IoJ1Byb3ZpZGVyIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5zdXBwb3J0c1N1YnNjcmlwdGlvbnMoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKCdUaGUgY3VycmVudCBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IHN1YnNjcmlwdGlvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWIuaWQgJiYgdGhpcy5fc3Vic2NyaXB0aW9ucy5oYXMoc3ViLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKGBTdWJzY3JpcHRpb24gd2l0aCBpZCBcIiR7c3ViLmlkfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBzdWIuc2VuZFN1YnNjcmlwdGlvblJlcXVlc3QoKTtcbiAgICAgICAgICAgIGlmICgoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkoc3ViLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKCdTdWJzY3JpcHRpb24gaXMgbm90IHN1YnNjcmliZWQgeWV0LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5zZXQoc3ViLmlkLCBzdWIpO1xuICAgICAgICAgICAgcmV0dXJuIHN1Yi5pZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgY2xlYXIgYSBzdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBzdWJzY3JpcHRpb24gb2YgdHlwZSB7QGxpbmsgV2ViM1N1YnNjcmlwdGlvbn0gIHRvIHJlbW92ZVxuICAgICAqL1xuICAgIHJlbW92ZVN1YnNjcmlwdGlvbihzdWIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHN1YjtcbiAgICAgICAgICAgIGlmICgoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuU3Vic2NyaXB0aW9uRXJyb3IoJ1N1YnNjcmlwdGlvbiBpcyBub3Qgc3Vic2NyaWJlZCB5ZXQuIE9yLCBoYWQgYWxyZWFkeSBiZWVuIHVuc3Vic2NyaWJlZCBidXQgbm90IHRocm91Z2ggdGhlIFN1YnNjcmlwdGlvbiBNYW5hZ2VyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdWJzY3JpcHRpb25zLmhhcyhpZCkgJiYgIXRoaXMudG9sZXJhdGVVbmxpbmtlZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKGBTdWJzY3JpcHRpb24gd2l0aCBpZCBcIiR7aWQudG9TdHJpbmcoKX1cIiBkb2VzIG5vdCBleGlzdHNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHN1Yi5zZW5kVW5zdWJzY3JpYmVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHVuc3Vic2NyaWJlIGFsbCBzdWJzY3JpcHRpb25zIHRoYXQgZnVsZmlsbCB0aGUgY29uZGl0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uIC0gQSBmdW5jdGlvbiB0aGF0IGFjY2VzcyBhbmQgYGlkYCBhbmQgYSBgc3Vic2NyaXB0aW9uYCBhbmQgcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYWxsIHRoZSB1bi1zdWJzY3JpYmVkIHN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShjb25kaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIHN1Yl0gb2YgdGhpcy5zdWJzY3JpcHRpb25zLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uIHx8ICh0eXBlb2YgY29uZGl0aW9uID09PSAnZnVuY3Rpb24nICYmIGNvbmRpdGlvbih7IGlkLCBzdWIgfSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKHN1YikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgY3VycmVudCBwcm92aWRlciBzdXBwb3J0cyBzdWJzY3JpcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYHRydWVgIG9yIGBmYWxzZWAgZGVwZW5kaW5nIG9uIGlmIHRoZSBjdXJyZW50IHByb3ZpZGVyIHN1cHBvcnRzIHN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBzdXBwb3J0c1N1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiAoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkodGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcilcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogKDAsIHV0aWxzX2pzXzEuaXNTdXBwb3J0U3Vic2NyaXB0aW9ucykodGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlcik7XG4gICAgfVxufVxuZXhwb3J0cy5XZWIzU3Vic2NyaXB0aW9uTWFuYWdlciA9IFdlYjNTdWJzY3JpcHRpb25NYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19zdWJzY3JpcHRpb25fbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscriptions.js":
/*!*********************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscriptions.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Web3Subscription = void 0;\n// eslint-disable-next-line max-classes-per-file\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\n// eslint-disable-next-line import/no-cycle\nconst web3_subscription_manager_js_1 = __webpack_require__(/*! ./web3_subscription_manager.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscription_manager.js\");\nconst web3_event_emitter_js_1 = __webpack_require__(/*! ./web3_event_emitter.js */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_event_emitter.js\");\nclass Web3Subscription extends web3_event_emitter_js_1.Web3EventEmitter {\n    constructor(args, options) {\n        var _a;\n        super();\n        this.args = args;\n        const { requestManager } = options;\n        const { subscriptionManager } = options;\n        if (requestManager && subscriptionManager) {\n            throw new web3_errors_1.SubscriptionError('Only requestManager or subscriptionManager should be provided at Subscription constructor');\n        }\n        if (!requestManager && !subscriptionManager) {\n            throw new web3_errors_1.SubscriptionError('Either requestManager or subscriptionManager should be provided at Subscription constructor');\n        }\n        if (requestManager) {\n            // eslint-disable-next-line deprecation/deprecation\n            this._subscriptionManager = new web3_subscription_manager_js_1.Web3SubscriptionManager(requestManager, {}, true);\n        }\n        else {\n            this._subscriptionManager = subscriptionManager;\n        }\n        this._returnFormat = (_a = options === null || options === void 0 ? void 0 : options.returnFormat) !== null && _a !== void 0 ? _a : web3_types_1.DEFAULT_RETURN_FORMAT;\n    }\n    get id() {\n        return this._id;\n    }\n    get lastBlock() {\n        return this._lastBlock;\n    }\n    subscribe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._subscriptionManager.addSubscription(this);\n        });\n    }\n    processSubscriptionData(data) {\n        var _a, _b;\n        if (data === null || data === void 0 ? void 0 : data.data) {\n            // for EIP-1193 provider\n            this._processSubscriptionResult((_b = (_a = data === null || data === void 0 ? void 0 : data.data) === null || _a === void 0 ? void 0 : _a.result) !== null && _b !== void 0 ? _b : data === null || data === void 0 ? void 0 : data.data);\n        }\n        else if (data &&\n            web3_utils_1.jsonRpc.isResponseWithNotification(data)) {\n            this._processSubscriptionResult(data === null || data === void 0 ? void 0 : data.params.result);\n        }\n    }\n    sendSubscriptionRequest() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._id = yield this._subscriptionManager.requestManager.send({\n                method: 'eth_subscribe',\n                params: this._buildSubscriptionParams(),\n            });\n            this.emit('connected', this._id);\n            return this._id;\n        });\n    }\n    get returnFormat() {\n        return this._returnFormat;\n    }\n    get subscriptionManager() {\n        return this._subscriptionManager;\n    }\n    resubscribe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.unsubscribe();\n            yield this.subscribe();\n        });\n    }\n    unsubscribe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.id) {\n                return;\n            }\n            yield this._subscriptionManager.removeSubscription(this);\n        });\n    }\n    sendUnsubscribeRequest() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._subscriptionManager.requestManager.send({\n                method: 'eth_unsubscribe',\n                params: [this.id],\n            });\n            this._id = undefined;\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    formatSubscriptionResult(data) {\n        return data;\n    }\n    _processSubscriptionResult(data) {\n        this.emit('data', this.formatSubscriptionResult(data));\n    }\n    _processSubscriptionError(error) {\n        this.emit('error', error);\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _buildSubscriptionParams() {\n        // This should be overridden in the subclass\n        throw new Error('Implement in the child class');\n    }\n}\nexports.Web3Subscription = Web3Subscription;\n//# sourceMappingURL=web3_subscriptions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2NvbW1vbmpzL3dlYjNfc3Vic2NyaXB0aW9ucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QjtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLHVGQUFZO0FBQ3pDLHFCQUFxQixtQkFBTyxDQUFDLHVGQUFZO0FBQ3pDLHNCQUFzQixtQkFBTyxDQUFDLHlGQUFhO0FBQzNDO0FBQ0EsdUNBQXVDLG1CQUFPLENBQUMsOEhBQWdDO0FBQy9FLGdDQUFnQyxtQkFBTyxDQUFDLGdIQUF5QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQyxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUg7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNzdWVyX2hvbGRlcl92ZXJpZmllci8uL3NyYy9wYWdlcy9hcGkvbm9kZV9tb2R1bGVzL3dlYjMtY29yZS9saWIvY29tbW9uanMvd2ViM19zdWJzY3JpcHRpb25zLmpzPzU3MTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWIzU3Vic2NyaXB0aW9uID0gdm9pZCAwO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1jbGFzc2VzLXBlci1maWxlXG5jb25zdCB3ZWIzX3R5cGVzXzEgPSByZXF1aXJlKFwid2ViMy10eXBlc1wiKTtcbmNvbnN0IHdlYjNfdXRpbHNfMSA9IHJlcXVpcmUoXCJ3ZWIzLXV0aWxzXCIpO1xuY29uc3Qgd2ViM19lcnJvcnNfMSA9IHJlcXVpcmUoXCJ3ZWIzLWVycm9yc1wiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmNvbnN0IHdlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfc3Vic2NyaXB0aW9uX21hbmFnZXIuanNcIik7XG5jb25zdCB3ZWIzX2V2ZW50X2VtaXR0ZXJfanNfMSA9IHJlcXVpcmUoXCIuL3dlYjNfZXZlbnRfZW1pdHRlci5qc1wiKTtcbmNsYXNzIFdlYjNTdWJzY3JpcHRpb24gZXh0ZW5kcyB3ZWIzX2V2ZW50X2VtaXR0ZXJfanNfMS5XZWIzRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0TWFuYWdlciB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBzdWJzY3JpcHRpb25NYW5hZ2VyIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAocmVxdWVzdE1hbmFnZXIgJiYgc3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuU3Vic2NyaXB0aW9uRXJyb3IoJ09ubHkgcmVxdWVzdE1hbmFnZXIgb3Igc3Vic2NyaXB0aW9uTWFuYWdlciBzaG91bGQgYmUgcHJvdmlkZWQgYXQgU3Vic2NyaXB0aW9uIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXF1ZXN0TWFuYWdlciAmJiAhc3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuU3Vic2NyaXB0aW9uRXJyb3IoJ0VpdGhlciByZXF1ZXN0TWFuYWdlciBvciBzdWJzY3JpcHRpb25NYW5hZ2VyIHNob3VsZCBiZSBwcm92aWRlZCBhdCBTdWJzY3JpcHRpb24gY29uc3RydWN0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdE1hbmFnZXIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlciA9IG5ldyB3ZWIzX3N1YnNjcmlwdGlvbl9tYW5hZ2VyX2pzXzEuV2ViM1N1YnNjcmlwdGlvbk1hbmFnZXIocmVxdWVzdE1hbmFnZXIsIHt9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXIgPSBzdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JldHVybkZvcm1hdCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXR1cm5Gb3JtYXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQ7XG4gICAgfVxuICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgICBnZXQgbGFzdEJsb2NrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdEJsb2NrO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlci5hZGRTdWJzY3JpcHRpb24odGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9jZXNzU3Vic2NyaXB0aW9uRGF0YShkYXRhKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgLy8gZm9yIEVJUC0xMTkzIHByb3ZpZGVyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzU3Vic2NyaXB0aW9uUmVzdWx0KChfYiA9IChfYSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzdWx0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSAmJlxuICAgICAgICAgICAgd2ViM191dGlsc18xLmpzb25ScGMuaXNSZXNwb25zZVdpdGhOb3RpZmljYXRpb24oZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NTdWJzY3JpcHRpb25SZXN1bHQoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnBhcmFtcy5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRTdWJzY3JpcHRpb25SZXF1ZXN0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdGhpcy5faWQgPSB5aWVsZCB0aGlzLl9zdWJzY3JpcHRpb25NYW5hZ2VyLnJlcXVlc3RNYW5hZ2VyLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ2V0aF9zdWJzY3JpYmUnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogdGhpcy5fYnVpbGRTdWJzY3JpcHRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnLCB0aGlzLl9pZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgcmV0dXJuRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmV0dXJuRm9ybWF0O1xuICAgIH1cbiAgICBnZXQgc3Vic2NyaXB0aW9uTWFuYWdlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXI7XG4gICAgfVxuICAgIHJlc3Vic2NyaWJlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlci5yZW1vdmVTdWJzY3JpcHRpb24odGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kVW5zdWJzY3JpYmVSZXF1ZXN0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlci5yZXF1ZXN0TWFuYWdlci5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdldGhfdW5zdWJzY3JpYmUnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW3RoaXMuaWRdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZm9ybWF0U3Vic2NyaXB0aW9uUmVzdWx0KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIF9wcm9jZXNzU3Vic2NyaXB0aW9uUmVzdWx0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgdGhpcy5mb3JtYXRTdWJzY3JpcHRpb25SZXN1bHQoZGF0YSkpO1xuICAgIH1cbiAgICBfcHJvY2Vzc1N1YnNjcmlwdGlvbkVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgX2J1aWxkU3Vic2NyaXB0aW9uUGFyYW1zKCkge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBvdmVycmlkZGVuIGluIHRoZSBzdWJjbGFzc1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcGxlbWVudCBpbiB0aGUgY2hpbGQgY2xhc3MnKTtcbiAgICB9XG59XG5leHBvcnRzLldlYjNTdWJzY3JpcHRpb24gPSBXZWIzU3Vic2NyaXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViM19zdWJzY3JpcHRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/web3_subscriptions.js\n");

/***/ })

};
;