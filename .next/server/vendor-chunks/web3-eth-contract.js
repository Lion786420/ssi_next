"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/web3-eth-contract";
exports.ids = ["vendor-chunks/web3-eth-contract"];
exports.modules = {

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/contract.js":
/*!*******************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/contract.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Contract = void 0;\nconst web3_core_1 = __webpack_require__(/*! web3-core */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/index.js\");\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_eth_1 = __webpack_require__(/*! web3-eth */ \"(api)/./src/pages/api/node_modules/web3-eth/lib/commonjs/index.js\");\nconst web3_eth_abi_1 = __webpack_require__(/*! web3-eth-abi */ \"(api)/./src/pages/api/node_modules/web3-eth-abi/lib/commonjs/index.js\");\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_validator_1 = __webpack_require__(/*! web3-validator */ \"(api)/./src/pages/api/node_modules/web3-validator/lib/commonjs/index.js\");\nconst encoding_js_1 = __webpack_require__(/*! ./encoding.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js\");\nconst log_subscription_js_1 = __webpack_require__(/*! ./log_subscription.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/log_subscription.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/utils.js\");\nconst contractSubscriptions = {\n    logs: log_subscription_js_1.LogsSubscription,\n    newHeads: web3_eth_1.NewHeadsSubscription,\n    newBlockHeaders: web3_eth_1.NewHeadsSubscription,\n};\n/**\n * The `web3.eth.Contract` makes it easy to interact with smart contracts on the ethereum blockchain.\n * For using contract package, first install Web3 package using: `npm i web3` or `yarn add web3` based on your package manager, after that contracts features can be used as mentioned in following snippet.\n * ```ts\n *\n * import { Web3 } from 'web3';\n *\n * const web3 = new Web3('https://127.0.0.1:4545');\n * const abi = [...] as const; // your contract ABI\n *\n * let contract = new web3.eth.Contract(abi,'0xdAC17F958D2ee523a2206206994597C13D831ec7');\n * await contract.methods.balanceOf('0xdAC17F958D2ee523a2206206994597C13D831ec7').call();\n * ```\n * For using individual package install `web3-eth-contract` and `web3-core` packages using: `npm i web3-eth-contract web3-core` or `yarn add web3-eth-contract web3-core`. This is more efficient approach for building lightweight applications.\n * ```ts\n *\n * import { Web3Context } from 'web3-core';\n * import { Contract } from 'web3-eth-contract';\n *\n * const abi = [...] as const; // your contract ABI\n *\n * let contract = new web3.eth.Contract(\n * \tabi,\n * \t'0xdAC17F958D2ee523a2206206994597C13D831ec7'\n * \t new Web3Context('http://127.0.0.1:8545'));\n *\n * await contract.methods.balanceOf('0xdAC17F958D2ee523a2206206994597C13D831ec7').call();\n * ```\n * ## Generated Methods\n * Following methods are generated by web3.js contract object for each of contract functions by using its ABI.\n *\n * ### send\n * This is used to send a transaction to the smart contract and execute its method. Note this can alter the smart contract state.\n *\n * #### Parameters\n * options?: PayableTxOptions | NonPayableTxOptions\n *\n * #### Returns\n * [Web3PromiEvent](/api/web3/namespace/core#Web3PromiEvent) : Web3 Promi Event\n *\n * ```ts\n * // using the promise\n * myContract.methods.myMethod(123).send({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'})\n * \t.then(function(receipt){\n * \t\t// other parts of code to use receipt\n * \t});\n *\n *\n * // using the event emitter\n * myContract.methods.myMethod(123).send({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'})\n * \t.on('transactionHash', function(hash){\n * \t\t// ...\n * \t})\n * \t.on('confirmation', function(confirmationNumber, receipt){\n * \t\t// ...\n * \t})\n * \t.on('receipt', function(receipt){\n * \t\t// ...\n * \t})\n * \t.on('error', function(error, receipt) {\n * \t\t// ...\n * \t});\n *\n * ```\n *\n * ### call\n * This will execute smart contract method in the EVM without sending any transaction. Note calling cannot alter the smart contract state.\n *\n * #### Parameters\n * options?: PayableCallOptions | NonPayableCallOptions,\n * block?: BlockNumberOrTag,\n *\n * #### Returns\n * Promise : having results of call\n *\n * ```ts\n *\n * let myContract = new web3.eth.Contract(abi, address);\n *\n * myContract.methods.myFunction().call()\n * .then(console.log);\n *\n * ```\n * ### estimateGas\n * Returns the amount of gas consumed by executing the method in EVM without creating a new transaction on the blockchain. The returned amount can be used as a gas estimate for executing the transaction publicly. The actual gas used can be different when sending the transaction later, as the state of the smart contract can be different at that time.\n *\n * #### Parameters\n * options?: PayableCallOptions,\n * returnFormat: ReturnFormat = DEFAULT_RETURN_FORMAT as ReturnFormat,\n *\n * #### Returns\n * Promise: The gas amount estimated.\n *\n * ```ts\n * const estimatedGas = await contract.methods.approve('0xdAC17F958D2ee523a2206206994597C13D831ec7', 300)\n *     .estimateGas();\n *\n * ```\n *\n * ### encodeABI\n * Encodes the ABI for this method. The resulting hex string is 32-bit function signature hash plus the passed parameters in Solidity tightly packed format. This can be used to send a transaction, call a method, or pass it into another smart contract’s method as arguments. Set the data field on web3.eth.sendTransaction options as the encodeABI() result and it is the same as calling the contract method with contract.myMethod.send().\n *\n * Some use cases for encodeABI() include: preparing a smart contract transaction for a multisignature wallet, working with offline wallets and cold storage and creating transaction payload for complex smart contract proxy calls.\n *\n * #### Parameters\n * None\n *\n * #### Returns\n * String: The encoded ABI.\n *\n * ```ts\n * const encodedABI = await contract.methods.approve('0xdAC17F958D2ee523a2206206994597C13D831ec7', 300)\n *     .encodeABI();\n *\n * ```\n *\n * ### createAccessList\n * This will create an access list a method execution will access when executed in the EVM.\n * Note: You must specify a from address and gas if it’s not specified in options when instantiating parent contract object.\n *\n * #### Parameters\n * options?: PayableCallOptions | NonPayableCallOptions,\n * block?: BlockNumberOrTag,\n *\n * #### Returns\n * Promise: The generated access list for transaction.\n *\n * ```ts\n * const accessList = await contract.methods.approve('0xbEe634C21c16F05B03B704BaE071536121e6cFeA', 300)\n *     .createAccessList({\n *         from: \"0x9992695e1053bb737d3cfae4743dcfc4b94f203d\"\n *    });\n * ```\n *\n */\nclass Contract extends web3_core_1.Web3Context {\n    constructor(jsonInterface, addressOrOptionsOrContext, optionsOrContextOrReturnFormat, contextOrReturnFormat, returnFormat) {\n        var _a, _b, _c;\n        // eslint-disable-next-line no-nested-ternary\n        const options = (0, web3_utils_1.isContractInitOptions)(addressOrOptionsOrContext)\n            ? addressOrOptionsOrContext\n            : (0, web3_utils_1.isContractInitOptions)(optionsOrContextOrReturnFormat)\n                ? optionsOrContextOrReturnFormat\n                : undefined;\n        let contractContext;\n        if ((0, utils_js_1.isWeb3ContractContext)(addressOrOptionsOrContext)) {\n            contractContext = addressOrOptionsOrContext;\n        }\n        else if ((0, utils_js_1.isWeb3ContractContext)(optionsOrContextOrReturnFormat)) {\n            contractContext = optionsOrContextOrReturnFormat;\n        }\n        else {\n            contractContext = contextOrReturnFormat;\n        }\n        let provider;\n        if (typeof addressOrOptionsOrContext === 'object' &&\n            'provider' in addressOrOptionsOrContext) {\n            provider = addressOrOptionsOrContext.provider;\n        }\n        else if (typeof optionsOrContextOrReturnFormat === 'object' &&\n            'provider' in optionsOrContextOrReturnFormat) {\n            provider = optionsOrContextOrReturnFormat.provider;\n        }\n        else if (typeof contextOrReturnFormat === 'object' &&\n            'provider' in contextOrReturnFormat) {\n            provider = contextOrReturnFormat.provider;\n        }\n        else {\n            provider = Contract.givenProvider;\n        }\n        super(Object.assign(Object.assign({}, contractContext), { provider, registeredSubscriptions: contractSubscriptions }));\n        /**\n         * Set to true if you want contracts' defaults to sync with global defaults.\n         */\n        this.syncWithContext = false;\n        this._functions = {};\n        // Init protected properties\n        if (contractContext === null || contractContext === void 0 ? void 0 : contractContext.wallet) {\n            this._wallet = contractContext.wallet;\n        }\n        if (contractContext === null || contractContext === void 0 ? void 0 : contractContext.accountProvider) {\n            this._accountProvider = contractContext.accountProvider;\n        }\n        if (!(0, web3_validator_1.isNullish)(options) &&\n            !(0, web3_validator_1.isNullish)(options.data) &&\n            !(0, web3_validator_1.isNullish)(options.input) &&\n            this.config.contractDataInputFill !== 'both')\n            throw new web3_errors_1.ContractTransactionDataAndInputError({\n                data: options.data,\n                input: options.input,\n            });\n        this._overloadedMethodAbis = new Map();\n        // eslint-disable-next-line no-nested-ternary\n        const returnDataFormat = (0, web3_utils_1.isDataFormat)(contextOrReturnFormat)\n            ? contextOrReturnFormat\n            : (0, web3_utils_1.isDataFormat)(optionsOrContextOrReturnFormat)\n                ? optionsOrContextOrReturnFormat\n                : returnFormat !== null && returnFormat !== void 0 ? returnFormat : web3_types_1.DEFAULT_RETURN_FORMAT;\n        const address = typeof addressOrOptionsOrContext === 'string' ? addressOrOptionsOrContext : undefined;\n        this.config.contractDataInputFill =\n            (_a = options === null || options === void 0 ? void 0 : options.dataInputFill) !== null && _a !== void 0 ? _a : this.config.contractDataInputFill;\n        this._parseAndSetJsonInterface(jsonInterface, returnDataFormat);\n        if (!(0, web3_validator_1.isNullish)(address)) {\n            this._parseAndSetAddress(address, returnDataFormat);\n        }\n        this.options = {\n            address,\n            jsonInterface: this._jsonInterface,\n            gas: (_b = options === null || options === void 0 ? void 0 : options.gas) !== null && _b !== void 0 ? _b : options === null || options === void 0 ? void 0 : options.gasLimit,\n            gasPrice: options === null || options === void 0 ? void 0 : options.gasPrice,\n            from: options === null || options === void 0 ? void 0 : options.from,\n            input: options === null || options === void 0 ? void 0 : options.input,\n            data: options === null || options === void 0 ? void 0 : options.data,\n        };\n        this.syncWithContext = (_c = options === null || options === void 0 ? void 0 : options.syncWithContext) !== null && _c !== void 0 ? _c : false;\n        if (contractContext instanceof web3_core_1.Web3Context) {\n            this.subscribeToContextEvents(contractContext);\n        }\n        Object.defineProperty(this.options, 'address', {\n            set: (value) => this._parseAndSetAddress(value, returnDataFormat),\n            get: () => this._address,\n        });\n        Object.defineProperty(this.options, 'jsonInterface', {\n            set: (value) => this._parseAndSetJsonInterface(value, returnDataFormat),\n            get: () => this._jsonInterface,\n        });\n        if (contractContext instanceof web3_core_1.Web3Context) {\n            contractContext.on(web3_core_1.Web3ConfigEvent.CONFIG_CHANGE, event => {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this.setConfig({ [event.name]: event.newValue });\n            });\n        }\n    }\n    /**\n     * Subscribe to an event.\n     *\n     * ```ts\n     * await myContract.events.MyEvent([options])\n     * ```\n     *\n     * There is a special event `allEvents` that can be used to subscribe all events.\n     *\n     * ```ts\n     * await myContract.events.allEvents([options])\n     * ```\n     *\n     * @returns - When individual event is accessed will returns {@link ContractBoundEvent} object\n     */\n    get events() {\n        return this._events;\n    }\n    /**\n     * Creates a transaction object for that method, which then can be `called`, `send`, `estimated`, `createAccessList` , or `ABI encoded`.\n     *\n     * The methods of this smart contract are available through:\n     *\n     * The name: `myContract.methods.myMethod(123)`\n     * The name with parameters: `myContract.methods['myMethod(uint256)'](123)`\n     * The signature `myContract.methods['0x58cf5f10'](123)`\n     *\n     * This allows calling functions with same name but different parameters from the JavaScript contract object.\n     *\n     * \\> The method signature does not provide a type safe interface, so we recommend to use method `name` instead.\n     *\n     * ```ts\n     * // calling a method\n     * const result = await myContract.methods.myMethod(123).call({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'});\n     *\n     * // or sending and using a promise\n     * const receipt = await myContract.methods.myMethod(123).send({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'});\n     *\n     * // or sending and using the events\n     * const sendObject = myContract.methods.myMethod(123).send({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'});\n     * sendObject.on('transactionHash', function(hash){\n     *   ...\n     * });\n     * sendObject.on('receipt', function(receipt){\n     *   ...\n     * });\n     * sendObject.on('confirmation', function(confirmationNumber, receipt){\n     *   ...\n     * });\n     * sendObject.on('error', function(error, receipt) {\n     *   ...\n     * });\n     * ```\n     *\n     * @returns - Either returns {@link PayableMethodObject} or {@link NonPayableMethodObject} based on the definitions of the ABI of that contract.\n     */\n    get methods() {\n        return this._methods;\n    }\n    /**\n     * Clones the current contract instance. This doesn't deploy contract on blockchain and only creates a local clone.\n     *\n     * @returns - The new contract instance.\n     *\n     * ```ts\n     * const contract1 = new web3.eth.Contract(abi, address, {gasPrice: '12345678', from: fromAddress});\n     *\n     * const contract2 = contract1.clone();\n     * contract2.options.address = '0xdAC17F958D2ee523a2206206994597C13D831ec7';\n     *\n     * (contract1.options.address !== contract2.options.address);\n     * > true\n     * ```\n     */\n    clone() {\n        let newContract;\n        if (this.options.address) {\n            newContract = new Contract([...this._jsonInterface, ...this._errorsInterface], this.options.address, {\n                gas: this.options.gas,\n                gasPrice: this.options.gasPrice,\n                from: this.options.from,\n                input: this.options.input,\n                data: this.options.data,\n                provider: this.currentProvider,\n                syncWithContext: this.syncWithContext,\n                dataInputFill: this.config.contractDataInputFill,\n            }, this.getContextObject());\n        }\n        else {\n            newContract = new Contract([...this._jsonInterface, ...this._errorsInterface], {\n                gas: this.options.gas,\n                gasPrice: this.options.gasPrice,\n                from: this.options.from,\n                input: this.options.input,\n                data: this.options.data,\n                provider: this.currentProvider,\n                syncWithContext: this.syncWithContext,\n                dataInputFill: this.config.contractDataInputFill,\n            }, this.getContextObject());\n        }\n        if (this.context)\n            newContract.subscribeToContextEvents(this.context);\n        return newContract;\n    }\n    /**\n     * Call this function to deploy the contract to the blockchain. After successful deployment the promise will resolve with a new contract instance.\n     *\n     * ```ts\n     * myContract.deploy({\n     *   input: '0x12345...', // data keyword can be used, too.\n     *   arguments: [123, 'My String']\n     * })\n     * .send({\n     *   from: '0x1234567890123456789012345678901234567891',\n     *   gas: 1500000,\n     *   gasPrice: '30000000000000'\n     * }, function(error, transactionHash){ ... })\n     * .on('error', function(error){ ... })\n     * .on('transactionHash', function(transactionHash){ ... })\n     * .on('receipt', function(receipt){\n     *  console.log(receipt.contractAddress) // contains the new contract address\n     * })\n     * .on('confirmation', function(confirmationNumber, receipt){ ... })\n     * .then(function(newContractInstance){\n     *   console.log(newContractInstance.options.address) // instance with the new contract address\n     * });\n     *\n     *\n     * // When the data is already set as an option to the contract itself\n     * myContract.options.data = '0x12345...';\n     *\n     * myContract.deploy({\n     *   arguments: [123, 'My String']\n     * })\n     * .send({\n     *   from: '0x1234567890123456789012345678901234567891',\n     *   gas: 1500000,\n     *   gasPrice: '30000000000000'\n     * })\n     * .then(function(newContractInstance){\n     *   console.log(newContractInstance.options.address) // instance with the new contract address\n     * });\n     *\n     *\n     * // Simply encoding\n     * myContract.deploy({\n     *   input: '0x12345...',\n     *   arguments: [123, 'My String']\n     * })\n     * .encodeABI();\n     * > '0x12345...0000012345678765432'\n     *\n     *\n     * // Gas estimation\n     * myContract.deploy({\n     *   input: '0x12345...',\n     *   arguments: [123, 'My String']\n     * })\n     * .estimateGas(function(err, gas){\n     *   console.log(gas);\n     * });\n     * ```\n     *\n     * @returns - The transaction object\n     */\n    deploy(deployOptions) {\n        var _a, _b, _c;\n        let abi = this._jsonInterface.find(j => j.type === 'constructor');\n        if (!abi) {\n            abi = {\n                type: 'constructor',\n                stateMutability: '',\n            };\n        }\n        const _input = (0, web3_utils_1.format)({ format: 'bytes' }, (_a = deployOptions === null || deployOptions === void 0 ? void 0 : deployOptions.input) !== null && _a !== void 0 ? _a : this.options.input, web3_types_1.DEFAULT_RETURN_FORMAT);\n        const _data = (0, web3_utils_1.format)({ format: 'bytes' }, (_b = deployOptions === null || deployOptions === void 0 ? void 0 : deployOptions.data) !== null && _b !== void 0 ? _b : this.options.data, web3_types_1.DEFAULT_RETURN_FORMAT);\n        if ((!_input || _input.trim() === '0x') && (!_data || _data.trim() === '0x')) {\n            throw new web3_errors_1.Web3ContractError('contract creation without any data provided.');\n        }\n        const args = (_c = deployOptions === null || deployOptions === void 0 ? void 0 : deployOptions.arguments) !== null && _c !== void 0 ? _c : [];\n        const contractOptions = Object.assign(Object.assign({}, this.options), { input: _input, data: _data });\n        const deployData = _input !== null && _input !== void 0 ? _input : _data;\n        return {\n            arguments: args,\n            send: (options) => {\n                const modifiedOptions = Object.assign({}, options);\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                return this._contractMethodDeploySend(abi, args, modifiedOptions, contractOptions);\n            },\n            estimateGas: (options, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) => __awaiter(this, void 0, void 0, function* () {\n                const modifiedOptions = Object.assign({}, options);\n                return this._contractMethodEstimateGas({\n                    abi: abi,\n                    params: args,\n                    returnFormat,\n                    options: modifiedOptions,\n                    contractOptions,\n                });\n            }),\n            encodeABI: () => (0, encoding_js_1.encodeMethodABI)(abi, args, (0, web3_utils_1.format)({ format: 'bytes' }, deployData, web3_types_1.DEFAULT_RETURN_FORMAT)),\n        };\n    }\n    getPastEvents(param1, param2, param3) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const eventName = typeof param1 === 'string' ? param1 : web3_eth_1.ALL_EVENTS;\n            const options = \n            // eslint-disable-next-line no-nested-ternary\n            typeof param1 !== 'string' && !(0, web3_utils_1.isDataFormat)(param1)\n                ? param1\n                : !(0, web3_utils_1.isDataFormat)(param2)\n                    ? param2\n                    : {};\n            // eslint-disable-next-line no-nested-ternary\n            const returnFormat = (0, web3_utils_1.isDataFormat)(param1)\n                ? param1\n                : (0, web3_utils_1.isDataFormat)(param2)\n                    ? param2\n                    : param3 !== null && param3 !== void 0 ? param3 : web3_types_1.DEFAULT_RETURN_FORMAT;\n            const abi = eventName === 'allEvents' || eventName === web3_eth_1.ALL_EVENTS\n                ? web3_eth_1.ALL_EVENTS_ABI\n                : this._jsonInterface.find(j => 'name' in j && j.name === eventName);\n            if (!abi) {\n                throw new web3_errors_1.Web3ContractError(`Event ${eventName} not found.`);\n            }\n            const { fromBlock, toBlock, topics, address } = (0, encoding_js_1.encodeEventABI)(this.options, abi, options !== null && options !== void 0 ? options : {});\n            const logs = yield (0, web3_eth_1.getLogs)(this, { fromBlock, toBlock, topics, address }, returnFormat);\n            const decodedLogs = logs\n                ? logs.map(log => typeof log === 'string'\n                    ? log\n                    : (0, web3_eth_1.decodeEventABI)(abi, log, this._jsonInterface, returnFormat))\n                : [];\n            const filter = (_a = options === null || options === void 0 ? void 0 : options.filter) !== null && _a !== void 0 ? _a : {};\n            const filterKeys = Object.keys(filter);\n            if (filterKeys.length > 0) {\n                return decodedLogs.filter(log => {\n                    if (typeof log === 'string')\n                        return true;\n                    return filterKeys.every((key) => {\n                        var _a;\n                        if (Array.isArray(filter[key])) {\n                            return filter[key].some((v) => String(log.returnValues[key]).toUpperCase() ===\n                                String(v).toUpperCase());\n                        }\n                        const inputAbi = (_a = abi.inputs) === null || _a === void 0 ? void 0 : _a.filter(input => input.name === key)[0];\n                        if ((inputAbi === null || inputAbi === void 0 ? void 0 : inputAbi.indexed) && inputAbi.type === 'string') {\n                            const hashedIndexedString = (0, web3_utils_1.keccak256)(filter[key]);\n                            if (hashedIndexedString === String(log.returnValues[key]))\n                                return true;\n                        }\n                        return (String(log.returnValues[key]).toUpperCase() ===\n                            String(filter[key]).toUpperCase());\n                    });\n                });\n            }\n            return decodedLogs;\n        });\n    }\n    _parseAndSetAddress(value, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) {\n        this._address = value\n            ? (0, web3_utils_1.toChecksumAddress)((0, web3_utils_1.format)({ format: 'address' }, value, returnFormat))\n            : value;\n    }\n    _parseAndSetJsonInterface(abis, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) {\n        var _a, _b, _c, _d, _e;\n        this._functions = {};\n        this._methods = {};\n        this._events = {};\n        let result = [];\n        const functionsAbi = abis.filter(abi => abi.type !== 'error');\n        const errorsAbi = abis.filter(abi => (0, web3_eth_abi_1.isAbiErrorFragment)(abi));\n        for (const a of functionsAbi) {\n            const abi = Object.assign(Object.assign({}, a), { signature: '' });\n            if ((0, web3_eth_abi_1.isAbiFunctionFragment)(abi)) {\n                const methodName = (0, web3_eth_abi_1.jsonInterfaceMethodToString)(abi);\n                const methodSignature = (0, web3_eth_abi_1.encodeFunctionSignature)(methodName);\n                abi.signature = methodSignature;\n                // make constant and payable backwards compatible\n                abi.constant =\n                    (_b = (_a = abi.stateMutability === 'view') !== null && _a !== void 0 ? _a : abi.stateMutability === 'pure') !== null && _b !== void 0 ? _b : abi.constant;\n                abi.payable = (_c = abi.stateMutability === 'payable') !== null && _c !== void 0 ? _c : abi.payable;\n                this._overloadedMethodAbis.set(abi.name, [\n                    ...((_d = this._overloadedMethodAbis.get(abi.name)) !== null && _d !== void 0 ? _d : []),\n                    abi,\n                ]);\n                const abiFragment = (_e = this._overloadedMethodAbis.get(abi.name)) !== null && _e !== void 0 ? _e : [];\n                const contractMethod = this._createContractMethod(abiFragment, errorsAbi);\n                this._functions[methodName] = {\n                    signature: methodSignature,\n                    method: contractMethod,\n                };\n                // We don't know a particular type of the Abi method so can't type check\n                this._methods[abi.name] = this._functions[methodName].method;\n                // We don't know a particular type of the Abi method so can't type check\n                this._methods[methodName] = this._functions[methodName].method;\n                // We don't know a particular type of the Abi method so can't type check\n                this._methods[methodSignature] = this\n                    ._functions[methodName].method;\n            }\n            else if ((0, web3_eth_abi_1.isAbiEventFragment)(abi)) {\n                const eventName = (0, web3_eth_abi_1.jsonInterfaceMethodToString)(abi);\n                const eventSignature = (0, web3_eth_abi_1.encodeEventSignature)(eventName);\n                const event = this._createContractEvent(abi, returnFormat);\n                abi.signature = eventSignature;\n                if (!(eventName in this._events) || abi.name === 'bound') {\n                    // It's a private type and we don't want to expose it and no need to check\n                    this._events[eventName] = event;\n                }\n                // It's a private type and we don't want to expose it and no need to check\n                this._events[abi.name] = event;\n                // It's a private type and we don't want to expose it and no need to check\n                this._events[eventSignature] = event;\n            }\n            result = [...result, abi];\n        }\n        this._events.allEvents = this._createContractEvent(web3_eth_1.ALL_EVENTS_ABI, returnFormat);\n        this._jsonInterface = [...result];\n        this._errorsInterface = errorsAbi;\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _getAbiParams(abi, params) {\n        var _a;\n        try {\n            return web3_validator_1.utils.transformJsonDataToAbiFormat((_a = abi.inputs) !== null && _a !== void 0 ? _a : [], params);\n        }\n        catch (error) {\n            throw new web3_errors_1.Web3ContractError(`Invalid parameters for method ${abi.name}: ${error.message}`);\n        }\n    }\n    _createContractMethod(abiArr, errorsAbis) {\n        const abi = abiArr[abiArr.length - 1];\n        return (...params) => {\n            var _a, _b;\n            let abiParams;\n            const abis = (_a = this._overloadedMethodAbis.get(abi.name)) !== null && _a !== void 0 ? _a : [];\n            let methodAbi = abis[0];\n            const internalErrorsAbis = errorsAbis;\n            const arrayOfAbis = abis.filter(_abi => { var _a; return ((_a = _abi.inputs) !== null && _a !== void 0 ? _a : []).length === params.length; });\n            if (abis.length === 1 || arrayOfAbis.length === 0) {\n                abiParams = this._getAbiParams(methodAbi, params);\n                web3_validator_1.validator.validate((_b = abi.inputs) !== null && _b !== void 0 ? _b : [], abiParams);\n            }\n            else {\n                const errors = [];\n                for (const _abi of arrayOfAbis) {\n                    try {\n                        abiParams = this._getAbiParams(_abi, params);\n                        web3_validator_1.validator.validate(_abi.inputs, abiParams);\n                        methodAbi = _abi;\n                        break;\n                    }\n                    catch (e) {\n                        errors.push(e);\n                    }\n                }\n                if (errors.length === arrayOfAbis.length) {\n                    throw new web3_validator_1.Web3ValidatorError(errors);\n                }\n            }\n            const methods = {\n                arguments: abiParams,\n                call: (options, block) => __awaiter(this, void 0, void 0, function* () {\n                    return this._contractMethodCall(methodAbi, abiParams, internalErrorsAbis, options, block);\n                }),\n                send: (options) => this._contractMethodSend(methodAbi, abiParams, internalErrorsAbis, options),\n                estimateGas: (options, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) => __awaiter(this, void 0, void 0, function* () {\n                    return this._contractMethodEstimateGas({\n                        abi: methodAbi,\n                        params: abiParams,\n                        returnFormat,\n                        options,\n                    });\n                }),\n                encodeABI: () => (0, encoding_js_1.encodeMethodABI)(methodAbi, abiParams),\n                createAccessList: (options, block) => __awaiter(this, void 0, void 0, function* () {\n                    return this._contractMethodCreateAccessList(methodAbi, abiParams, internalErrorsAbis, options, block);\n                }),\n            };\n            if (methodAbi.stateMutability === 'payable') {\n                return methods;\n            }\n            return methods;\n        };\n    }\n    _contractMethodCall(abi, params, errorsAbi, options, block) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const tx = (0, utils_js_1.getEthTxCallParams)({\n                abi,\n                params,\n                options: Object.assign(Object.assign({}, options), { dataInputFill: this.config.contractDataInputFill }),\n                contractOptions: Object.assign(Object.assign({}, this.options), { from: (_a = this.options.from) !== null && _a !== void 0 ? _a : this.config.defaultAccount }),\n            });\n            try {\n                const result = yield (0, web3_eth_1.call)(this, tx, block, web3_types_1.DEFAULT_RETURN_FORMAT);\n                return (0, encoding_js_1.decodeMethodReturn)(abi, result);\n            }\n            catch (error) {\n                if (error instanceof web3_errors_1.ContractExecutionError) {\n                    // this will parse the error data by trying to decode the ABI error inputs according to EIP-838\n                    (0, web3_eth_abi_1.decodeContractErrorData)(errorsAbi, error.cause);\n                }\n                throw error;\n            }\n        });\n    }\n    _contractMethodCreateAccessList(abi, params, errorsAbi, options, block) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const tx = (0, utils_js_1.getCreateAccessListParams)({\n                abi,\n                params,\n                options: Object.assign(Object.assign({}, options), { dataInputFill: this.config.contractDataInputFill }),\n                contractOptions: Object.assign(Object.assign({}, this.options), { from: (_a = this.options.from) !== null && _a !== void 0 ? _a : this.config.defaultAccount }),\n            });\n            try {\n                return (0, web3_eth_1.createAccessList)(this, tx, block, web3_types_1.DEFAULT_RETURN_FORMAT);\n            }\n            catch (error) {\n                if (error instanceof web3_errors_1.ContractExecutionError) {\n                    // this will parse the error data by trying to decode the ABI error inputs according to EIP-838\n                    (0, web3_eth_abi_1.decodeContractErrorData)(errorsAbi, error.cause);\n                }\n                throw error;\n            }\n        });\n    }\n    _contractMethodSend(abi, params, errorsAbi, options, contractOptions) {\n        var _a, _b;\n        let modifiedContractOptions = contractOptions !== null && contractOptions !== void 0 ? contractOptions : this.options;\n        modifiedContractOptions = Object.assign(Object.assign({}, modifiedContractOptions), { input: undefined, from: (_b = (_a = modifiedContractOptions.from) !== null && _a !== void 0 ? _a : this.defaultAccount) !== null && _b !== void 0 ? _b : undefined });\n        const tx = (0, utils_js_1.getSendTxParams)({\n            abi,\n            params,\n            options: Object.assign(Object.assign({}, options), { dataInputFill: this.config.contractDataInputFill }),\n            contractOptions: modifiedContractOptions,\n        });\n        const transactionToSend = (0, web3_eth_1.sendTransaction)(this, tx, web3_types_1.DEFAULT_RETURN_FORMAT, {\n            // TODO Should make this configurable by the user\n            checkRevertBeforeSending: false,\n            contractAbi: this._jsonInterface,\n        });\n        // eslint-disable-next-line no-void\n        void transactionToSend.on('error', (error) => {\n            if (error instanceof web3_errors_1.ContractExecutionError) {\n                // this will parse the error data by trying to decode the ABI error inputs according to EIP-838\n                (0, web3_eth_abi_1.decodeContractErrorData)(errorsAbi, error.cause);\n            }\n        });\n        return transactionToSend;\n    }\n    _contractMethodDeploySend(abi, params, options, contractOptions) {\n        var _a, _b;\n        let modifiedContractOptions = contractOptions !== null && contractOptions !== void 0 ? contractOptions : this.options;\n        modifiedContractOptions = Object.assign(Object.assign({}, modifiedContractOptions), { from: (_b = (_a = modifiedContractOptions.from) !== null && _a !== void 0 ? _a : this.defaultAccount) !== null && _b !== void 0 ? _b : undefined });\n        const tx = (0, utils_js_1.getSendTxParams)({\n            abi,\n            params,\n            options: Object.assign(Object.assign({}, options), { dataInputFill: this.config.contractDataInputFill }),\n            contractOptions: modifiedContractOptions,\n        });\n        return (0, web3_eth_1.sendTransaction)(this, tx, web3_types_1.DEFAULT_RETURN_FORMAT, {\n            transactionResolver: receipt => {\n                if (receipt.status === BigInt(0)) {\n                    throw new web3_errors_1.Web3ContractError(\"code couldn't be stored\", receipt);\n                }\n                const newContract = this.clone();\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                newContract.options.address = receipt.contractAddress;\n                return newContract;\n            },\n            contractAbi: this._jsonInterface,\n            // TODO Should make this configurable by the user\n            checkRevertBeforeSending: false,\n        });\n    }\n    _contractMethodEstimateGas({ abi, params, returnFormat, options, contractOptions, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tx = (0, utils_js_1.getEstimateGasParams)({\n                abi,\n                params,\n                options: Object.assign(Object.assign({}, options), { dataInputFill: this.config.contractDataInputFill }),\n                contractOptions: contractOptions !== null && contractOptions !== void 0 ? contractOptions : this.options,\n            });\n            return (0, web3_eth_1.estimateGas)(this, tx, web3_types_1.BlockTags.LATEST, returnFormat);\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    _createContractEvent(abi, returnFormat = web3_types_1.DEFAULT_RETURN_FORMAT) {\n        return (...params) => {\n            var _a;\n            const { topics, fromBlock } = (0, encoding_js_1.encodeEventABI)(this.options, abi, params[0]);\n            const sub = new log_subscription_js_1.LogsSubscription({\n                address: this.options.address,\n                topics,\n                abi,\n                jsonInterface: this._jsonInterface,\n            }, {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                subscriptionManager: this.subscriptionManager,\n                returnFormat,\n            });\n            if (!(0, web3_validator_1.isNullish)(fromBlock)) {\n                // emit past events when fromBlock is defined\n                this.getPastEvents(abi.name, { fromBlock, topics }, returnFormat)\n                    .then(logs => {\n                    if (logs) {\n                        logs.forEach(log => sub.emit('data', log));\n                    }\n                })\n                    .catch((error) => {\n                    sub.emit('error', new web3_errors_1.SubscriptionError('Failed to get past events.', error));\n                });\n            }\n            (_a = this.subscriptionManager) === null || _a === void 0 ? void 0 : _a.addSubscription(sub).catch((error) => {\n                sub.emit('error', new web3_errors_1.SubscriptionError('Failed to subscribe.', error));\n            });\n            return sub;\n        };\n    }\n    subscribeToContextEvents(context) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const contractThis = this;\n        this.context = context;\n        if (contractThis.syncWithContext) {\n            context.on(web3_core_1.Web3ConfigEvent.CONFIG_CHANGE, event => {\n                contractThis.setConfig({ [event.name]: event.newValue });\n            });\n        }\n    }\n}\nexports.Contract = Contract;\n//# sourceMappingURL=contract.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvY29udHJhY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsb0JBQW9CLG1CQUFPLENBQUMscUZBQVc7QUFDdkMsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsbUZBQVU7QUFDckMsdUJBQXVCLG1CQUFPLENBQUMsMkZBQWM7QUFDN0MscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsdUZBQVk7QUFDekMseUJBQXlCLG1CQUFPLENBQUMsK0ZBQWdCO0FBQ2pELHNCQUFzQixtQkFBTyxDQUFDLG9HQUFlO0FBQzdDLDhCQUE4QixtQkFBTyxDQUFDLG9IQUF1QjtBQUM3RCxtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksV0FBVztBQUN2QjtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtREFBbUQ7QUFDN0Y7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsbURBQW1EO0FBQzdGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsc0JBQXNCLDBEQUEwRDtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw4QkFBOEI7QUFDL0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSwwQkFBMEI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsbURBQW1EO0FBQ3RIO0FBQ0E7QUFDQSxvRUFBb0UsbURBQW1EO0FBQ3ZIO0FBQ0E7QUFDQSxpRUFBaUUsbURBQW1EO0FBQ3BIO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLGtDQUFrQywyQkFBMkIsSUFBSSw4QkFBOEI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsd0NBQXdDO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9DQUFvQyxLQUFLO0FBQ2pELHFDQUFxQyxLQUFLO0FBQzFDLHlEQUF5RCxLQUFLO0FBQzlEO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isa0VBQWtFLEtBQUs7QUFDdkU7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsaUJBQWlCO0FBQ25FLGlEQUFpRCxpQkFBaUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsbUJBQW1CLDRCQUE0QjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2Isc0dBQXNHLGlCQUFpQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFdBQVc7QUFDOUU7QUFDQSxvQkFBb0Isc0NBQXNDLDRHQUE0RztBQUN0SywrREFBK0QscUNBQXFDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxtQkFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxRQUFRLGVBQWU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixTQUFTLElBQUksY0FBYztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxRQUFRLDJGQUEyRjtBQUN6SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWMsa0RBQWtEO0FBQ3ZILCtEQUErRCxtQkFBbUIsNEZBQTRGO0FBQzlLLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWMsa0RBQWtEO0FBQ3ZILCtEQUErRCxtQkFBbUIsNEZBQTRGO0FBQzlLLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSw4QkFBOEIsb0tBQW9LO0FBQ2xRO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxjQUFjLGtEQUFrRDtBQUNuSDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSw4QkFBOEIsa0pBQWtKO0FBQ2hQO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxjQUFjLGtEQUFrRDtBQUNuSDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUNBQWlDLHNEQUFzRDtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxjQUFjLGtEQUFrRDtBQUN2SDtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsK0NBQStDLG1CQUFtQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsOEJBQThCO0FBQ3ZFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1ldGgtY29udHJhY3QvbGliL2NvbW1vbmpzL2NvbnRyYWN0LmpzP2JjNDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db250cmFjdCA9IHZvaWQgMDtcbmNvbnN0IHdlYjNfY29yZV8xID0gcmVxdWlyZShcIndlYjMtY29yZVwiKTtcbmNvbnN0IHdlYjNfZXJyb3JzXzEgPSByZXF1aXJlKFwid2ViMy1lcnJvcnNcIik7XG5jb25zdCB3ZWIzX2V0aF8xID0gcmVxdWlyZShcIndlYjMtZXRoXCIpO1xuY29uc3Qgd2ViM19ldGhfYWJpXzEgPSByZXF1aXJlKFwid2ViMy1ldGgtYWJpXCIpO1xuY29uc3Qgd2ViM190eXBlc18xID0gcmVxdWlyZShcIndlYjMtdHlwZXNcIik7XG5jb25zdCB3ZWIzX3V0aWxzXzEgPSByZXF1aXJlKFwid2ViMy11dGlsc1wiKTtcbmNvbnN0IHdlYjNfdmFsaWRhdG9yXzEgPSByZXF1aXJlKFwid2ViMy12YWxpZGF0b3JcIik7XG5jb25zdCBlbmNvZGluZ19qc18xID0gcmVxdWlyZShcIi4vZW5jb2RpbmcuanNcIik7XG5jb25zdCBsb2dfc3Vic2NyaXB0aW9uX2pzXzEgPSByZXF1aXJlKFwiLi9sb2dfc3Vic2NyaXB0aW9uLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY29uc3QgY29udHJhY3RTdWJzY3JpcHRpb25zID0ge1xuICAgIGxvZ3M6IGxvZ19zdWJzY3JpcHRpb25fanNfMS5Mb2dzU3Vic2NyaXB0aW9uLFxuICAgIG5ld0hlYWRzOiB3ZWIzX2V0aF8xLk5ld0hlYWRzU3Vic2NyaXB0aW9uLFxuICAgIG5ld0Jsb2NrSGVhZGVyczogd2ViM19ldGhfMS5OZXdIZWFkc1N1YnNjcmlwdGlvbixcbn07XG4vKipcbiAqIFRoZSBgd2ViMy5ldGguQ29udHJhY3RgIG1ha2VzIGl0IGVhc3kgdG8gaW50ZXJhY3Qgd2l0aCBzbWFydCBjb250cmFjdHMgb24gdGhlIGV0aGVyZXVtIGJsb2NrY2hhaW4uXG4gKiBGb3IgdXNpbmcgY29udHJhY3QgcGFja2FnZSwgZmlyc3QgaW5zdGFsbCBXZWIzIHBhY2thZ2UgdXNpbmc6IGBucG0gaSB3ZWIzYCBvciBgeWFybiBhZGQgd2ViM2AgYmFzZWQgb24geW91ciBwYWNrYWdlIG1hbmFnZXIsIGFmdGVyIHRoYXQgY29udHJhY3RzIGZlYXR1cmVzIGNhbiBiZSB1c2VkIGFzIG1lbnRpb25lZCBpbiBmb2xsb3dpbmcgc25pcHBldC5cbiAqIGBgYHRzXG4gKlxuICogaW1wb3J0IHsgV2ViMyB9IGZyb20gJ3dlYjMnO1xuICpcbiAqIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygnaHR0cHM6Ly8xMjcuMC4wLjE6NDU0NScpO1xuICogY29uc3QgYWJpID0gWy4uLl0gYXMgY29uc3Q7IC8vIHlvdXIgY29udHJhY3QgQUJJXG4gKlxuICogbGV0IGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGFiaSwnMHhkQUMxN0Y5NThEMmVlNTIzYTIyMDYyMDY5OTQ1OTdDMTNEODMxZWM3Jyk7XG4gKiBhd2FpdCBjb250cmFjdC5tZXRob2RzLmJhbGFuY2VPZignMHhkQUMxN0Y5NThEMmVlNTIzYTIyMDYyMDY5OTQ1OTdDMTNEODMxZWM3JykuY2FsbCgpO1xuICogYGBgXG4gKiBGb3IgdXNpbmcgaW5kaXZpZHVhbCBwYWNrYWdlIGluc3RhbGwgYHdlYjMtZXRoLWNvbnRyYWN0YCBhbmQgYHdlYjMtY29yZWAgcGFja2FnZXMgdXNpbmc6IGBucG0gaSB3ZWIzLWV0aC1jb250cmFjdCB3ZWIzLWNvcmVgIG9yIGB5YXJuIGFkZCB3ZWIzLWV0aC1jb250cmFjdCB3ZWIzLWNvcmVgLiBUaGlzIGlzIG1vcmUgZWZmaWNpZW50IGFwcHJvYWNoIGZvciBidWlsZGluZyBsaWdodHdlaWdodCBhcHBsaWNhdGlvbnMuXG4gKiBgYGB0c1xuICpcbiAqIGltcG9ydCB7IFdlYjNDb250ZXh0IH0gZnJvbSAnd2ViMy1jb3JlJztcbiAqIGltcG9ydCB7IENvbnRyYWN0IH0gZnJvbSAnd2ViMy1ldGgtY29udHJhY3QnO1xuICpcbiAqIGNvbnN0IGFiaSA9IFsuLi5dIGFzIGNvbnN0OyAvLyB5b3VyIGNvbnRyYWN0IEFCSVxuICpcbiAqIGxldCBjb250cmFjdCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdChcbiAqIFx0YWJpLFxuICogXHQnMHhkQUMxN0Y5NThEMmVlNTIzYTIyMDYyMDY5OTQ1OTdDMTNEODMxZWM3J1xuICogXHQgbmV3IFdlYjNDb250ZXh0KCdodHRwOi8vMTI3LjAuMC4xOjg1NDUnKSk7XG4gKlxuICogYXdhaXQgY29udHJhY3QubWV0aG9kcy5iYWxhbmNlT2YoJzB4ZEFDMTdGOTU4RDJlZTUyM2EyMjA2MjA2OTk0NTk3QzEzRDgzMWVjNycpLmNhbGwoKTtcbiAqIGBgYFxuICogIyMgR2VuZXJhdGVkIE1ldGhvZHNcbiAqIEZvbGxvd2luZyBtZXRob2RzIGFyZSBnZW5lcmF0ZWQgYnkgd2ViMy5qcyBjb250cmFjdCBvYmplY3QgZm9yIGVhY2ggb2YgY29udHJhY3QgZnVuY3Rpb25zIGJ5IHVzaW5nIGl0cyBBQkkuXG4gKlxuICogIyMjIHNlbmRcbiAqIFRoaXMgaXMgdXNlZCB0byBzZW5kIGEgdHJhbnNhY3Rpb24gdG8gdGhlIHNtYXJ0IGNvbnRyYWN0IGFuZCBleGVjdXRlIGl0cyBtZXRob2QuIE5vdGUgdGhpcyBjYW4gYWx0ZXIgdGhlIHNtYXJ0IGNvbnRyYWN0IHN0YXRlLlxuICpcbiAqICMjIyMgUGFyYW1ldGVyc1xuICogb3B0aW9ucz86IFBheWFibGVUeE9wdGlvbnMgfCBOb25QYXlhYmxlVHhPcHRpb25zXG4gKlxuICogIyMjIyBSZXR1cm5zXG4gKiBbV2ViM1Byb21pRXZlbnRdKC9hcGkvd2ViMy9uYW1lc3BhY2UvY29yZSNXZWIzUHJvbWlFdmVudCkgOiBXZWIzIFByb21pIEV2ZW50XG4gKlxuICogYGBgdHNcbiAqIC8vIHVzaW5nIHRoZSBwcm9taXNlXG4gKiBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoMTIzKS5zZW5kKHtmcm9tOiAnMHhkZTBCMjk1NjY5YTlGRDkzZDVGMjhEOUVjODVFNDBmNGNiNjk3QkFlJ30pXG4gKiBcdC50aGVuKGZ1bmN0aW9uKHJlY2VpcHQpe1xuICogXHRcdC8vIG90aGVyIHBhcnRzIG9mIGNvZGUgdG8gdXNlIHJlY2VpcHRcbiAqIFx0fSk7XG4gKlxuICpcbiAqIC8vIHVzaW5nIHRoZSBldmVudCBlbWl0dGVyXG4gKiBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoMTIzKS5zZW5kKHtmcm9tOiAnMHhkZTBCMjk1NjY5YTlGRDkzZDVGMjhEOUVjODVFNDBmNGNiNjk3QkFlJ30pXG4gKiBcdC5vbigndHJhbnNhY3Rpb25IYXNoJywgZnVuY3Rpb24oaGFzaCl7XG4gKiBcdFx0Ly8gLi4uXG4gKiBcdH0pXG4gKiBcdC5vbignY29uZmlybWF0aW9uJywgZnVuY3Rpb24oY29uZmlybWF0aW9uTnVtYmVyLCByZWNlaXB0KXtcbiAqIFx0XHQvLyAuLi5cbiAqIFx0fSlcbiAqIFx0Lm9uKCdyZWNlaXB0JywgZnVuY3Rpb24ocmVjZWlwdCl7XG4gKiBcdFx0Ly8gLi4uXG4gKiBcdH0pXG4gKiBcdC5vbignZXJyb3InLCBmdW5jdGlvbihlcnJvciwgcmVjZWlwdCkge1xuICogXHRcdC8vIC4uLlxuICogXHR9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiAjIyMgY2FsbFxuICogVGhpcyB3aWxsIGV4ZWN1dGUgc21hcnQgY29udHJhY3QgbWV0aG9kIGluIHRoZSBFVk0gd2l0aG91dCBzZW5kaW5nIGFueSB0cmFuc2FjdGlvbi4gTm90ZSBjYWxsaW5nIGNhbm5vdCBhbHRlciB0aGUgc21hcnQgY29udHJhY3Qgc3RhdGUuXG4gKlxuICogIyMjIyBQYXJhbWV0ZXJzXG4gKiBvcHRpb25zPzogUGF5YWJsZUNhbGxPcHRpb25zIHwgTm9uUGF5YWJsZUNhbGxPcHRpb25zLFxuICogYmxvY2s/OiBCbG9ja051bWJlck9yVGFnLFxuICpcbiAqICMjIyMgUmV0dXJuc1xuICogUHJvbWlzZSA6IGhhdmluZyByZXN1bHRzIG9mIGNhbGxcbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCBteUNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGFiaSwgYWRkcmVzcyk7XG4gKlxuICogbXlDb250cmFjdC5tZXRob2RzLm15RnVuY3Rpb24oKS5jYWxsKClcbiAqIC50aGVuKGNvbnNvbGUubG9nKTtcbiAqXG4gKiBgYGBcbiAqICMjIyBlc3RpbWF0ZUdhc1xuICogUmV0dXJucyB0aGUgYW1vdW50IG9mIGdhcyBjb25zdW1lZCBieSBleGVjdXRpbmcgdGhlIG1ldGhvZCBpbiBFVk0gd2l0aG91dCBjcmVhdGluZyBhIG5ldyB0cmFuc2FjdGlvbiBvbiB0aGUgYmxvY2tjaGFpbi4gVGhlIHJldHVybmVkIGFtb3VudCBjYW4gYmUgdXNlZCBhcyBhIGdhcyBlc3RpbWF0ZSBmb3IgZXhlY3V0aW5nIHRoZSB0cmFuc2FjdGlvbiBwdWJsaWNseS4gVGhlIGFjdHVhbCBnYXMgdXNlZCBjYW4gYmUgZGlmZmVyZW50IHdoZW4gc2VuZGluZyB0aGUgdHJhbnNhY3Rpb24gbGF0ZXIsIGFzIHRoZSBzdGF0ZSBvZiB0aGUgc21hcnQgY29udHJhY3QgY2FuIGJlIGRpZmZlcmVudCBhdCB0aGF0IHRpbWUuXG4gKlxuICogIyMjIyBQYXJhbWV0ZXJzXG4gKiBvcHRpb25zPzogUGF5YWJsZUNhbGxPcHRpb25zLFxuICogcmV0dXJuRm9ybWF0OiBSZXR1cm5Gb3JtYXQgPSBERUZBVUxUX1JFVFVSTl9GT1JNQVQgYXMgUmV0dXJuRm9ybWF0LFxuICpcbiAqICMjIyMgUmV0dXJuc1xuICogUHJvbWlzZTogVGhlIGdhcyBhbW91bnQgZXN0aW1hdGVkLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBlc3RpbWF0ZWRHYXMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmFwcHJvdmUoJzB4ZEFDMTdGOTU4RDJlZTUyM2EyMjA2MjA2OTk0NTk3QzEzRDgzMWVjNycsIDMwMClcbiAqICAgICAuZXN0aW1hdGVHYXMoKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiAjIyMgZW5jb2RlQUJJXG4gKiBFbmNvZGVzIHRoZSBBQkkgZm9yIHRoaXMgbWV0aG9kLiBUaGUgcmVzdWx0aW5nIGhleCBzdHJpbmcgaXMgMzItYml0IGZ1bmN0aW9uIHNpZ25hdHVyZSBoYXNoIHBsdXMgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGluIFNvbGlkaXR5IHRpZ2h0bHkgcGFja2VkIGZvcm1hdC4gVGhpcyBjYW4gYmUgdXNlZCB0byBzZW5kIGEgdHJhbnNhY3Rpb24sIGNhbGwgYSBtZXRob2QsIG9yIHBhc3MgaXQgaW50byBhbm90aGVyIHNtYXJ0IGNvbnRyYWN04oCZcyBtZXRob2QgYXMgYXJndW1lbnRzLiBTZXQgdGhlIGRhdGEgZmllbGQgb24gd2ViMy5ldGguc2VuZFRyYW5zYWN0aW9uIG9wdGlvbnMgYXMgdGhlIGVuY29kZUFCSSgpIHJlc3VsdCBhbmQgaXQgaXMgdGhlIHNhbWUgYXMgY2FsbGluZyB0aGUgY29udHJhY3QgbWV0aG9kIHdpdGggY29udHJhY3QubXlNZXRob2Quc2VuZCgpLlxuICpcbiAqIFNvbWUgdXNlIGNhc2VzIGZvciBlbmNvZGVBQkkoKSBpbmNsdWRlOiBwcmVwYXJpbmcgYSBzbWFydCBjb250cmFjdCB0cmFuc2FjdGlvbiBmb3IgYSBtdWx0aXNpZ25hdHVyZSB3YWxsZXQsIHdvcmtpbmcgd2l0aCBvZmZsaW5lIHdhbGxldHMgYW5kIGNvbGQgc3RvcmFnZSBhbmQgY3JlYXRpbmcgdHJhbnNhY3Rpb24gcGF5bG9hZCBmb3IgY29tcGxleCBzbWFydCBjb250cmFjdCBwcm94eSBjYWxscy5cbiAqXG4gKiAjIyMjIFBhcmFtZXRlcnNcbiAqIE5vbmVcbiAqXG4gKiAjIyMjIFJldHVybnNcbiAqIFN0cmluZzogVGhlIGVuY29kZWQgQUJJLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBlbmNvZGVkQUJJID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5hcHByb3ZlKCcweGRBQzE3Rjk1OEQyZWU1MjNhMjIwNjIwNjk5NDU5N0MxM0Q4MzFlYzcnLCAzMDApXG4gKiAgICAgLmVuY29kZUFCSSgpO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyBjcmVhdGVBY2Nlc3NMaXN0XG4gKiBUaGlzIHdpbGwgY3JlYXRlIGFuIGFjY2VzcyBsaXN0IGEgbWV0aG9kIGV4ZWN1dGlvbiB3aWxsIGFjY2VzcyB3aGVuIGV4ZWN1dGVkIGluIHRoZSBFVk0uXG4gKiBOb3RlOiBZb3UgbXVzdCBzcGVjaWZ5IGEgZnJvbSBhZGRyZXNzIGFuZCBnYXMgaWYgaXTigJlzIG5vdCBzcGVjaWZpZWQgaW4gb3B0aW9ucyB3aGVuIGluc3RhbnRpYXRpbmcgcGFyZW50IGNvbnRyYWN0IG9iamVjdC5cbiAqXG4gKiAjIyMjIFBhcmFtZXRlcnNcbiAqIG9wdGlvbnM/OiBQYXlhYmxlQ2FsbE9wdGlvbnMgfCBOb25QYXlhYmxlQ2FsbE9wdGlvbnMsXG4gKiBibG9jaz86IEJsb2NrTnVtYmVyT3JUYWcsXG4gKlxuICogIyMjIyBSZXR1cm5zXG4gKiBQcm9taXNlOiBUaGUgZ2VuZXJhdGVkIGFjY2VzcyBsaXN0IGZvciB0cmFuc2FjdGlvbi5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYWNjZXNzTGlzdCA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMuYXBwcm92ZSgnMHhiRWU2MzRDMjFjMTZGMDVCMDNCNzA0QmFFMDcxNTM2MTIxZTZjRmVBJywgMzAwKVxuICogICAgIC5jcmVhdGVBY2Nlc3NMaXN0KHtcbiAqICAgICAgICAgZnJvbTogXCIweDk5OTI2OTVlMTA1M2JiNzM3ZDNjZmFlNDc0M2RjZmM0Yjk0ZjIwM2RcIlxuICogICAgfSk7XG4gKiBgYGBcbiAqXG4gKi9cbmNsYXNzIENvbnRyYWN0IGV4dGVuZHMgd2ViM19jb3JlXzEuV2ViM0NvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKGpzb25JbnRlcmZhY2UsIGFkZHJlc3NPck9wdGlvbnNPckNvbnRleHQsIG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdCwgY29udGV4dE9yUmV0dXJuRm9ybWF0LCByZXR1cm5Gb3JtYXQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICBjb25zdCBvcHRpb25zID0gKDAsIHdlYjNfdXRpbHNfMS5pc0NvbnRyYWN0SW5pdE9wdGlvbnMpKGFkZHJlc3NPck9wdGlvbnNPckNvbnRleHQpXG4gICAgICAgICAgICA/IGFkZHJlc3NPck9wdGlvbnNPckNvbnRleHRcbiAgICAgICAgICAgIDogKDAsIHdlYjNfdXRpbHNfMS5pc0NvbnRyYWN0SW5pdE9wdGlvbnMpKG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdClcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgY29udHJhY3RDb250ZXh0O1xuICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNXZWIzQ29udHJhY3RDb250ZXh0KShhZGRyZXNzT3JPcHRpb25zT3JDb250ZXh0KSkge1xuICAgICAgICAgICAgY29udHJhY3RDb250ZXh0ID0gYWRkcmVzc09yT3B0aW9uc09yQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgdXRpbHNfanNfMS5pc1dlYjNDb250cmFjdENvbnRleHQpKG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdCkpIHtcbiAgICAgICAgICAgIGNvbnRyYWN0Q29udGV4dCA9IG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyYWN0Q29udGV4dCA9IGNvbnRleHRPclJldHVybkZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJvdmlkZXI7XG4gICAgICAgIGlmICh0eXBlb2YgYWRkcmVzc09yT3B0aW9uc09yQ29udGV4dCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICdwcm92aWRlcicgaW4gYWRkcmVzc09yT3B0aW9uc09yQ29udGV4dCkge1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBhZGRyZXNzT3JPcHRpb25zT3JDb250ZXh0LnByb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zT3JDb250ZXh0T3JSZXR1cm5Gb3JtYXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAncHJvdmlkZXInIGluIG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdCkge1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBvcHRpb25zT3JDb250ZXh0T3JSZXR1cm5Gb3JtYXQucHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnRleHRPclJldHVybkZvcm1hdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICdwcm92aWRlcicgaW4gY29udGV4dE9yUmV0dXJuRm9ybWF0KSB7XG4gICAgICAgICAgICBwcm92aWRlciA9IGNvbnRleHRPclJldHVybkZvcm1hdC5wcm92aWRlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb3ZpZGVyID0gQ29udHJhY3QuZ2l2ZW5Qcm92aWRlcjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRyYWN0Q29udGV4dCksIHsgcHJvdmlkZXIsIHJlZ2lzdGVyZWRTdWJzY3JpcHRpb25zOiBjb250cmFjdFN1YnNjcmlwdGlvbnMgfSkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgY29udHJhY3RzJyBkZWZhdWx0cyB0byBzeW5jIHdpdGggZ2xvYmFsIGRlZmF1bHRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zeW5jV2l0aENvbnRleHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZnVuY3Rpb25zID0ge307XG4gICAgICAgIC8vIEluaXQgcHJvdGVjdGVkIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKGNvbnRyYWN0Q29udGV4dCA9PT0gbnVsbCB8fCBjb250cmFjdENvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRyYWN0Q29udGV4dC53YWxsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3dhbGxldCA9IGNvbnRyYWN0Q29udGV4dC53YWxsZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyYWN0Q29udGV4dCA9PT0gbnVsbCB8fCBjb250cmFjdENvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRyYWN0Q29udGV4dC5hY2NvdW50UHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjY291bnRQcm92aWRlciA9IGNvbnRyYWN0Q29udGV4dC5hY2NvdW50UHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoMCwgd2ViM192YWxpZGF0b3JfMS5pc051bGxpc2gpKG9wdGlvbnMpICYmXG4gICAgICAgICAgICAhKDAsIHdlYjNfdmFsaWRhdG9yXzEuaXNOdWxsaXNoKShvcHRpb25zLmRhdGEpICYmXG4gICAgICAgICAgICAhKDAsIHdlYjNfdmFsaWRhdG9yXzEuaXNOdWxsaXNoKShvcHRpb25zLmlucHV0KSAmJlxuICAgICAgICAgICAgdGhpcy5jb25maWcuY29udHJhY3REYXRhSW5wdXRGaWxsICE9PSAnYm90aCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5Db250cmFjdFRyYW5zYWN0aW9uRGF0YUFuZElucHV0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGlvbnMuZGF0YSxcbiAgICAgICAgICAgICAgICBpbnB1dDogb3B0aW9ucy5pbnB1dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9vdmVybG9hZGVkTWV0aG9kQWJpcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgIGNvbnN0IHJldHVybkRhdGFGb3JtYXQgPSAoMCwgd2ViM191dGlsc18xLmlzRGF0YUZvcm1hdCkoY29udGV4dE9yUmV0dXJuRm9ybWF0KVxuICAgICAgICAgICAgPyBjb250ZXh0T3JSZXR1cm5Gb3JtYXRcbiAgICAgICAgICAgIDogKDAsIHdlYjNfdXRpbHNfMS5pc0RhdGFGb3JtYXQpKG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdClcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnNPckNvbnRleHRPclJldHVybkZvcm1hdFxuICAgICAgICAgICAgICAgIDogcmV0dXJuRm9ybWF0ICE9PSBudWxsICYmIHJldHVybkZvcm1hdCAhPT0gdm9pZCAwID8gcmV0dXJuRm9ybWF0IDogd2ViM190eXBlc18xLkRFRkFVTFRfUkVUVVJOX0ZPUk1BVDtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHR5cGVvZiBhZGRyZXNzT3JPcHRpb25zT3JDb250ZXh0ID09PSAnc3RyaW5nJyA/IGFkZHJlc3NPck9wdGlvbnNPckNvbnRleHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbnRyYWN0RGF0YUlucHV0RmlsbCA9XG4gICAgICAgICAgICAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YUlucHV0RmlsbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5jb25maWcuY29udHJhY3REYXRhSW5wdXRGaWxsO1xuICAgICAgICB0aGlzLl9wYXJzZUFuZFNldEpzb25JbnRlcmZhY2UoanNvbkludGVyZmFjZSwgcmV0dXJuRGF0YUZvcm1hdCk7XG4gICAgICAgIGlmICghKDAsIHdlYjNfdmFsaWRhdG9yXzEuaXNOdWxsaXNoKShhZGRyZXNzKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VBbmRTZXRBZGRyZXNzKGFkZHJlc3MsIHJldHVybkRhdGFGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBqc29uSW50ZXJmYWNlOiB0aGlzLl9qc29uSW50ZXJmYWNlLFxuICAgICAgICAgICAgZ2FzOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2FzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2FzTGltaXQsXG4gICAgICAgICAgICBnYXNQcmljZTogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmdhc1ByaWNlLFxuICAgICAgICAgICAgZnJvbTogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZyb20sXG4gICAgICAgICAgICBpbnB1dDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlucHV0LFxuICAgICAgICAgICAgZGF0YTogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3luY1dpdGhDb250ZXh0ID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnN5bmNXaXRoQ29udGV4dCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZmFsc2U7XG4gICAgICAgIGlmIChjb250cmFjdENvbnRleHQgaW5zdGFuY2VvZiB3ZWIzX2NvcmVfMS5XZWIzQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVUb0NvbnRleHRFdmVudHMoY29udHJhY3RDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vcHRpb25zLCAnYWRkcmVzcycsIHtcbiAgICAgICAgICAgIHNldDogKHZhbHVlKSA9PiB0aGlzLl9wYXJzZUFuZFNldEFkZHJlc3ModmFsdWUsIHJldHVybkRhdGFGb3JtYXQpLFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLl9hZGRyZXNzLFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucywgJ2pzb25JbnRlcmZhY2UnLCB7XG4gICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4gdGhpcy5fcGFyc2VBbmRTZXRKc29uSW50ZXJmYWNlKHZhbHVlLCByZXR1cm5EYXRhRm9ybWF0KSxcbiAgICAgICAgICAgIGdldDogKCkgPT4gdGhpcy5fanNvbkludGVyZmFjZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb250cmFjdENvbnRleHQgaW5zdGFuY2VvZiB3ZWIzX2NvcmVfMS5XZWIzQ29udGV4dCkge1xuICAgICAgICAgICAgY29udHJhY3RDb250ZXh0Lm9uKHdlYjNfY29yZV8xLldlYjNDb25maWdFdmVudC5DT05GSUdfQ0hBTkdFLCBldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29uZmlnKHsgW2V2ZW50Lm5hbWVdOiBldmVudC5uZXdWYWx1ZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogYXdhaXQgbXlDb250cmFjdC5ldmVudHMuTXlFdmVudChbb3B0aW9uc10pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgYGFsbEV2ZW50c2AgdGhhdCBjYW4gYmUgdXNlZCB0byBzdWJzY3JpYmUgYWxsIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogYXdhaXQgbXlDb250cmFjdC5ldmVudHMuYWxsRXZlbnRzKFtvcHRpb25zXSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gV2hlbiBpbmRpdmlkdWFsIGV2ZW50IGlzIGFjY2Vzc2VkIHdpbGwgcmV0dXJucyB7QGxpbmsgQ29udHJhY3RCb3VuZEV2ZW50fSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXQgZXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdHJhbnNhY3Rpb24gb2JqZWN0IGZvciB0aGF0IG1ldGhvZCwgd2hpY2ggdGhlbiBjYW4gYmUgYGNhbGxlZGAsIGBzZW5kYCwgYGVzdGltYXRlZGAsIGBjcmVhdGVBY2Nlc3NMaXN0YCAsIG9yIGBBQkkgZW5jb2RlZGAuXG4gICAgICpcbiAgICAgKiBUaGUgbWV0aG9kcyBvZiB0aGlzIHNtYXJ0IGNvbnRyYWN0IGFyZSBhdmFpbGFibGUgdGhyb3VnaDpcbiAgICAgKlxuICAgICAqIFRoZSBuYW1lOiBgbXlDb250cmFjdC5tZXRob2RzLm15TWV0aG9kKDEyMylgXG4gICAgICogVGhlIG5hbWUgd2l0aCBwYXJhbWV0ZXJzOiBgbXlDb250cmFjdC5tZXRob2RzWydteU1ldGhvZCh1aW50MjU2KSddKDEyMylgXG4gICAgICogVGhlIHNpZ25hdHVyZSBgbXlDb250cmFjdC5tZXRob2RzWycweDU4Y2Y1ZjEwJ10oMTIzKWBcbiAgICAgKlxuICAgICAqIFRoaXMgYWxsb3dzIGNhbGxpbmcgZnVuY3Rpb25zIHdpdGggc2FtZSBuYW1lIGJ1dCBkaWZmZXJlbnQgcGFyYW1ldGVycyBmcm9tIHRoZSBKYXZhU2NyaXB0IGNvbnRyYWN0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIFxcPiBUaGUgbWV0aG9kIHNpZ25hdHVyZSBkb2VzIG5vdCBwcm92aWRlIGEgdHlwZSBzYWZlIGludGVyZmFjZSwgc28gd2UgcmVjb21tZW5kIHRvIHVzZSBtZXRob2QgYG5hbWVgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIC8vIGNhbGxpbmcgYSBtZXRob2RcbiAgICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBteUNvbnRyYWN0Lm1ldGhvZHMubXlNZXRob2QoMTIzKS5jYWxsKHtmcm9tOiAnMHhkZTBCMjk1NjY5YTlGRDkzZDVGMjhEOUVjODVFNDBmNGNiNjk3QkFlJ30pO1xuICAgICAqXG4gICAgICogLy8gb3Igc2VuZGluZyBhbmQgdXNpbmcgYSBwcm9taXNlXG4gICAgICogY29uc3QgcmVjZWlwdCA9IGF3YWl0IG15Q29udHJhY3QubWV0aG9kcy5teU1ldGhvZCgxMjMpLnNlbmQoe2Zyb206ICcweGRlMEIyOTU2NjlhOUZEOTNkNUYyOEQ5RWM4NUU0MGY0Y2I2OTdCQWUnfSk7XG4gICAgICpcbiAgICAgKiAvLyBvciBzZW5kaW5nIGFuZCB1c2luZyB0aGUgZXZlbnRzXG4gICAgICogY29uc3Qgc2VuZE9iamVjdCA9IG15Q29udHJhY3QubWV0aG9kcy5teU1ldGhvZCgxMjMpLnNlbmQoe2Zyb206ICcweGRlMEIyOTU2NjlhOUZEOTNkNUYyOEQ5RWM4NUU0MGY0Y2I2OTdCQWUnfSk7XG4gICAgICogc2VuZE9iamVjdC5vbigndHJhbnNhY3Rpb25IYXNoJywgZnVuY3Rpb24oaGFzaCl7XG4gICAgICogICAuLi5cbiAgICAgKiB9KTtcbiAgICAgKiBzZW5kT2JqZWN0Lm9uKCdyZWNlaXB0JywgZnVuY3Rpb24ocmVjZWlwdCl7XG4gICAgICogICAuLi5cbiAgICAgKiB9KTtcbiAgICAgKiBzZW5kT2JqZWN0Lm9uKCdjb25maXJtYXRpb24nLCBmdW5jdGlvbihjb25maXJtYXRpb25OdW1iZXIsIHJlY2VpcHQpe1xuICAgICAqICAgLi4uXG4gICAgICogfSk7XG4gICAgICogc2VuZE9iamVjdC5vbignZXJyb3InLCBmdW5jdGlvbihlcnJvciwgcmVjZWlwdCkge1xuICAgICAqICAgLi4uXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIEVpdGhlciByZXR1cm5zIHtAbGluayBQYXlhYmxlTWV0aG9kT2JqZWN0fSBvciB7QGxpbmsgTm9uUGF5YWJsZU1ldGhvZE9iamVjdH0gYmFzZWQgb24gdGhlIGRlZmluaXRpb25zIG9mIHRoZSBBQkkgb2YgdGhhdCBjb250cmFjdC5cbiAgICAgKi9cbiAgICBnZXQgbWV0aG9kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGhvZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgY3VycmVudCBjb250cmFjdCBpbnN0YW5jZS4gVGhpcyBkb2Vzbid0IGRlcGxveSBjb250cmFjdCBvbiBibG9ja2NoYWluIGFuZCBvbmx5IGNyZWF0ZXMgYSBsb2NhbCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gVGhlIG5ldyBjb250cmFjdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgY29udHJhY3QxID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGFiaSwgYWRkcmVzcywge2dhc1ByaWNlOiAnMTIzNDU2NzgnLCBmcm9tOiBmcm9tQWRkcmVzc30pO1xuICAgICAqXG4gICAgICogY29uc3QgY29udHJhY3QyID0gY29udHJhY3QxLmNsb25lKCk7XG4gICAgICogY29udHJhY3QyLm9wdGlvbnMuYWRkcmVzcyA9ICcweGRBQzE3Rjk1OEQyZWU1MjNhMjIwNjIwNjk5NDU5N0MxM0Q4MzFlYzcnO1xuICAgICAqXG4gICAgICogKGNvbnRyYWN0MS5vcHRpb25zLmFkZHJlc3MgIT09IGNvbnRyYWN0Mi5vcHRpb25zLmFkZHJlc3MpO1xuICAgICAqID4gdHJ1ZVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgbmV3Q29udHJhY3Q7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWRkcmVzcykge1xuICAgICAgICAgICAgbmV3Q29udHJhY3QgPSBuZXcgQ29udHJhY3QoWy4uLnRoaXMuX2pzb25JbnRlcmZhY2UsIC4uLnRoaXMuX2Vycm9yc0ludGVyZmFjZV0sIHRoaXMub3B0aW9ucy5hZGRyZXNzLCB7XG4gICAgICAgICAgICAgICAgZ2FzOiB0aGlzLm9wdGlvbnMuZ2FzLFxuICAgICAgICAgICAgICAgIGdhc1ByaWNlOiB0aGlzLm9wdGlvbnMuZ2FzUHJpY2UsXG4gICAgICAgICAgICAgICAgZnJvbTogdGhpcy5vcHRpb25zLmZyb20sXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRoaXMub3B0aW9ucy5pbnB1dCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLm9wdGlvbnMuZGF0YSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5jdXJyZW50UHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgc3luY1dpdGhDb250ZXh0OiB0aGlzLnN5bmNXaXRoQ29udGV4dCxcbiAgICAgICAgICAgICAgICBkYXRhSW5wdXRGaWxsOiB0aGlzLmNvbmZpZy5jb250cmFjdERhdGFJbnB1dEZpbGwsXG4gICAgICAgICAgICB9LCB0aGlzLmdldENvbnRleHRPYmplY3QoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdDb250cmFjdCA9IG5ldyBDb250cmFjdChbLi4udGhpcy5fanNvbkludGVyZmFjZSwgLi4udGhpcy5fZXJyb3JzSW50ZXJmYWNlXSwge1xuICAgICAgICAgICAgICAgIGdhczogdGhpcy5vcHRpb25zLmdhcyxcbiAgICAgICAgICAgICAgICBnYXNQcmljZTogdGhpcy5vcHRpb25zLmdhc1ByaWNlLFxuICAgICAgICAgICAgICAgIGZyb206IHRoaXMub3B0aW9ucy5mcm9tLFxuICAgICAgICAgICAgICAgIGlucHV0OiB0aGlzLm9wdGlvbnMuaW5wdXQsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5vcHRpb25zLmRhdGEsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMuY3VycmVudFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHN5bmNXaXRoQ29udGV4dDogdGhpcy5zeW5jV2l0aENvbnRleHQsXG4gICAgICAgICAgICAgICAgZGF0YUlucHV0RmlsbDogdGhpcy5jb25maWcuY29udHJhY3REYXRhSW5wdXRGaWxsLFxuICAgICAgICAgICAgfSwgdGhpcy5nZXRDb250ZXh0T2JqZWN0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpXG4gICAgICAgICAgICBuZXdDb250cmFjdC5zdWJzY3JpYmVUb0NvbnRleHRFdmVudHModGhpcy5jb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRyYWN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gZGVwbG95IHRoZSBjb250cmFjdCB0byB0aGUgYmxvY2tjaGFpbi4gQWZ0ZXIgc3VjY2Vzc2Z1bCBkZXBsb3ltZW50IHRoZSBwcm9taXNlIHdpbGwgcmVzb2x2ZSB3aXRoIGEgbmV3IGNvbnRyYWN0IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBteUNvbnRyYWN0LmRlcGxveSh7XG4gICAgICogICBpbnB1dDogJzB4MTIzNDUuLi4nLCAvLyBkYXRhIGtleXdvcmQgY2FuIGJlIHVzZWQsIHRvby5cbiAgICAgKiAgIGFyZ3VtZW50czogWzEyMywgJ015IFN0cmluZyddXG4gICAgICogfSlcbiAgICAgKiAuc2VuZCh7XG4gICAgICogICBmcm9tOiAnMHgxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkxJyxcbiAgICAgKiAgIGdhczogMTUwMDAwMCxcbiAgICAgKiAgIGdhc1ByaWNlOiAnMzAwMDAwMDAwMDAwMDAnXG4gICAgICogfSwgZnVuY3Rpb24oZXJyb3IsIHRyYW5zYWN0aW9uSGFzaCl7IC4uLiB9KVxuICAgICAqIC5vbignZXJyb3InLCBmdW5jdGlvbihlcnJvcil7IC4uLiB9KVxuICAgICAqIC5vbigndHJhbnNhY3Rpb25IYXNoJywgZnVuY3Rpb24odHJhbnNhY3Rpb25IYXNoKXsgLi4uIH0pXG4gICAgICogLm9uKCdyZWNlaXB0JywgZnVuY3Rpb24ocmVjZWlwdCl7XG4gICAgICogIGNvbnNvbGUubG9nKHJlY2VpcHQuY29udHJhY3RBZGRyZXNzKSAvLyBjb250YWlucyB0aGUgbmV3IGNvbnRyYWN0IGFkZHJlc3NcbiAgICAgKiB9KVxuICAgICAqIC5vbignY29uZmlybWF0aW9uJywgZnVuY3Rpb24oY29uZmlybWF0aW9uTnVtYmVyLCByZWNlaXB0KXsgLi4uIH0pXG4gICAgICogLnRoZW4oZnVuY3Rpb24obmV3Q29udHJhY3RJbnN0YW5jZSl7XG4gICAgICogICBjb25zb2xlLmxvZyhuZXdDb250cmFjdEluc3RhbmNlLm9wdGlvbnMuYWRkcmVzcykgLy8gaW5zdGFuY2Ugd2l0aCB0aGUgbmV3IGNvbnRyYWN0IGFkZHJlc3NcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqXG4gICAgICogLy8gV2hlbiB0aGUgZGF0YSBpcyBhbHJlYWR5IHNldCBhcyBhbiBvcHRpb24gdG8gdGhlIGNvbnRyYWN0IGl0c2VsZlxuICAgICAqIG15Q29udHJhY3Qub3B0aW9ucy5kYXRhID0gJzB4MTIzNDUuLi4nO1xuICAgICAqXG4gICAgICogbXlDb250cmFjdC5kZXBsb3koe1xuICAgICAqICAgYXJndW1lbnRzOiBbMTIzLCAnTXkgU3RyaW5nJ11cbiAgICAgKiB9KVxuICAgICAqIC5zZW5kKHtcbiAgICAgKiAgIGZyb206ICcweDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTEnLFxuICAgICAqICAgZ2FzOiAxNTAwMDAwLFxuICAgICAqICAgZ2FzUHJpY2U6ICczMDAwMDAwMDAwMDAwMCdcbiAgICAgKiB9KVxuICAgICAqIC50aGVuKGZ1bmN0aW9uKG5ld0NvbnRyYWN0SW5zdGFuY2Upe1xuICAgICAqICAgY29uc29sZS5sb2cobmV3Q29udHJhY3RJbnN0YW5jZS5vcHRpb25zLmFkZHJlc3MpIC8vIGluc3RhbmNlIHdpdGggdGhlIG5ldyBjb250cmFjdCBhZGRyZXNzXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKlxuICAgICAqIC8vIFNpbXBseSBlbmNvZGluZ1xuICAgICAqIG15Q29udHJhY3QuZGVwbG95KHtcbiAgICAgKiAgIGlucHV0OiAnMHgxMjM0NS4uLicsXG4gICAgICogICBhcmd1bWVudHM6IFsxMjMsICdNeSBTdHJpbmcnXVxuICAgICAqIH0pXG4gICAgICogLmVuY29kZUFCSSgpO1xuICAgICAqID4gJzB4MTIzNDUuLi4wMDAwMDEyMzQ1Njc4NzY1NDMyJ1xuICAgICAqXG4gICAgICpcbiAgICAgKiAvLyBHYXMgZXN0aW1hdGlvblxuICAgICAqIG15Q29udHJhY3QuZGVwbG95KHtcbiAgICAgKiAgIGlucHV0OiAnMHgxMjM0NS4uLicsXG4gICAgICogICBhcmd1bWVudHM6IFsxMjMsICdNeSBTdHJpbmcnXVxuICAgICAqIH0pXG4gICAgICogLmVzdGltYXRlR2FzKGZ1bmN0aW9uKGVyciwgZ2FzKXtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGdhcyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIFRoZSB0cmFuc2FjdGlvbiBvYmplY3RcbiAgICAgKi9cbiAgICBkZXBsb3koZGVwbG95T3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgbGV0IGFiaSA9IHRoaXMuX2pzb25JbnRlcmZhY2UuZmluZChqID0+IGoudHlwZSA9PT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICAgIGlmICghYWJpKSB7XG4gICAgICAgICAgICBhYmkgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICBzdGF0ZU11dGFiaWxpdHk6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBfaW5wdXQgPSAoMCwgd2ViM191dGlsc18xLmZvcm1hdCkoeyBmb3JtYXQ6ICdieXRlcycgfSwgKF9hID0gZGVwbG95T3B0aW9ucyA9PT0gbnVsbCB8fCBkZXBsb3lPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXBsb3lPcHRpb25zLmlucHV0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm9wdGlvbnMuaW5wdXQsIHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQpO1xuICAgICAgICBjb25zdCBfZGF0YSA9ICgwLCB3ZWIzX3V0aWxzXzEuZm9ybWF0KSh7IGZvcm1hdDogJ2J5dGVzJyB9LCAoX2IgPSBkZXBsb3lPcHRpb25zID09PSBudWxsIHx8IGRlcGxveU9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlcGxveU9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5vcHRpb25zLmRhdGEsIHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQpO1xuICAgICAgICBpZiAoKCFfaW5wdXQgfHwgX2lucHV0LnRyaW0oKSA9PT0gJzB4JykgJiYgKCFfZGF0YSB8fCBfZGF0YS50cmltKCkgPT09ICcweCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5XZWIzQ29udHJhY3RFcnJvcignY29udHJhY3QgY3JlYXRpb24gd2l0aG91dCBhbnkgZGF0YSBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmdzID0gKF9jID0gZGVwbG95T3B0aW9ucyA9PT0gbnVsbCB8fCBkZXBsb3lPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXBsb3lPcHRpb25zLmFyZ3VtZW50cykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogW107XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgeyBpbnB1dDogX2lucHV0LCBkYXRhOiBfZGF0YSB9KTtcbiAgICAgICAgY29uc3QgZGVwbG95RGF0YSA9IF9pbnB1dCAhPT0gbnVsbCAmJiBfaW5wdXQgIT09IHZvaWQgMCA/IF9pbnB1dCA6IF9kYXRhO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXJndW1lbnRzOiBhcmdzLFxuICAgICAgICAgICAgc2VuZDogKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udHJhY3RNZXRob2REZXBsb3lTZW5kKGFiaSwgYXJncywgbW9kaWZpZWRPcHRpb25zLCBjb250cmFjdE9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVzdGltYXRlR2FzOiAob3B0aW9ucywgcmV0dXJuRm9ybWF0ID0gd2ViM190eXBlc18xLkRFRkFVTFRfUkVUVVJOX0ZPUk1BVCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250cmFjdE1ldGhvZEVzdGltYXRlR2FzKHtcbiAgICAgICAgICAgICAgICAgICAgYWJpOiBhYmksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogYXJncyxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBtb2RpZmllZE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0T3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZW5jb2RlQUJJOiAoKSA9PiAoMCwgZW5jb2RpbmdfanNfMS5lbmNvZGVNZXRob2RBQkkpKGFiaSwgYXJncywgKDAsIHdlYjNfdXRpbHNfMS5mb3JtYXQpKHsgZm9ybWF0OiAnYnl0ZXMnIH0sIGRlcGxveURhdGEsIHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UGFzdEV2ZW50cyhwYXJhbTEsIHBhcmFtMiwgcGFyYW0zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnID8gcGFyYW0xIDogd2ViM19ldGhfMS5BTExfRVZFTlRTO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICB0eXBlb2YgcGFyYW0xICE9PSAnc3RyaW5nJyAmJiAhKDAsIHdlYjNfdXRpbHNfMS5pc0RhdGFGb3JtYXQpKHBhcmFtMSlcbiAgICAgICAgICAgICAgICA/IHBhcmFtMVxuICAgICAgICAgICAgICAgIDogISgwLCB3ZWIzX3V0aWxzXzEuaXNEYXRhRm9ybWF0KShwYXJhbTIpXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW0yXG4gICAgICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGNvbnN0IHJldHVybkZvcm1hdCA9ICgwLCB3ZWIzX3V0aWxzXzEuaXNEYXRhRm9ybWF0KShwYXJhbTEpXG4gICAgICAgICAgICAgICAgPyBwYXJhbTFcbiAgICAgICAgICAgICAgICA6ICgwLCB3ZWIzX3V0aWxzXzEuaXNEYXRhRm9ybWF0KShwYXJhbTIpXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW0yXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0zICE9PSBudWxsICYmIHBhcmFtMyAhPT0gdm9pZCAwID8gcGFyYW0zIDogd2ViM190eXBlc18xLkRFRkFVTFRfUkVUVVJOX0ZPUk1BVDtcbiAgICAgICAgICAgIGNvbnN0IGFiaSA9IGV2ZW50TmFtZSA9PT0gJ2FsbEV2ZW50cycgfHwgZXZlbnROYW1lID09PSB3ZWIzX2V0aF8xLkFMTF9FVkVOVFNcbiAgICAgICAgICAgICAgICA/IHdlYjNfZXRoXzEuQUxMX0VWRU5UU19BQklcbiAgICAgICAgICAgICAgICA6IHRoaXMuX2pzb25JbnRlcmZhY2UuZmluZChqID0+ICduYW1lJyBpbiBqICYmIGoubmFtZSA9PT0gZXZlbnROYW1lKTtcbiAgICAgICAgICAgIGlmICghYWJpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuV2ViM0NvbnRyYWN0RXJyb3IoYEV2ZW50ICR7ZXZlbnROYW1lfSBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGZyb21CbG9jaywgdG9CbG9jaywgdG9waWNzLCBhZGRyZXNzIH0gPSAoMCwgZW5jb2RpbmdfanNfMS5lbmNvZGVFdmVudEFCSSkodGhpcy5vcHRpb25zLCBhYmksIG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IGxvZ3MgPSB5aWVsZCAoMCwgd2ViM19ldGhfMS5nZXRMb2dzKSh0aGlzLCB7IGZyb21CbG9jaywgdG9CbG9jaywgdG9waWNzLCBhZGRyZXNzIH0sIHJldHVybkZvcm1hdCk7XG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkTG9ncyA9IGxvZ3NcbiAgICAgICAgICAgICAgICA/IGxvZ3MubWFwKGxvZyA9PiB0eXBlb2YgbG9nID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IGxvZ1xuICAgICAgICAgICAgICAgICAgICA6ICgwLCB3ZWIzX2V0aF8xLmRlY29kZUV2ZW50QUJJKShhYmksIGxvZywgdGhpcy5fanNvbkludGVyZmFjZSwgcmV0dXJuRm9ybWF0KSlcbiAgICAgICAgICAgICAgICA6IFtdO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZpbHRlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJLZXlzID0gT2JqZWN0LmtleXMoZmlsdGVyKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlZExvZ3MuZmlsdGVyKGxvZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbG9nID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyS2V5cy5ldmVyeSgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyW2tleV0uc29tZSgodikgPT4gU3RyaW5nKGxvZy5yZXR1cm5WYWx1ZXNba2V5XSkudG9VcHBlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHYpLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRBYmkgPSAoX2EgPSBhYmkuaW5wdXRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmlsdGVyKGlucHV0ID0+IGlucHV0Lm5hbWUgPT09IGtleSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGlucHV0QWJpID09PSBudWxsIHx8IGlucHV0QWJpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dEFiaS5pbmRleGVkKSAmJiBpbnB1dEFiaS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hlZEluZGV4ZWRTdHJpbmcgPSAoMCwgd2ViM191dGlsc18xLmtlY2NhazI1NikoZmlsdGVyW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNoZWRJbmRleGVkU3RyaW5nID09PSBTdHJpbmcobG9nLnJldHVyblZhbHVlc1trZXldKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFN0cmluZyhsb2cucmV0dXJuVmFsdWVzW2tleV0pLnRvVXBwZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKGZpbHRlcltrZXldKS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlZExvZ3M7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcGFyc2VBbmRTZXRBZGRyZXNzKHZhbHVlLCByZXR1cm5Gb3JtYXQgPSB3ZWIzX3R5cGVzXzEuREVGQVVMVF9SRVRVUk5fRk9STUFUKSB7XG4gICAgICAgIHRoaXMuX2FkZHJlc3MgPSB2YWx1ZVxuICAgICAgICAgICAgPyAoMCwgd2ViM191dGlsc18xLnRvQ2hlY2tzdW1BZGRyZXNzKSgoMCwgd2ViM191dGlsc18xLmZvcm1hdCkoeyBmb3JtYXQ6ICdhZGRyZXNzJyB9LCB2YWx1ZSwgcmV0dXJuRm9ybWF0KSlcbiAgICAgICAgICAgIDogdmFsdWU7XG4gICAgfVxuICAgIF9wYXJzZUFuZFNldEpzb25JbnRlcmZhY2UoYWJpcywgcmV0dXJuRm9ybWF0ID0gd2ViM190eXBlc18xLkRFRkFVTFRfUkVUVVJOX0ZPUk1BVCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICB0aGlzLl9mdW5jdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fbWV0aG9kcyA9IHt9O1xuICAgICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBmdW5jdGlvbnNBYmkgPSBhYmlzLmZpbHRlcihhYmkgPT4gYWJpLnR5cGUgIT09ICdlcnJvcicpO1xuICAgICAgICBjb25zdCBlcnJvcnNBYmkgPSBhYmlzLmZpbHRlcihhYmkgPT4gKDAsIHdlYjNfZXRoX2FiaV8xLmlzQWJpRXJyb3JGcmFnbWVudCkoYWJpKSk7XG4gICAgICAgIGZvciAoY29uc3QgYSBvZiBmdW5jdGlvbnNBYmkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFiaSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYSksIHsgc2lnbmF0dXJlOiAnJyB9KTtcbiAgICAgICAgICAgIGlmICgoMCwgd2ViM19ldGhfYWJpXzEuaXNBYmlGdW5jdGlvbkZyYWdtZW50KShhYmkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9ICgwLCB3ZWIzX2V0aF9hYmlfMS5qc29uSW50ZXJmYWNlTWV0aG9kVG9TdHJpbmcpKGFiaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kU2lnbmF0dXJlID0gKDAsIHdlYjNfZXRoX2FiaV8xLmVuY29kZUZ1bmN0aW9uU2lnbmF0dXJlKShtZXRob2ROYW1lKTtcbiAgICAgICAgICAgICAgICBhYmkuc2lnbmF0dXJlID0gbWV0aG9kU2lnbmF0dXJlO1xuICAgICAgICAgICAgICAgIC8vIG1ha2UgY29uc3RhbnQgYW5kIHBheWFibGUgYmFja3dhcmRzIGNvbXBhdGlibGVcbiAgICAgICAgICAgICAgICBhYmkuY29uc3RhbnQgPVxuICAgICAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSBhYmkuc3RhdGVNdXRhYmlsaXR5ID09PSAndmlldycpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFiaS5zdGF0ZU11dGFiaWxpdHkgPT09ICdwdXJlJykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogYWJpLmNvbnN0YW50O1xuICAgICAgICAgICAgICAgIGFiaS5wYXlhYmxlID0gKF9jID0gYWJpLnN0YXRlTXV0YWJpbGl0eSA9PT0gJ3BheWFibGUnKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBhYmkucGF5YWJsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVybG9hZGVkTWV0aG9kQWJpcy5zZXQoYWJpLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgLi4uKChfZCA9IHRoaXMuX292ZXJsb2FkZWRNZXRob2RBYmlzLmdldChhYmkubmFtZSkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgYWJpLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFiaUZyYWdtZW50ID0gKF9lID0gdGhpcy5fb3ZlcmxvYWRlZE1ldGhvZEFiaXMuZ2V0KGFiaS5uYW1lKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogW107XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJhY3RNZXRob2QgPSB0aGlzLl9jcmVhdGVDb250cmFjdE1ldGhvZChhYmlGcmFnbWVudCwgZXJyb3JzQWJpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mdW5jdGlvbnNbbWV0aG9kTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogbWV0aG9kU2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbnRyYWN0TWV0aG9kLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qga25vdyBhIHBhcnRpY3VsYXIgdHlwZSBvZiB0aGUgQWJpIG1ldGhvZCBzbyBjYW4ndCB0eXBlIGNoZWNrXG4gICAgICAgICAgICAgICAgdGhpcy5fbWV0aG9kc1thYmkubmFtZV0gPSB0aGlzLl9mdW5jdGlvbnNbbWV0aG9kTmFtZV0ubWV0aG9kO1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGtub3cgYSBwYXJ0aWN1bGFyIHR5cGUgb2YgdGhlIEFiaSBtZXRob2Qgc28gY2FuJ3QgdHlwZSBjaGVja1xuICAgICAgICAgICAgICAgIHRoaXMuX21ldGhvZHNbbWV0aG9kTmFtZV0gPSB0aGlzLl9mdW5jdGlvbnNbbWV0aG9kTmFtZV0ubWV0aG9kO1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGtub3cgYSBwYXJ0aWN1bGFyIHR5cGUgb2YgdGhlIEFiaSBtZXRob2Qgc28gY2FuJ3QgdHlwZSBjaGVja1xuICAgICAgICAgICAgICAgIHRoaXMuX21ldGhvZHNbbWV0aG9kU2lnbmF0dXJlXSA9IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLl9mdW5jdGlvbnNbbWV0aG9kTmFtZV0ubWV0aG9kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKDAsIHdlYjNfZXRoX2FiaV8xLmlzQWJpRXZlbnRGcmFnbWVudCkoYWJpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9ICgwLCB3ZWIzX2V0aF9hYmlfMS5qc29uSW50ZXJmYWNlTWV0aG9kVG9TdHJpbmcpKGFiaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRTaWduYXR1cmUgPSAoMCwgd2ViM19ldGhfYWJpXzEuZW5jb2RlRXZlbnRTaWduYXR1cmUpKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9jcmVhdGVDb250cmFjdEV2ZW50KGFiaSwgcmV0dXJuRm9ybWF0KTtcbiAgICAgICAgICAgICAgICBhYmkuc2lnbmF0dXJlID0gZXZlbnRTaWduYXR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKCEoZXZlbnROYW1lIGluIHRoaXMuX2V2ZW50cykgfHwgYWJpLm5hbWUgPT09ICdib3VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhIHByaXZhdGUgdHlwZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBleHBvc2UgaXQgYW5kIG5vIG5lZWQgdG8gY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBldmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSXQncyBhIHByaXZhdGUgdHlwZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBleHBvc2UgaXQgYW5kIG5vIG5lZWQgdG8gY2hlY2tcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbYWJpLm5hbWVdID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgLy8gSXQncyBhIHByaXZhdGUgdHlwZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBleHBvc2UgaXQgYW5kIG5vIG5lZWQgdG8gY2hlY2tcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbZXZlbnRTaWduYXR1cmVdID0gZXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBbLi4ucmVzdWx0LCBhYmldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2V2ZW50cy5hbGxFdmVudHMgPSB0aGlzLl9jcmVhdGVDb250cmFjdEV2ZW50KHdlYjNfZXRoXzEuQUxMX0VWRU5UU19BQkksIHJldHVybkZvcm1hdCk7XG4gICAgICAgIHRoaXMuX2pzb25JbnRlcmZhY2UgPSBbLi4ucmVzdWx0XTtcbiAgICAgICAgdGhpcy5fZXJyb3JzSW50ZXJmYWNlID0gZXJyb3JzQWJpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIF9nZXRBYmlQYXJhbXMoYWJpLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHdlYjNfdmFsaWRhdG9yXzEudXRpbHMudHJhbnNmb3JtSnNvbkRhdGFUb0FiaUZvcm1hdCgoX2EgPSBhYmkuaW5wdXRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLldlYjNDb250cmFjdEVycm9yKGBJbnZhbGlkIHBhcmFtZXRlcnMgZm9yIG1ldGhvZCAke2FiaS5uYW1lfTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVDb250cmFjdE1ldGhvZChhYmlBcnIsIGVycm9yc0FiaXMpIHtcbiAgICAgICAgY29uc3QgYWJpID0gYWJpQXJyW2FiaUFyci5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuICguLi5wYXJhbXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBsZXQgYWJpUGFyYW1zO1xuICAgICAgICAgICAgY29uc3QgYWJpcyA9IChfYSA9IHRoaXMuX292ZXJsb2FkZWRNZXRob2RBYmlzLmdldChhYmkubmFtZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgbGV0IG1ldGhvZEFiaSA9IGFiaXNbMF07XG4gICAgICAgICAgICBjb25zdCBpbnRlcm5hbEVycm9yc0FiaXMgPSBlcnJvcnNBYmlzO1xuICAgICAgICAgICAgY29uc3QgYXJyYXlPZkFiaXMgPSBhYmlzLmZpbHRlcihfYWJpID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IF9hYmkuaW5wdXRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkubGVuZ3RoID09PSBwYXJhbXMubGVuZ3RoOyB9KTtcbiAgICAgICAgICAgIGlmIChhYmlzLmxlbmd0aCA9PT0gMSB8fCBhcnJheU9mQWJpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhYmlQYXJhbXMgPSB0aGlzLl9nZXRBYmlQYXJhbXMobWV0aG9kQWJpLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIHdlYjNfdmFsaWRhdG9yXzEudmFsaWRhdG9yLnZhbGlkYXRlKChfYiA9IGFiaS5pbnB1dHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLCBhYmlQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBfYWJpIG9mIGFycmF5T2ZBYmlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhYmlQYXJhbXMgPSB0aGlzLl9nZXRBYmlQYXJhbXMoX2FiaSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYjNfdmFsaWRhdG9yXzEudmFsaWRhdG9yLnZhbGlkYXRlKF9hYmkuaW5wdXRzLCBhYmlQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kQWJpID0gX2FiaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA9PT0gYXJyYXlPZkFiaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX3ZhbGlkYXRvcl8xLldlYjNWYWxpZGF0b3JFcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiBhYmlQYXJhbXMsXG4gICAgICAgICAgICAgICAgY2FsbDogKG9wdGlvbnMsIGJsb2NrKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250cmFjdE1ldGhvZENhbGwobWV0aG9kQWJpLCBhYmlQYXJhbXMsIGludGVybmFsRXJyb3JzQWJpcywgb3B0aW9ucywgYmxvY2spO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHNlbmQ6IChvcHRpb25zKSA9PiB0aGlzLl9jb250cmFjdE1ldGhvZFNlbmQobWV0aG9kQWJpLCBhYmlQYXJhbXMsIGludGVybmFsRXJyb3JzQWJpcywgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZXN0aW1hdGVHYXM6IChvcHRpb25zLCByZXR1cm5Gb3JtYXQgPSB3ZWIzX3R5cGVzXzEuREVGQVVMVF9SRVRVUk5fRk9STUFUKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250cmFjdE1ldGhvZEVzdGltYXRlR2FzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFiaTogbWV0aG9kQWJpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBhYmlQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Gb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBlbmNvZGVBQkk6ICgpID0+ICgwLCBlbmNvZGluZ19qc18xLmVuY29kZU1ldGhvZEFCSSkobWV0aG9kQWJpLCBhYmlQYXJhbXMpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZUFjY2Vzc0xpc3Q6IChvcHRpb25zLCBibG9jaykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udHJhY3RNZXRob2RDcmVhdGVBY2Nlc3NMaXN0KG1ldGhvZEFiaSwgYWJpUGFyYW1zLCBpbnRlcm5hbEVycm9yc0FiaXMsIG9wdGlvbnMsIGJsb2NrKTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobWV0aG9kQWJpLnN0YXRlTXV0YWJpbGl0eSA9PT0gJ3BheWFibGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kcztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2NvbnRyYWN0TWV0aG9kQ2FsbChhYmksIHBhcmFtcywgZXJyb3JzQWJpLCBvcHRpb25zLCBibG9jaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9ICgwLCB1dGlsc19qc18xLmdldEV0aFR4Q2FsbFBhcmFtcykoe1xuICAgICAgICAgICAgICAgIGFiaSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBkYXRhSW5wdXRGaWxsOiB0aGlzLmNvbmZpZy5jb250cmFjdERhdGFJbnB1dEZpbGwgfSksXG4gICAgICAgICAgICAgICAgY29udHJhY3RPcHRpb25zOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHsgZnJvbTogKF9hID0gdGhpcy5vcHRpb25zLmZyb20pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuY29uZmlnLmRlZmF1bHRBY2NvdW50IH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkICgwLCB3ZWIzX2V0aF8xLmNhbGwpKHRoaXMsIHR4LCBibG9jaywgd2ViM190eXBlc18xLkRFRkFVTFRfUkVUVVJOX0ZPUk1BVCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBlbmNvZGluZ19qc18xLmRlY29kZU1ldGhvZFJldHVybikoYWJpLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygd2ViM19lcnJvcnNfMS5Db250cmFjdEV4ZWN1dGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBwYXJzZSB0aGUgZXJyb3IgZGF0YSBieSB0cnlpbmcgdG8gZGVjb2RlIHRoZSBBQkkgZXJyb3IgaW5wdXRzIGFjY29yZGluZyB0byBFSVAtODM4XG4gICAgICAgICAgICAgICAgICAgICgwLCB3ZWIzX2V0aF9hYmlfMS5kZWNvZGVDb250cmFjdEVycm9yRGF0YSkoZXJyb3JzQWJpLCBlcnJvci5jYXVzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2NvbnRyYWN0TWV0aG9kQ3JlYXRlQWNjZXNzTGlzdChhYmksIHBhcmFtcywgZXJyb3JzQWJpLCBvcHRpb25zLCBibG9jaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9ICgwLCB1dGlsc19qc18xLmdldENyZWF0ZUFjY2Vzc0xpc3RQYXJhbXMpKHtcbiAgICAgICAgICAgICAgICBhYmksXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgZGF0YUlucHV0RmlsbDogdGhpcy5jb25maWcuY29udHJhY3REYXRhSW5wdXRGaWxsIH0pLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0T3B0aW9uczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCB7IGZyb206IChfYSA9IHRoaXMub3B0aW9ucy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmNvbmZpZy5kZWZhdWx0QWNjb3VudCB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHdlYjNfZXRoXzEuY3JlYXRlQWNjZXNzTGlzdCkodGhpcywgdHgsIGJsb2NrLCB3ZWIzX3R5cGVzXzEuREVGQVVMVF9SRVRVUk5fRk9STUFUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHdlYjNfZXJyb3JzXzEuQ29udHJhY3RFeGVjdXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcGFyc2UgdGhlIGVycm9yIGRhdGEgYnkgdHJ5aW5nIHRvIGRlY29kZSB0aGUgQUJJIGVycm9yIGlucHV0cyBhY2NvcmRpbmcgdG8gRUlQLTgzOFxuICAgICAgICAgICAgICAgICAgICAoMCwgd2ViM19ldGhfYWJpXzEuZGVjb2RlQ29udHJhY3RFcnJvckRhdGEpKGVycm9yc0FiaSwgZXJyb3IuY2F1c2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9jb250cmFjdE1ldGhvZFNlbmQoYWJpLCBwYXJhbXMsIGVycm9yc0FiaSwgb3B0aW9ucywgY29udHJhY3RPcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGxldCBtb2RpZmllZENvbnRyYWN0T3B0aW9ucyA9IGNvbnRyYWN0T3B0aW9ucyAhPT0gbnVsbCAmJiBjb250cmFjdE9wdGlvbnMgIT09IHZvaWQgMCA/IGNvbnRyYWN0T3B0aW9ucyA6IHRoaXMub3B0aW9ucztcbiAgICAgICAgbW9kaWZpZWRDb250cmFjdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1vZGlmaWVkQ29udHJhY3RPcHRpb25zKSwgeyBpbnB1dDogdW5kZWZpbmVkLCBmcm9tOiAoX2IgPSAoX2EgPSBtb2RpZmllZENvbnRyYWN0T3B0aW9ucy5mcm9tKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmRlZmF1bHRBY2NvdW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIGNvbnN0IHR4ID0gKDAsIHV0aWxzX2pzXzEuZ2V0U2VuZFR4UGFyYW1zKSh7XG4gICAgICAgICAgICBhYmksXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGRhdGFJbnB1dEZpbGw6IHRoaXMuY29uZmlnLmNvbnRyYWN0RGF0YUlucHV0RmlsbCB9KSxcbiAgICAgICAgICAgIGNvbnRyYWN0T3B0aW9uczogbW9kaWZpZWRDb250cmFjdE9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvblRvU2VuZCA9ICgwLCB3ZWIzX2V0aF8xLnNlbmRUcmFuc2FjdGlvbikodGhpcywgdHgsIHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQsIHtcbiAgICAgICAgICAgIC8vIFRPRE8gU2hvdWxkIG1ha2UgdGhpcyBjb25maWd1cmFibGUgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgIGNoZWNrUmV2ZXJ0QmVmb3JlU2VuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBjb250cmFjdEFiaTogdGhpcy5fanNvbkludGVyZmFjZSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12b2lkXG4gICAgICAgIHZvaWQgdHJhbnNhY3Rpb25Ub1NlbmQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB3ZWIzX2Vycm9yc18xLkNvbnRyYWN0RXhlY3V0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcGFyc2UgdGhlIGVycm9yIGRhdGEgYnkgdHJ5aW5nIHRvIGRlY29kZSB0aGUgQUJJIGVycm9yIGlucHV0cyBhY2NvcmRpbmcgdG8gRUlQLTgzOFxuICAgICAgICAgICAgICAgICgwLCB3ZWIzX2V0aF9hYmlfMS5kZWNvZGVDb250cmFjdEVycm9yRGF0YSkoZXJyb3JzQWJpLCBlcnJvci5jYXVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Ub1NlbmQ7XG4gICAgfVxuICAgIF9jb250cmFjdE1ldGhvZERlcGxveVNlbmQoYWJpLCBwYXJhbXMsIG9wdGlvbnMsIGNvbnRyYWN0T3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgbW9kaWZpZWRDb250cmFjdE9wdGlvbnMgPSBjb250cmFjdE9wdGlvbnMgIT09IG51bGwgJiYgY29udHJhY3RPcHRpb25zICE9PSB2b2lkIDAgPyBjb250cmFjdE9wdGlvbnMgOiB0aGlzLm9wdGlvbnM7XG4gICAgICAgIG1vZGlmaWVkQ29udHJhY3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtb2RpZmllZENvbnRyYWN0T3B0aW9ucyksIHsgZnJvbTogKF9iID0gKF9hID0gbW9kaWZpZWRDb250cmFjdE9wdGlvbnMuZnJvbSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5kZWZhdWx0QWNjb3VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkIH0pO1xuICAgICAgICBjb25zdCB0eCA9ICgwLCB1dGlsc19qc18xLmdldFNlbmRUeFBhcmFtcykoe1xuICAgICAgICAgICAgYWJpLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBkYXRhSW5wdXRGaWxsOiB0aGlzLmNvbmZpZy5jb250cmFjdERhdGFJbnB1dEZpbGwgfSksXG4gICAgICAgICAgICBjb250cmFjdE9wdGlvbnM6IG1vZGlmaWVkQ29udHJhY3RPcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgwLCB3ZWIzX2V0aF8xLnNlbmRUcmFuc2FjdGlvbikodGhpcywgdHgsIHdlYjNfdHlwZXNfMS5ERUZBVUxUX1JFVFVSTl9GT1JNQVQsIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uUmVzb2x2ZXI6IHJlY2VpcHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXB0LnN0YXR1cyA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLldlYjNDb250cmFjdEVycm9yKFwiY29kZSBjb3VsZG4ndCBiZSBzdG9yZWRcIiwgcmVjZWlwdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRyYWN0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICBuZXdDb250cmFjdC5vcHRpb25zLmFkZHJlc3MgPSByZWNlaXB0LmNvbnRyYWN0QWRkcmVzcztcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q29udHJhY3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJhY3RBYmk6IHRoaXMuX2pzb25JbnRlcmZhY2UsXG4gICAgICAgICAgICAvLyBUT0RPIFNob3VsZCBtYWtlIHRoaXMgY29uZmlndXJhYmxlIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgICBjaGVja1JldmVydEJlZm9yZVNlbmRpbmc6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2NvbnRyYWN0TWV0aG9kRXN0aW1hdGVHYXMoeyBhYmksIHBhcmFtcywgcmV0dXJuRm9ybWF0LCBvcHRpb25zLCBjb250cmFjdE9wdGlvbnMsIH0pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHR4ID0gKDAsIHV0aWxzX2pzXzEuZ2V0RXN0aW1hdGVHYXNQYXJhbXMpKHtcbiAgICAgICAgICAgICAgICBhYmksXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgZGF0YUlucHV0RmlsbDogdGhpcy5jb25maWcuY29udHJhY3REYXRhSW5wdXRGaWxsIH0pLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0T3B0aW9uczogY29udHJhY3RPcHRpb25zICE9PSBudWxsICYmIGNvbnRyYWN0T3B0aW9ucyAhPT0gdm9pZCAwID8gY29udHJhY3RPcHRpb25zIDogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHdlYjNfZXRoXzEuZXN0aW1hdGVHYXMpKHRoaXMsIHR4LCB3ZWIzX3R5cGVzXzEuQmxvY2tUYWdzLkxBVEVTVCwgcmV0dXJuRm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgX2NyZWF0ZUNvbnRyYWN0RXZlbnQoYWJpLCByZXR1cm5Gb3JtYXQgPSB3ZWIzX3R5cGVzXzEuREVGQVVMVF9SRVRVUk5fRk9STUFUKSB7XG4gICAgICAgIHJldHVybiAoLi4ucGFyYW1zKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCB7IHRvcGljcywgZnJvbUJsb2NrIH0gPSAoMCwgZW5jb2RpbmdfanNfMS5lbmNvZGVFdmVudEFCSSkodGhpcy5vcHRpb25zLCBhYmksIHBhcmFtc1swXSk7XG4gICAgICAgICAgICBjb25zdCBzdWIgPSBuZXcgbG9nX3N1YnNjcmlwdGlvbl9qc18xLkxvZ3NTdWJzY3JpcHRpb24oe1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMub3B0aW9ucy5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvcGljcyxcbiAgICAgICAgICAgICAgICBhYmksXG4gICAgICAgICAgICAgICAganNvbkludGVyZmFjZTogdGhpcy5fanNvbkludGVyZmFjZSxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uTWFuYWdlcjogdGhpcy5zdWJzY3JpcHRpb25NYW5hZ2VyLFxuICAgICAgICAgICAgICAgIHJldHVybkZvcm1hdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCEoMCwgd2ViM192YWxpZGF0b3JfMS5pc051bGxpc2gpKGZyb21CbG9jaykpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBhc3QgZXZlbnRzIHdoZW4gZnJvbUJsb2NrIGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBhc3RFdmVudHMoYWJpLm5hbWUsIHsgZnJvbUJsb2NrLCB0b3BpY3MgfSwgcmV0dXJuRm9ybWF0KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihsb2dzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ3MuZm9yRWFjaChsb2cgPT4gc3ViLmVtaXQoJ2RhdGEnLCBsb2cpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmVtaXQoJ2Vycm9yJywgbmV3IHdlYjNfZXJyb3JzXzEuU3Vic2NyaXB0aW9uRXJyb3IoJ0ZhaWxlZCB0byBnZXQgcGFzdCBldmVudHMuJywgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuc3Vic2NyaXB0aW9uTWFuYWdlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZFN1YnNjcmlwdGlvbihzdWIpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHN1Yi5lbWl0KCdlcnJvcicsIG5ldyB3ZWIzX2Vycm9yc18xLlN1YnNjcmlwdGlvbkVycm9yKCdGYWlsZWQgdG8gc3Vic2NyaWJlLicsIGVycm9yKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdWI7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN1YnNjcmliZVRvQ29udGV4dEV2ZW50cyhjb250ZXh0KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBjb250cmFjdFRoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBpZiAoY29udHJhY3RUaGlzLnN5bmNXaXRoQ29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5vbih3ZWIzX2NvcmVfMS5XZWIzQ29uZmlnRXZlbnQuQ09ORklHX0NIQU5HRSwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRyYWN0VGhpcy5zZXRDb25maWcoeyBbZXZlbnQubmFtZV06IGV2ZW50Lm5ld1ZhbHVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNvbnRyYWN0ID0gQ29udHJhY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250cmFjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/contract.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js":
/*!*******************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decodeMethodReturn = exports.encodeMethodABI = exports.encodeEventABI = exports.decodeEventABI = void 0;\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst web3_types_1 = __webpack_require__(/*! web3-types */ \"(api)/./src/pages/api/node_modules/web3-types/lib/commonjs/index.js\");\nconst web3_eth_abi_1 = __webpack_require__(/*! web3-eth-abi */ \"(api)/./src/pages/api/node_modules/web3-eth-abi/lib/commonjs/index.js\");\nconst web3_eth_1 = __webpack_require__(/*! web3-eth */ \"(api)/./src/pages/api/node_modules/web3-eth/lib/commonjs/index.js\");\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nvar web3_eth_2 = __webpack_require__(/*! web3-eth */ \"(api)/./src/pages/api/node_modules/web3-eth/lib/commonjs/index.js\");\nObject.defineProperty(exports, \"decodeEventABI\", ({ enumerable: true, get: function () { return web3_eth_2.decodeEventABI; } }));\nconst encodeEventABI = ({ address }, event, options) => {\n    var _a, _b;\n    const topics = options === null || options === void 0 ? void 0 : options.topics;\n    const filter = (_a = options === null || options === void 0 ? void 0 : options.filter) !== null && _a !== void 0 ? _a : {};\n    const opts = {};\n    if (!(0, web3_utils_1.isNullish)(options === null || options === void 0 ? void 0 : options.fromBlock)) {\n        opts.fromBlock = (0, web3_utils_1.format)(web3_eth_1.blockSchema.properties.number, options === null || options === void 0 ? void 0 : options.fromBlock, {\n            number: web3_types_1.FMT_NUMBER.HEX,\n            bytes: web3_types_1.FMT_BYTES.HEX,\n        });\n    }\n    if (!(0, web3_utils_1.isNullish)(options === null || options === void 0 ? void 0 : options.toBlock)) {\n        opts.toBlock = (0, web3_utils_1.format)(web3_eth_1.blockSchema.properties.number, options === null || options === void 0 ? void 0 : options.toBlock, {\n            number: web3_types_1.FMT_NUMBER.HEX,\n            bytes: web3_types_1.FMT_BYTES.HEX,\n        });\n    }\n    if (topics && Array.isArray(topics)) {\n        opts.topics = [...topics];\n    }\n    else {\n        opts.topics = [];\n        // add event signature\n        if (event && !event.anonymous && ![web3_eth_1.ALL_EVENTS, 'allEvents'].includes(event.name)) {\n            opts.topics.push((_b = event.signature) !== null && _b !== void 0 ? _b : (0, web3_eth_abi_1.encodeEventSignature)((0, web3_eth_abi_1.jsonInterfaceMethodToString)(event)));\n        }\n        // add event topics (indexed arguments)\n        if (![web3_eth_1.ALL_EVENTS, 'allEvents'].includes(event.name) && event.inputs) {\n            for (const input of event.inputs) {\n                if (!input.indexed) {\n                    continue;\n                }\n                const value = filter[input.name];\n                if (!value) {\n                    // eslint-disable-next-line no-null/no-null\n                    opts.topics.push(null);\n                    continue;\n                }\n                // TODO: https://github.com/ethereum/web3.js/issues/344\n                // TODO: deal properly with components\n                if (Array.isArray(value)) {\n                    opts.topics.push(value.map(v => (0, web3_eth_abi_1.encodeParameter)(input.type, v)));\n                }\n                else if (input.type === 'string') {\n                    opts.topics.push((0, web3_utils_1.keccak256)(value));\n                }\n                else {\n                    opts.topics.push((0, web3_eth_abi_1.encodeParameter)(input.type, value));\n                }\n            }\n        }\n    }\n    if (!opts.topics.length)\n        delete opts.topics;\n    if (address) {\n        opts.address = address.toLowerCase();\n    }\n    return opts;\n};\nexports.encodeEventABI = encodeEventABI;\nconst encodeMethodABI = (abi, args, deployData) => {\n    const inputLength = Array.isArray(abi.inputs) ? abi.inputs.length : 0;\n    if (abi.inputs && inputLength !== args.length) {\n        throw new web3_errors_1.Web3ContractError(`The number of arguments is not matching the methods required number. You need to pass ${inputLength} arguments.`);\n    }\n    let params;\n    if (abi.inputs) {\n        params = (0, web3_eth_abi_1.encodeParameters)(Array.isArray(abi.inputs) ? abi.inputs : [], args).replace('0x', '');\n    }\n    else {\n        params = (0, web3_eth_abi_1.inferTypesAndEncodeParameters)(args).replace('0x', '');\n    }\n    if ((0, web3_eth_abi_1.isAbiConstructorFragment)(abi)) {\n        if (!deployData)\n            throw new web3_errors_1.Web3ContractError('The contract has no contract data option set. This is necessary to append the constructor parameters.');\n        if (!deployData.startsWith('0x')) {\n            return `0x${deployData}${params}`;\n        }\n        return `${deployData}${params}`;\n    }\n    return `${(0, web3_eth_abi_1.encodeFunctionSignature)(abi)}${params}`;\n};\nexports.encodeMethodABI = encodeMethodABI;\nconst decodeMethodReturn = (abi, returnValues) => {\n    // If it was constructor then we need to return contract address\n    if (abi.type === 'constructor') {\n        return returnValues;\n    }\n    if (!returnValues) {\n        // Using \"null\" value intentionally to match legacy behavior\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n    const value = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\n    if (!abi.outputs) {\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n    const result = (0, web3_eth_abi_1.decodeParameters)([...abi.outputs], value);\n    if (result.__length__ === 1) {\n        return result[0];\n    }\n    return result;\n};\nexports.decodeMethodReturn = decodeMethodReturn;\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvZW5jb2RpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLHNCQUFzQjtBQUN0RyxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBWTtBQUN6QyxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBWTtBQUN6Qyx1QkFBdUIsbUJBQU8sQ0FBQywyRkFBYztBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyxtRkFBVTtBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBYTtBQUMzQyxpQkFBaUIsbUJBQU8sQ0FBQyxtRkFBVTtBQUNuQyxrREFBaUQsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDOUgsMEJBQTBCLFNBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLDJJQUEySSxhQUFhO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXLEVBQUUsT0FBTztBQUM1QztBQUNBLGtCQUFrQixXQUFXLEVBQUUsT0FBTztBQUN0QztBQUNBLGNBQWMsaURBQWlELEVBQUUsT0FBTztBQUN4RTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1ldGgtY29udHJhY3QvbGliL2NvbW1vbmpzL2VuY29kaW5nLmpzPzM0ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVjb2RlTWV0aG9kUmV0dXJuID0gZXhwb3J0cy5lbmNvZGVNZXRob2RBQkkgPSBleHBvcnRzLmVuY29kZUV2ZW50QUJJID0gZXhwb3J0cy5kZWNvZGVFdmVudEFCSSA9IHZvaWQgMDtcbmNvbnN0IHdlYjNfdXRpbHNfMSA9IHJlcXVpcmUoXCJ3ZWIzLXV0aWxzXCIpO1xuY29uc3Qgd2ViM190eXBlc18xID0gcmVxdWlyZShcIndlYjMtdHlwZXNcIik7XG5jb25zdCB3ZWIzX2V0aF9hYmlfMSA9IHJlcXVpcmUoXCJ3ZWIzLWV0aC1hYmlcIik7XG5jb25zdCB3ZWIzX2V0aF8xID0gcmVxdWlyZShcIndlYjMtZXRoXCIpO1xuY29uc3Qgd2ViM19lcnJvcnNfMSA9IHJlcXVpcmUoXCJ3ZWIzLWVycm9yc1wiKTtcbnZhciB3ZWIzX2V0aF8yID0gcmVxdWlyZShcIndlYjMtZXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVjb2RlRXZlbnRBQklcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdlYjNfZXRoXzIuZGVjb2RlRXZlbnRBQkk7IH0gfSk7XG5jb25zdCBlbmNvZGVFdmVudEFCSSA9ICh7IGFkZHJlc3MgfSwgZXZlbnQsIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHRvcGljcyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50b3BpY3M7XG4gICAgY29uc3QgZmlsdGVyID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZpbHRlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgY29uc3Qgb3B0cyA9IHt9O1xuICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mcm9tQmxvY2spKSB7XG4gICAgICAgIG9wdHMuZnJvbUJsb2NrID0gKDAsIHdlYjNfdXRpbHNfMS5mb3JtYXQpKHdlYjNfZXRoXzEuYmxvY2tTY2hlbWEucHJvcGVydGllcy5udW1iZXIsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mcm9tQmxvY2ssIHtcbiAgICAgICAgICAgIG51bWJlcjogd2ViM190eXBlc18xLkZNVF9OVU1CRVIuSEVYLFxuICAgICAgICAgICAgYnl0ZXM6IHdlYjNfdHlwZXNfMS5GTVRfQllURVMuSEVYLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCEoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRvQmxvY2spKSB7XG4gICAgICAgIG9wdHMudG9CbG9jayA9ICgwLCB3ZWIzX3V0aWxzXzEuZm9ybWF0KSh3ZWIzX2V0aF8xLmJsb2NrU2NoZW1hLnByb3BlcnRpZXMubnVtYmVyLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudG9CbG9jaywge1xuICAgICAgICAgICAgbnVtYmVyOiB3ZWIzX3R5cGVzXzEuRk1UX05VTUJFUi5IRVgsXG4gICAgICAgICAgICBieXRlczogd2ViM190eXBlc18xLkZNVF9CWVRFUy5IRVgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodG9waWNzICYmIEFycmF5LmlzQXJyYXkodG9waWNzKSkge1xuICAgICAgICBvcHRzLnRvcGljcyA9IFsuLi50b3BpY3NdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3B0cy50b3BpY3MgPSBbXTtcbiAgICAgICAgLy8gYWRkIGV2ZW50IHNpZ25hdHVyZVxuICAgICAgICBpZiAoZXZlbnQgJiYgIWV2ZW50LmFub255bW91cyAmJiAhW3dlYjNfZXRoXzEuQUxMX0VWRU5UUywgJ2FsbEV2ZW50cyddLmluY2x1ZGVzKGV2ZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICBvcHRzLnRvcGljcy5wdXNoKChfYiA9IGV2ZW50LnNpZ25hdHVyZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKDAsIHdlYjNfZXRoX2FiaV8xLmVuY29kZUV2ZW50U2lnbmF0dXJlKSgoMCwgd2ViM19ldGhfYWJpXzEuanNvbkludGVyZmFjZU1ldGhvZFRvU3RyaW5nKShldmVudCkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgZXZlbnQgdG9waWNzIChpbmRleGVkIGFyZ3VtZW50cylcbiAgICAgICAgaWYgKCFbd2ViM19ldGhfMS5BTExfRVZFTlRTLCAnYWxsRXZlbnRzJ10uaW5jbHVkZXMoZXZlbnQubmFtZSkgJiYgZXZlbnQuaW5wdXRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIGV2ZW50LmlucHV0cykge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuaW5kZXhlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmaWx0ZXJbaW5wdXQubmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgICAgICAgICAgICAgIG9wdHMudG9waWNzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vd2ViMy5qcy9pc3N1ZXMvMzQ0XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZGVhbCBwcm9wZXJseSB3aXRoIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy50b3BpY3MucHVzaCh2YWx1ZS5tYXAodiA9PiAoMCwgd2ViM19ldGhfYWJpXzEuZW5jb2RlUGFyYW1ldGVyKShpbnB1dC50eXBlLCB2KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLnRvcGljcy5wdXNoKCgwLCB3ZWIzX3V0aWxzXzEua2VjY2FrMjU2KSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy50b3BpY3MucHVzaCgoMCwgd2ViM19ldGhfYWJpXzEuZW5jb2RlUGFyYW1ldGVyKShpbnB1dC50eXBlLCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9wdHMudG9waWNzLmxlbmd0aClcbiAgICAgICAgZGVsZXRlIG9wdHMudG9waWNzO1xuICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgIG9wdHMuYWRkcmVzcyA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG59O1xuZXhwb3J0cy5lbmNvZGVFdmVudEFCSSA9IGVuY29kZUV2ZW50QUJJO1xuY29uc3QgZW5jb2RlTWV0aG9kQUJJID0gKGFiaSwgYXJncywgZGVwbG95RGF0YSkgPT4ge1xuICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gQXJyYXkuaXNBcnJheShhYmkuaW5wdXRzKSA/IGFiaS5pbnB1dHMubGVuZ3RoIDogMDtcbiAgICBpZiAoYWJpLmlucHV0cyAmJiBpbnB1dExlbmd0aCAhPT0gYXJncy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuV2ViM0NvbnRyYWN0RXJyb3IoYFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGlzIG5vdCBtYXRjaGluZyB0aGUgbWV0aG9kcyByZXF1aXJlZCBudW1iZXIuIFlvdSBuZWVkIHRvIHBhc3MgJHtpbnB1dExlbmd0aH0gYXJndW1lbnRzLmApO1xuICAgIH1cbiAgICBsZXQgcGFyYW1zO1xuICAgIGlmIChhYmkuaW5wdXRzKSB7XG4gICAgICAgIHBhcmFtcyA9ICgwLCB3ZWIzX2V0aF9hYmlfMS5lbmNvZGVQYXJhbWV0ZXJzKShBcnJheS5pc0FycmF5KGFiaS5pbnB1dHMpID8gYWJpLmlucHV0cyA6IFtdLCBhcmdzKS5yZXBsYWNlKCcweCcsICcnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9ICgwLCB3ZWIzX2V0aF9hYmlfMS5pbmZlclR5cGVzQW5kRW5jb2RlUGFyYW1ldGVycykoYXJncykucmVwbGFjZSgnMHgnLCAnJyk7XG4gICAgfVxuICAgIGlmICgoMCwgd2ViM19ldGhfYWJpXzEuaXNBYmlDb25zdHJ1Y3RvckZyYWdtZW50KShhYmkpKSB7XG4gICAgICAgIGlmICghZGVwbG95RGF0YSlcbiAgICAgICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLldlYjNDb250cmFjdEVycm9yKCdUaGUgY29udHJhY3QgaGFzIG5vIGNvbnRyYWN0IGRhdGEgb3B0aW9uIHNldC4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gYXBwZW5kIHRoZSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzLicpO1xuICAgICAgICBpZiAoIWRlcGxveURhdGEuc3RhcnRzV2l0aCgnMHgnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAweCR7ZGVwbG95RGF0YX0ke3BhcmFtc31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtkZXBsb3lEYXRhfSR7cGFyYW1zfWA7XG4gICAgfVxuICAgIHJldHVybiBgJHsoMCwgd2ViM19ldGhfYWJpXzEuZW5jb2RlRnVuY3Rpb25TaWduYXR1cmUpKGFiaSl9JHtwYXJhbXN9YDtcbn07XG5leHBvcnRzLmVuY29kZU1ldGhvZEFCSSA9IGVuY29kZU1ldGhvZEFCSTtcbmNvbnN0IGRlY29kZU1ldGhvZFJldHVybiA9IChhYmksIHJldHVyblZhbHVlcykgPT4ge1xuICAgIC8vIElmIGl0IHdhcyBjb25zdHJ1Y3RvciB0aGVuIHdlIG5lZWQgdG8gcmV0dXJuIGNvbnRyYWN0IGFkZHJlc3NcbiAgICBpZiAoYWJpLnR5cGUgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlcztcbiAgICB9XG4gICAgaWYgKCFyZXR1cm5WYWx1ZXMpIHtcbiAgICAgICAgLy8gVXNpbmcgXCJudWxsXCIgdmFsdWUgaW50ZW50aW9uYWxseSB0byBtYXRjaCBsZWdhY3kgYmVoYXZpb3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSByZXR1cm5WYWx1ZXMubGVuZ3RoID49IDIgPyByZXR1cm5WYWx1ZXMuc2xpY2UoMikgOiByZXR1cm5WYWx1ZXM7XG4gICAgaWYgKCFhYmkub3V0cHV0cykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSAoMCwgd2ViM19ldGhfYWJpXzEuZGVjb2RlUGFyYW1ldGVycykoWy4uLmFiaS5vdXRwdXRzXSwgdmFsdWUpO1xuICAgIGlmIChyZXN1bHQuX19sZW5ndGhfXyA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0WzBdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydHMuZGVjb2RlTWV0aG9kUmV0dXJuID0gZGVjb2RlTWV0aG9kUmV0dXJuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/index.js":
/*!****************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * The `web3.eth.Contract` object makes it easy to interact with smart contracts on the Ethereum blockchain.\n * When you create a new contract object you give it the JSON interface of the respective smart contract and\n * web3 will auto convert all calls into low level ABI calls over RPC for you.\n * This allows you to interact with smart contracts as if they were JavaScript objects.\n *\n * To use it standalone:\n *\n * ```ts\n * const Contract = require('web3-eth-contract');\n *\n * // set provider for all later instances to use\n * Contract.setProvider('ws://localhost:8546');\n *\n * const contract = new Contract(jsonInterface, address);\n *\n * contract.methods.somFunc().send({from: ....})\n * .on('receipt', function(){\n *    ...\n * });\n * ```\n */\n/**\n * This comment _supports3_ [Markdown](https://marked.js.org/)\n */\nconst contract_js_1 = __webpack_require__(/*! ./contract.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/contract.js\");\n__exportStar(__webpack_require__(/*! ./encoding.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js\"), exports);\n__exportStar(__webpack_require__(/*! ./contract.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/contract.js\"), exports);\n__exportStar(__webpack_require__(/*! ./log_subscription.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/log_subscription.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/utils.js\"), exports);\nexports[\"default\"] = contract_js_1.Contract;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFdBQVc7QUFDL0M7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1CQUFPLENBQUMsb0dBQWU7QUFDN0MsYUFBYSxtQkFBTyxDQUFDLG9HQUFlO0FBQ3BDLGFBQWEsbUJBQU8sQ0FBQyxvR0FBZTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsb0hBQXVCO0FBQzVDLGFBQWEsbUJBQU8sQ0FBQyw4RkFBWTtBQUNqQyxhQUFhLG1CQUFPLENBQUMsOEZBQVk7QUFDakMsa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvaW5kZXguanM/ZDkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5UaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG53ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbndlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5HTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFRoZSBgd2ViMy5ldGguQ29udHJhY3RgIG9iamVjdCBtYWtlcyBpdCBlYXN5IHRvIGludGVyYWN0IHdpdGggc21hcnQgY29udHJhY3RzIG9uIHRoZSBFdGhlcmV1bSBibG9ja2NoYWluLlxuICogV2hlbiB5b3UgY3JlYXRlIGEgbmV3IGNvbnRyYWN0IG9iamVjdCB5b3UgZ2l2ZSBpdCB0aGUgSlNPTiBpbnRlcmZhY2Ugb2YgdGhlIHJlc3BlY3RpdmUgc21hcnQgY29udHJhY3QgYW5kXG4gKiB3ZWIzIHdpbGwgYXV0byBjb252ZXJ0IGFsbCBjYWxscyBpbnRvIGxvdyBsZXZlbCBBQkkgY2FsbHMgb3ZlciBSUEMgZm9yIHlvdS5cbiAqIFRoaXMgYWxsb3dzIHlvdSB0byBpbnRlcmFjdCB3aXRoIHNtYXJ0IGNvbnRyYWN0cyBhcyBpZiB0aGV5IHdlcmUgSmF2YVNjcmlwdCBvYmplY3RzLlxuICpcbiAqIFRvIHVzZSBpdCBzdGFuZGFsb25lOlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBDb250cmFjdCA9IHJlcXVpcmUoJ3dlYjMtZXRoLWNvbnRyYWN0Jyk7XG4gKlxuICogLy8gc2V0IHByb3ZpZGVyIGZvciBhbGwgbGF0ZXIgaW5zdGFuY2VzIHRvIHVzZVxuICogQ29udHJhY3Quc2V0UHJvdmlkZXIoJ3dzOi8vbG9jYWxob3N0Ojg1NDYnKTtcbiAqXG4gKiBjb25zdCBjb250cmFjdCA9IG5ldyBDb250cmFjdChqc29uSW50ZXJmYWNlLCBhZGRyZXNzKTtcbiAqXG4gKiBjb250cmFjdC5tZXRob2RzLnNvbUZ1bmMoKS5zZW5kKHtmcm9tOiAuLi4ufSlcbiAqIC5vbigncmVjZWlwdCcsIGZ1bmN0aW9uKCl7XG4gKiAgICAuLi5cbiAqIH0pO1xuICogYGBgXG4gKi9cbi8qKlxuICogVGhpcyBjb21tZW50IF9zdXBwb3J0czNfIFtNYXJrZG93bl0oaHR0cHM6Ly9tYXJrZWQuanMub3JnLylcbiAqL1xuY29uc3QgY29udHJhY3RfanNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyYWN0LmpzXCIpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2VuY29kaW5nLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb250cmFjdC5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nX3N1YnNjcmlwdGlvbi5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXMuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpLCBleHBvcnRzKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbnRyYWN0X2pzXzEuQ29udHJhY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/index.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/log_subscription.js":
/*!***************************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/log_subscription.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LogsSubscription = void 0;\nconst web3_core_1 = __webpack_require__(/*! web3-core */ \"(api)/./src/pages/api/node_modules/web3-core/lib/commonjs/index.js\");\nconst web3_eth_1 = __webpack_require__(/*! web3-eth */ \"(api)/./src/pages/api/node_modules/web3-eth/lib/commonjs/index.js\");\n/**\n * LogSubscription to be used to subscribe to events logs.\n *\n * Following events are supported and can be accessed with either {@link LogsSubscription.once} or ${@link LogsSubscription.on} methods.\n *\n * - **connected**: Emitted when the subscription is connected.\n * - **data**: Fires on each incoming event with the event object as argument.\n * - **changed**: Fires on each event which was removed from the blockchain. The event will have the additional property `removed: true`.\n * - **error**: Fires on each error.\n *\n * ```ts\n * const subscription = await myContract.events.MyEvent({\n *   filter: {myIndexedParam: [20,23], myOtherIndexedParam: '0x123456789...'}, // Using an array means OR: e.g. 20 or 23\n *   fromBlock: 0\n * });\n *\n * subscription.on(\"connected\", function(subscriptionId){\n *   console.log(subscriptionId);\n * });\n *\n * subscription.on('data', function(event){\n *   console.log(event); // same results as the optional callback above\n * });\n *\n * subscription.on('changed', function(event){\n *   // remove event from local database\n * })\n *\n * subscription.on('error', function(error, receipt) { // If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.\n *   ...\n * });\n *\n * // event output example\n * > {\n *   returnValues: {\n *       myIndexedParam: 20,\n *       myOtherIndexedParam: '0x123456789...',\n *       myNonIndexParam: 'My String'\n *   },\n *   raw: {\n *       data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *       topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n *   },\n *   event: 'MyEvent',\n *   signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   logIndex: 0,\n *   transactionIndex: 0,\n *   transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *   blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   blockNumber: 1234,\n *   address: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'\n * }\n * ```\n */\nclass LogsSubscription extends web3_core_1.Web3Subscription {\n    constructor(args, options) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        super(args, options);\n        this.address = args.address;\n        this.topics = args.topics;\n        this.abi = args.abi;\n        this.jsonInterface = args.jsonInterface;\n    }\n    _buildSubscriptionParams() {\n        return ['logs', { address: this.address, topics: this.topics }];\n    }\n    formatSubscriptionResult(data) {\n        return (0, web3_eth_1.decodeEventABI)(this.abi, data, this.jsonInterface, super.returnFormat);\n    }\n}\nexports.LogsSubscription = LogsSubscription;\n//# sourceMappingURL=log_subscription.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvbG9nX3N1YnNjcmlwdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLG9CQUFvQixtQkFBTyxDQUFDLHFGQUFXO0FBQ3ZDLG1CQUFtQixtQkFBTyxDQUFDLG1GQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSw2QkFBNkIsS0FBSywyQkFBMkI7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0RBQStEO0FBQzdFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0Q0FBNEM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2lzc3Vlcl9ob2xkZXJfdmVyaWZpZXIvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvbG9nX3N1YnNjcmlwdGlvbi5qcz9jZjRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvZ3NTdWJzY3JpcHRpb24gPSB2b2lkIDA7XG5jb25zdCB3ZWIzX2NvcmVfMSA9IHJlcXVpcmUoXCJ3ZWIzLWNvcmVcIik7XG5jb25zdCB3ZWIzX2V0aF8xID0gcmVxdWlyZShcIndlYjMtZXRoXCIpO1xuLyoqXG4gKiBMb2dTdWJzY3JpcHRpb24gdG8gYmUgdXNlZCB0byBzdWJzY3JpYmUgdG8gZXZlbnRzIGxvZ3MuXG4gKlxuICogRm9sbG93aW5nIGV2ZW50cyBhcmUgc3VwcG9ydGVkIGFuZCBjYW4gYmUgYWNjZXNzZWQgd2l0aCBlaXRoZXIge0BsaW5rIExvZ3NTdWJzY3JpcHRpb24ub25jZX0gb3IgJHtAbGluayBMb2dzU3Vic2NyaXB0aW9uLm9ufSBtZXRob2RzLlxuICpcbiAqIC0gKipjb25uZWN0ZWQqKjogRW1pdHRlZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24gaXMgY29ubmVjdGVkLlxuICogLSAqKmRhdGEqKjogRmlyZXMgb24gZWFjaCBpbmNvbWluZyBldmVudCB3aXRoIHRoZSBldmVudCBvYmplY3QgYXMgYXJndW1lbnQuXG4gKiAtICoqY2hhbmdlZCoqOiBGaXJlcyBvbiBlYWNoIGV2ZW50IHdoaWNoIHdhcyByZW1vdmVkIGZyb20gdGhlIGJsb2NrY2hhaW4uIFRoZSBldmVudCB3aWxsIGhhdmUgdGhlIGFkZGl0aW9uYWwgcHJvcGVydHkgYHJlbW92ZWQ6IHRydWVgLlxuICogLSAqKmVycm9yKio6IEZpcmVzIG9uIGVhY2ggZXJyb3IuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IG15Q29udHJhY3QuZXZlbnRzLk15RXZlbnQoe1xuICogICBmaWx0ZXI6IHtteUluZGV4ZWRQYXJhbTogWzIwLDIzXSwgbXlPdGhlckluZGV4ZWRQYXJhbTogJzB4MTIzNDU2Nzg5Li4uJ30sIC8vIFVzaW5nIGFuIGFycmF5IG1lYW5zIE9SOiBlLmcuIDIwIG9yIDIzXG4gKiAgIGZyb21CbG9jazogMFxuICogfSk7XG4gKlxuICogc3Vic2NyaXB0aW9uLm9uKFwiY29ubmVjdGVkXCIsIGZ1bmN0aW9uKHN1YnNjcmlwdGlvbklkKXtcbiAqICAgY29uc29sZS5sb2coc3Vic2NyaXB0aW9uSWQpO1xuICogfSk7XG4gKlxuICogc3Vic2NyaXB0aW9uLm9uKCdkYXRhJywgZnVuY3Rpb24oZXZlbnQpe1xuICogICBjb25zb2xlLmxvZyhldmVudCk7IC8vIHNhbWUgcmVzdWx0cyBhcyB0aGUgb3B0aW9uYWwgY2FsbGJhY2sgYWJvdmVcbiAqIH0pO1xuICpcbiAqIHN1YnNjcmlwdGlvbi5vbignY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAqICAgLy8gcmVtb3ZlIGV2ZW50IGZyb20gbG9jYWwgZGF0YWJhc2VcbiAqIH0pXG4gKlxuICogc3Vic2NyaXB0aW9uLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycm9yLCByZWNlaXB0KSB7IC8vIElmIHRoZSB0cmFuc2FjdGlvbiB3YXMgcmVqZWN0ZWQgYnkgdGhlIG5ldHdvcmsgd2l0aCBhIHJlY2VpcHQsIHRoZSBzZWNvbmQgcGFyYW1ldGVyIHdpbGwgYmUgdGhlIHJlY2VpcHQuXG4gKiAgIC4uLlxuICogfSk7XG4gKlxuICogLy8gZXZlbnQgb3V0cHV0IGV4YW1wbGVcbiAqID4ge1xuICogICByZXR1cm5WYWx1ZXM6IHtcbiAqICAgICAgIG15SW5kZXhlZFBhcmFtOiAyMCxcbiAqICAgICAgIG15T3RoZXJJbmRleGVkUGFyYW06ICcweDEyMzQ1Njc4OS4uLicsXG4gKiAgICAgICBteU5vbkluZGV4UGFyYW06ICdNeSBTdHJpbmcnXG4gKiAgIH0sXG4gKiAgIHJhdzoge1xuICogICAgICAgZGF0YTogJzB4N2Y5ZmFkZTFjMGQ1N2E3YWY2NmFiNGVhZDc5ZmFkZTFjMGQ1N2E3YWY2NmFiNGVhZDdjMmMyZWI3YjExYTkxMzg1JyxcbiAqICAgICAgIHRvcGljczogWycweGZkNDNhZGUxYzA5ZmFkZTFjMGQ1N2E3YWY2NmFiNGVhZDdjMmMyZWI3YjExYTkxZmZkZDU3YTdhZjY2YWI0ZWFkNycsICcweDdmOWZhZGUxYzBkNTdhN2FmNjZhYjRlYWQ3OWZhZGUxYzBkNTdhN2FmNjZhYjRlYWQ3YzJjMmViN2IxMWE5MTM4NSddXG4gKiAgIH0sXG4gKiAgIGV2ZW50OiAnTXlFdmVudCcsXG4gKiAgIHNpZ25hdHVyZTogJzB4ZmQ0M2FkZTFjMDlmYWRlMWMwZDU3YTdhZjY2YWI0ZWFkN2MyYzJlYjdiMTFhOTFmZmRkNTdhN2FmNjZhYjRlYWQ3JyxcbiAqICAgbG9nSW5kZXg6IDAsXG4gKiAgIHRyYW5zYWN0aW9uSW5kZXg6IDAsXG4gKiAgIHRyYW5zYWN0aW9uSGFzaDogJzB4N2Y5ZmFkZTFjMGQ1N2E3YWY2NmFiNGVhZDc5ZmFkZTFjMGQ1N2E3YWY2NmFiNGVhZDdjMmMyZWI3YjExYTkxMzg1JyxcbiAqICAgYmxvY2tIYXNoOiAnMHhmZDQzYWRlMWMwOWZhZGUxYzBkNTdhN2FmNjZhYjRlYWQ3YzJjMmViN2IxMWE5MWZmZGQ1N2E3YWY2NmFiNGVhZDcnLFxuICogICBibG9ja051bWJlcjogMTIzNCxcbiAqICAgYWRkcmVzczogJzB4ZGUwQjI5NTY2OWE5RkQ5M2Q1RjI4RDlFYzg1RTQwZjRjYjY5N0JBZSdcbiAqIH1cbiAqIGBgYFxuICovXG5jbGFzcyBMb2dzU3Vic2NyaXB0aW9uIGV4dGVuZHMgd2ViM19jb3JlXzEuV2ViM1N1YnNjcmlwdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYXJncywgb3B0aW9ucykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICBzdXBlcihhcmdzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYXJncy5hZGRyZXNzO1xuICAgICAgICB0aGlzLnRvcGljcyA9IGFyZ3MudG9waWNzO1xuICAgICAgICB0aGlzLmFiaSA9IGFyZ3MuYWJpO1xuICAgICAgICB0aGlzLmpzb25JbnRlcmZhY2UgPSBhcmdzLmpzb25JbnRlcmZhY2U7XG4gICAgfVxuICAgIF9idWlsZFN1YnNjcmlwdGlvblBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIFsnbG9ncycsIHsgYWRkcmVzczogdGhpcy5hZGRyZXNzLCB0b3BpY3M6IHRoaXMudG9waWNzIH1dO1xuICAgIH1cbiAgICBmb3JtYXRTdWJzY3JpcHRpb25SZXN1bHQoZGF0YSkge1xuICAgICAgICByZXR1cm4gKDAsIHdlYjNfZXRoXzEuZGVjb2RlRXZlbnRBQkkpKHRoaXMuYWJpLCBkYXRhLCB0aGlzLmpzb25JbnRlcmZhY2UsIHN1cGVyLnJldHVybkZvcm1hdCk7XG4gICAgfVxufVxuZXhwb3J0cy5Mb2dzU3Vic2NyaXB0aW9uID0gTG9nc1N1YnNjcmlwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ19zdWJzY3JpcHRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/log_subscription.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/types.js":
/*!****************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/types.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNzdWVyX2hvbGRlcl92ZXJpZmllci8uL3NyYy9wYWdlcy9hcGkvbm9kZV9tb2R1bGVzL3dlYjMtZXRoLWNvbnRyYWN0L2xpYi9jb21tb25qcy90eXBlcy5qcz80ZTU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcblRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbndlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxud2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbmFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/types.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/utils.js":
/*!****************************************************************************!*\
  !*** ./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/utils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCreateAccessListParams = exports.isWeb3ContractContext = exports.getEstimateGasParams = exports.getEthTxCallParams = exports.getSendTxParams = void 0;\nconst web3_errors_1 = __webpack_require__(/*! web3-errors */ \"(api)/./src/pages/api/node_modules/web3-errors/lib/commonjs/index.js\");\nconst web3_utils_1 = __webpack_require__(/*! web3-utils */ \"(api)/./src/pages/api/node_modules/web3-utils/lib/commonjs/index.js\");\nconst encoding_js_1 = __webpack_require__(/*! ./encoding.js */ \"(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/encoding.js\");\nconst dataInputEncodeMethodHelper = (txParams, abi, params, dataInputFill) => {\n    var _a, _b;\n    const tx = {};\n    if (!(0, web3_utils_1.isNullish)(txParams.data) || dataInputFill === 'both') {\n        tx.data = (0, encoding_js_1.encodeMethodABI)(abi, params, ((_a = txParams.data) !== null && _a !== void 0 ? _a : txParams.input));\n    }\n    if (!(0, web3_utils_1.isNullish)(txParams.input) || dataInputFill === 'both') {\n        tx.input = (0, encoding_js_1.encodeMethodABI)(abi, params, ((_b = txParams.input) !== null && _b !== void 0 ? _b : txParams.data));\n    }\n    // if input and data is empty, use web3config default\n    if ((0, web3_utils_1.isNullish)(tx.input) && (0, web3_utils_1.isNullish)(tx.data)) {\n        tx[dataInputFill] = (0, encoding_js_1.encodeMethodABI)(abi, params);\n    }\n    return { data: tx.data, input: tx.input };\n};\nconst getSendTxParams = ({ abi, params, options, contractOptions, }) => {\n    var _a, _b, _c;\n    const deploymentCall = (_c = (_b = (_a = options === null || options === void 0 ? void 0 : options.input) !== null && _a !== void 0 ? _a : options === null || options === void 0 ? void 0 : options.data) !== null && _b !== void 0 ? _b : contractOptions.input) !== null && _c !== void 0 ? _c : contractOptions.data;\n    if (!deploymentCall && !(options === null || options === void 0 ? void 0 : options.to) && !contractOptions.address) {\n        throw new web3_errors_1.Web3ContractError('Contract address not specified');\n    }\n    if (!(options === null || options === void 0 ? void 0 : options.from) && !contractOptions.from) {\n        throw new web3_errors_1.Web3ContractError('Contract \"from\" address not specified');\n    }\n    let txParams = (0, web3_utils_1.mergeDeep)({\n        to: contractOptions.address,\n        gas: contractOptions.gas,\n        gasPrice: contractOptions.gasPrice,\n        from: contractOptions.from,\n        input: contractOptions.input,\n        maxPriorityFeePerGas: contractOptions.maxPriorityFeePerGas,\n        maxFeePerGas: contractOptions.maxFeePerGas,\n        data: contractOptions.data,\n    }, options);\n    const dataInput = dataInputEncodeMethodHelper(txParams, abi, params, options === null || options === void 0 ? void 0 : options.dataInputFill);\n    txParams = Object.assign(Object.assign({}, txParams), { data: dataInput.data, input: dataInput.input });\n    return txParams;\n};\nexports.getSendTxParams = getSendTxParams;\nconst getEthTxCallParams = ({ abi, params, options, contractOptions, }) => {\n    if (!(options === null || options === void 0 ? void 0 : options.to) && !contractOptions.address) {\n        throw new web3_errors_1.Web3ContractError('Contract address not specified');\n    }\n    let txParams = (0, web3_utils_1.mergeDeep)({\n        to: contractOptions.address,\n        gas: contractOptions.gas,\n        gasPrice: contractOptions.gasPrice,\n        from: contractOptions.from,\n        input: contractOptions.input,\n        maxPriorityFeePerGas: contractOptions.maxPriorityFeePerGas,\n        maxFeePerGas: contractOptions.maxFeePerGas,\n        data: contractOptions.data,\n    }, options);\n    const dataInput = dataInputEncodeMethodHelper(txParams, abi, params, options === null || options === void 0 ? void 0 : options.dataInputFill);\n    txParams = Object.assign(Object.assign({}, txParams), { data: dataInput.data, input: dataInput.input });\n    return txParams;\n};\nexports.getEthTxCallParams = getEthTxCallParams;\nconst getEstimateGasParams = ({ abi, params, options, contractOptions, }) => {\n    let txParams = (0, web3_utils_1.mergeDeep)({\n        to: contractOptions.address,\n        gas: contractOptions.gas,\n        gasPrice: contractOptions.gasPrice,\n        from: contractOptions.from,\n        input: contractOptions.input,\n        data: contractOptions.data,\n    }, options);\n    const dataInput = dataInputEncodeMethodHelper(txParams, abi, params, options === null || options === void 0 ? void 0 : options.dataInputFill);\n    txParams = Object.assign(Object.assign({}, txParams), { data: dataInput.data, input: dataInput.input });\n    return txParams;\n};\nexports.getEstimateGasParams = getEstimateGasParams;\nconst isWeb3ContractContext = (options) => typeof options === 'object' &&\n    !(0, web3_utils_1.isNullish)(options) &&\n    Object.keys(options).length !== 0 &&\n    !(0, web3_utils_1.isContractInitOptions)(options);\nexports.isWeb3ContractContext = isWeb3ContractContext;\nconst getCreateAccessListParams = ({ abi, params, options, contractOptions, }) => {\n    if (!(options === null || options === void 0 ? void 0 : options.to) && !contractOptions.address) {\n        throw new web3_errors_1.Web3ContractError('Contract address not specified');\n    }\n    if (!(options === null || options === void 0 ? void 0 : options.from) && !contractOptions.from) {\n        throw new web3_errors_1.Web3ContractError('Contract \"from\" address not specified');\n    }\n    let txParams = (0, web3_utils_1.mergeDeep)({\n        to: contractOptions.address,\n        gas: contractOptions.gas,\n        gasPrice: contractOptions.gasPrice,\n        from: contractOptions.from,\n        input: contractOptions.input,\n        maxPriorityFeePerGas: contractOptions.maxPriorityFeePerGas,\n        maxFeePerGas: contractOptions.maxFeePerGas,\n        data: contractOptions.data,\n    }, options);\n    const dataInput = dataInputEncodeMethodHelper(txParams, abi, params, options === null || options === void 0 ? void 0 : options.dataInputFill);\n    txParams = Object.assign(Object.assign({}, txParams), { data: dataInput.data, input: dataInput.input });\n    return txParams;\n};\nexports.getCreateAccessListParams = getCreateAccessListParams;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vZGVfbW9kdWxlcy93ZWIzLWV0aC1jb250cmFjdC9saWIvY29tbW9uanMvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxHQUFHLDZCQUE2QixHQUFHLDRCQUE0QixHQUFHLDBCQUEwQixHQUFHLHVCQUF1QjtBQUN2SixzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBYTtBQUMzQyxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBWTtBQUN6QyxzQkFBc0IsbUJBQU8sQ0FBQyxvR0FBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDJCQUEyQix3Q0FBd0M7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZDQUE2QyxlQUFlLDhDQUE4QztBQUMxRztBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDhCQUE4Qix3Q0FBd0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLGVBQWUsOENBQThDO0FBQzFHO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsZ0NBQWdDLHdDQUF3QztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZDQUE2QyxlQUFlLDhDQUE4QztBQUMxRztBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHFDQUFxQyx3Q0FBd0M7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLGVBQWUsOENBQThDO0FBQzFHO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pc3N1ZXJfaG9sZGVyX3ZlcmlmaWVyLy4vc3JjL3BhZ2VzL2FwaS9ub2RlX21vZHVsZXMvd2ViMy1ldGgtY29udHJhY3QvbGliL2NvbW1vbmpzL3V0aWxzLmpzP2IwNTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxud2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG53ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Q3JlYXRlQWNjZXNzTGlzdFBhcmFtcyA9IGV4cG9ydHMuaXNXZWIzQ29udHJhY3RDb250ZXh0ID0gZXhwb3J0cy5nZXRFc3RpbWF0ZUdhc1BhcmFtcyA9IGV4cG9ydHMuZ2V0RXRoVHhDYWxsUGFyYW1zID0gZXhwb3J0cy5nZXRTZW5kVHhQYXJhbXMgPSB2b2lkIDA7XG5jb25zdCB3ZWIzX2Vycm9yc18xID0gcmVxdWlyZShcIndlYjMtZXJyb3JzXCIpO1xuY29uc3Qgd2ViM191dGlsc18xID0gcmVxdWlyZShcIndlYjMtdXRpbHNcIik7XG5jb25zdCBlbmNvZGluZ19qc18xID0gcmVxdWlyZShcIi4vZW5jb2RpbmcuanNcIik7XG5jb25zdCBkYXRhSW5wdXRFbmNvZGVNZXRob2RIZWxwZXIgPSAodHhQYXJhbXMsIGFiaSwgcGFyYW1zLCBkYXRhSW5wdXRGaWxsKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB0eCA9IHt9O1xuICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHR4UGFyYW1zLmRhdGEpIHx8IGRhdGFJbnB1dEZpbGwgPT09ICdib3RoJykge1xuICAgICAgICB0eC5kYXRhID0gKDAsIGVuY29kaW5nX2pzXzEuZW5jb2RlTWV0aG9kQUJJKShhYmksIHBhcmFtcywgKChfYSA9IHR4UGFyYW1zLmRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHR4UGFyYW1zLmlucHV0KSk7XG4gICAgfVxuICAgIGlmICghKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHR4UGFyYW1zLmlucHV0KSB8fCBkYXRhSW5wdXRGaWxsID09PSAnYm90aCcpIHtcbiAgICAgICAgdHguaW5wdXQgPSAoMCwgZW5jb2RpbmdfanNfMS5lbmNvZGVNZXRob2RBQkkpKGFiaSwgcGFyYW1zLCAoKF9iID0gdHhQYXJhbXMuaW5wdXQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHR4UGFyYW1zLmRhdGEpKTtcbiAgICB9XG4gICAgLy8gaWYgaW5wdXQgYW5kIGRhdGEgaXMgZW1wdHksIHVzZSB3ZWIzY29uZmlnIGRlZmF1bHRcbiAgICBpZiAoKDAsIHdlYjNfdXRpbHNfMS5pc051bGxpc2gpKHR4LmlucHV0KSAmJiAoMCwgd2ViM191dGlsc18xLmlzTnVsbGlzaCkodHguZGF0YSkpIHtcbiAgICAgICAgdHhbZGF0YUlucHV0RmlsbF0gPSAoMCwgZW5jb2RpbmdfanNfMS5lbmNvZGVNZXRob2RBQkkpKGFiaSwgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogdHguZGF0YSwgaW5wdXQ6IHR4LmlucHV0IH07XG59O1xuY29uc3QgZ2V0U2VuZFR4UGFyYW1zID0gKHsgYWJpLCBwYXJhbXMsIG9wdGlvbnMsIGNvbnRyYWN0T3B0aW9ucywgfSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGRlcGxveW1lbnRDYWxsID0gKF9jID0gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlucHV0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29udHJhY3RPcHRpb25zLmlucHV0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb250cmFjdE9wdGlvbnMuZGF0YTtcbiAgICBpZiAoIWRlcGxveW1lbnRDYWxsICYmICEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRvKSAmJiAhY29udHJhY3RPcHRpb25zLmFkZHJlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuV2ViM0NvbnRyYWN0RXJyb3IoJ0NvbnRyYWN0IGFkZHJlc3Mgbm90IHNwZWNpZmllZCcpO1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZnJvbSkgJiYgIWNvbnRyYWN0T3B0aW9ucy5mcm9tKSB7XG4gICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLldlYjNDb250cmFjdEVycm9yKCdDb250cmFjdCBcImZyb21cIiBhZGRyZXNzIG5vdCBzcGVjaWZpZWQnKTtcbiAgICB9XG4gICAgbGV0IHR4UGFyYW1zID0gKDAsIHdlYjNfdXRpbHNfMS5tZXJnZURlZXApKHtcbiAgICAgICAgdG86IGNvbnRyYWN0T3B0aW9ucy5hZGRyZXNzLFxuICAgICAgICBnYXM6IGNvbnRyYWN0T3B0aW9ucy5nYXMsXG4gICAgICAgIGdhc1ByaWNlOiBjb250cmFjdE9wdGlvbnMuZ2FzUHJpY2UsXG4gICAgICAgIGZyb206IGNvbnRyYWN0T3B0aW9ucy5mcm9tLFxuICAgICAgICBpbnB1dDogY29udHJhY3RPcHRpb25zLmlucHV0LFxuICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogY29udHJhY3RPcHRpb25zLm1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICBtYXhGZWVQZXJHYXM6IGNvbnRyYWN0T3B0aW9ucy5tYXhGZWVQZXJHYXMsXG4gICAgICAgIGRhdGE6IGNvbnRyYWN0T3B0aW9ucy5kYXRhLFxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IGRhdGFJbnB1dCA9IGRhdGFJbnB1dEVuY29kZU1ldGhvZEhlbHBlcih0eFBhcmFtcywgYWJpLCBwYXJhbXMsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhSW5wdXRGaWxsKTtcbiAgICB0eFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHhQYXJhbXMpLCB7IGRhdGE6IGRhdGFJbnB1dC5kYXRhLCBpbnB1dDogZGF0YUlucHV0LmlucHV0IH0pO1xuICAgIHJldHVybiB0eFBhcmFtcztcbn07XG5leHBvcnRzLmdldFNlbmRUeFBhcmFtcyA9IGdldFNlbmRUeFBhcmFtcztcbmNvbnN0IGdldEV0aFR4Q2FsbFBhcmFtcyA9ICh7IGFiaSwgcGFyYW1zLCBvcHRpb25zLCBjb250cmFjdE9wdGlvbnMsIH0pID0+IHtcbiAgICBpZiAoIShvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudG8pICYmICFjb250cmFjdE9wdGlvbnMuYWRkcmVzcykge1xuICAgICAgICB0aHJvdyBuZXcgd2ViM19lcnJvcnNfMS5XZWIzQ29udHJhY3RFcnJvcignQ29udHJhY3QgYWRkcmVzcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgfVxuICAgIGxldCB0eFBhcmFtcyA9ICgwLCB3ZWIzX3V0aWxzXzEubWVyZ2VEZWVwKSh7XG4gICAgICAgIHRvOiBjb250cmFjdE9wdGlvbnMuYWRkcmVzcyxcbiAgICAgICAgZ2FzOiBjb250cmFjdE9wdGlvbnMuZ2FzLFxuICAgICAgICBnYXNQcmljZTogY29udHJhY3RPcHRpb25zLmdhc1ByaWNlLFxuICAgICAgICBmcm9tOiBjb250cmFjdE9wdGlvbnMuZnJvbSxcbiAgICAgICAgaW5wdXQ6IGNvbnRyYWN0T3B0aW9ucy5pbnB1dCxcbiAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IGNvbnRyYWN0T3B0aW9ucy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgbWF4RmVlUGVyR2FzOiBjb250cmFjdE9wdGlvbnMubWF4RmVlUGVyR2FzLFxuICAgICAgICBkYXRhOiBjb250cmFjdE9wdGlvbnMuZGF0YSxcbiAgICB9LCBvcHRpb25zKTtcbiAgICBjb25zdCBkYXRhSW5wdXQgPSBkYXRhSW5wdXRFbmNvZGVNZXRob2RIZWxwZXIodHhQYXJhbXMsIGFiaSwgcGFyYW1zLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YUlucHV0RmlsbCk7XG4gICAgdHhQYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHR4UGFyYW1zKSwgeyBkYXRhOiBkYXRhSW5wdXQuZGF0YSwgaW5wdXQ6IGRhdGFJbnB1dC5pbnB1dCB9KTtcbiAgICByZXR1cm4gdHhQYXJhbXM7XG59O1xuZXhwb3J0cy5nZXRFdGhUeENhbGxQYXJhbXMgPSBnZXRFdGhUeENhbGxQYXJhbXM7XG5jb25zdCBnZXRFc3RpbWF0ZUdhc1BhcmFtcyA9ICh7IGFiaSwgcGFyYW1zLCBvcHRpb25zLCBjb250cmFjdE9wdGlvbnMsIH0pID0+IHtcbiAgICBsZXQgdHhQYXJhbXMgPSAoMCwgd2ViM191dGlsc18xLm1lcmdlRGVlcCkoe1xuICAgICAgICB0bzogY29udHJhY3RPcHRpb25zLmFkZHJlc3MsXG4gICAgICAgIGdhczogY29udHJhY3RPcHRpb25zLmdhcyxcbiAgICAgICAgZ2FzUHJpY2U6IGNvbnRyYWN0T3B0aW9ucy5nYXNQcmljZSxcbiAgICAgICAgZnJvbTogY29udHJhY3RPcHRpb25zLmZyb20sXG4gICAgICAgIGlucHV0OiBjb250cmFjdE9wdGlvbnMuaW5wdXQsXG4gICAgICAgIGRhdGE6IGNvbnRyYWN0T3B0aW9ucy5kYXRhLFxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IGRhdGFJbnB1dCA9IGRhdGFJbnB1dEVuY29kZU1ldGhvZEhlbHBlcih0eFBhcmFtcywgYWJpLCBwYXJhbXMsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhSW5wdXRGaWxsKTtcbiAgICB0eFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHhQYXJhbXMpLCB7IGRhdGE6IGRhdGFJbnB1dC5kYXRhLCBpbnB1dDogZGF0YUlucHV0LmlucHV0IH0pO1xuICAgIHJldHVybiB0eFBhcmFtcztcbn07XG5leHBvcnRzLmdldEVzdGltYXRlR2FzUGFyYW1zID0gZ2V0RXN0aW1hdGVHYXNQYXJhbXM7XG5jb25zdCBpc1dlYjNDb250cmFjdENvbnRleHQgPSAob3B0aW9ucykgPT4gdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmXG4gICAgISgwLCB3ZWIzX3V0aWxzXzEuaXNOdWxsaXNoKShvcHRpb25zKSAmJlxuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCAhPT0gMCAmJlxuICAgICEoMCwgd2ViM191dGlsc18xLmlzQ29udHJhY3RJbml0T3B0aW9ucykob3B0aW9ucyk7XG5leHBvcnRzLmlzV2ViM0NvbnRyYWN0Q29udGV4dCA9IGlzV2ViM0NvbnRyYWN0Q29udGV4dDtcbmNvbnN0IGdldENyZWF0ZUFjY2Vzc0xpc3RQYXJhbXMgPSAoeyBhYmksIHBhcmFtcywgb3B0aW9ucywgY29udHJhY3RPcHRpb25zLCB9KSA9PiB7XG4gICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRvKSAmJiAhY29udHJhY3RPcHRpb25zLmFkZHJlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IHdlYjNfZXJyb3JzXzEuV2ViM0NvbnRyYWN0RXJyb3IoJ0NvbnRyYWN0IGFkZHJlc3Mgbm90IHNwZWNpZmllZCcpO1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZnJvbSkgJiYgIWNvbnRyYWN0T3B0aW9ucy5mcm9tKSB7XG4gICAgICAgIHRocm93IG5ldyB3ZWIzX2Vycm9yc18xLldlYjNDb250cmFjdEVycm9yKCdDb250cmFjdCBcImZyb21cIiBhZGRyZXNzIG5vdCBzcGVjaWZpZWQnKTtcbiAgICB9XG4gICAgbGV0IHR4UGFyYW1zID0gKDAsIHdlYjNfdXRpbHNfMS5tZXJnZURlZXApKHtcbiAgICAgICAgdG86IGNvbnRyYWN0T3B0aW9ucy5hZGRyZXNzLFxuICAgICAgICBnYXM6IGNvbnRyYWN0T3B0aW9ucy5nYXMsXG4gICAgICAgIGdhc1ByaWNlOiBjb250cmFjdE9wdGlvbnMuZ2FzUHJpY2UsXG4gICAgICAgIGZyb206IGNvbnRyYWN0T3B0aW9ucy5mcm9tLFxuICAgICAgICBpbnB1dDogY29udHJhY3RPcHRpb25zLmlucHV0LFxuICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogY29udHJhY3RPcHRpb25zLm1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICBtYXhGZWVQZXJHYXM6IGNvbnRyYWN0T3B0aW9ucy5tYXhGZWVQZXJHYXMsXG4gICAgICAgIGRhdGE6IGNvbnRyYWN0T3B0aW9ucy5kYXRhLFxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IGRhdGFJbnB1dCA9IGRhdGFJbnB1dEVuY29kZU1ldGhvZEhlbHBlcih0eFBhcmFtcywgYWJpLCBwYXJhbXMsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhSW5wdXRGaWxsKTtcbiAgICB0eFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHhQYXJhbXMpLCB7IGRhdGE6IGRhdGFJbnB1dC5kYXRhLCBpbnB1dDogZGF0YUlucHV0LmlucHV0IH0pO1xuICAgIHJldHVybiB0eFBhcmFtcztcbn07XG5leHBvcnRzLmdldENyZWF0ZUFjY2Vzc0xpc3RQYXJhbXMgPSBnZXRDcmVhdGVBY2Nlc3NMaXN0UGFyYW1zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/node_modules/web3-eth-contract/lib/commonjs/utils.js\n");

/***/ })

};
;